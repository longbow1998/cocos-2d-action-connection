{"version":3,"sources":["file:///Users/longbow/node_modules/rc-virtual-list/lib/ScrollBar.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","_defineProperty2","_classCallCheck2","_createClass2","_inherits2","_createSuper2","React","_classnames","_raf","MIN_SIZE","getPageY","e","touches","pageY","ScrollBar","_React$Component","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","moveRaf","scrollbarRef","createRef","thumbRef","visibleTimeout","state","dragging","startTop","visible","delayHidden","clearTimeout","setState","setTimeout","onScrollbarTouchStart","preventDefault","onContainerMouseDown","stopPropagation","patchEvents","window","addEventListener","onMouseMove","onMouseUp","current","removeEvents","_this$scrollbarRef$cu","removeEventListener","onMouseDown","cancel","onStartMove","props","getTop","_this$state","onScroll","offsetY","newTop","enableScrollRange","getEnableScrollRange","enableHeightRange","getEnableHeightRange","ptg","newScrollTop","Math","ceil","onStopMove","getSpinHeight","_this$props","height","count","baseHeight","max","min","floor","_this$props2","scrollHeight","spinHeight","scrollTop","showScroll","_this$props3","key","componentDidMount","componentDidUpdate","prevProps","componentWillUnmount","render","_this$state2","prefixCls","top","canScroll","mergedVisible","createElement","ref","className","style","width","bottom","right","position","display","left","background","borderRadius","cursor","userSelect","Component","_cjsExports","___esModule","__esModule","_default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/classCallCheck';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/createClass';\nimport { __cjsMetaURL as _req4} from '@babel/runtime/helpers/inherits';\nimport { __cjsMetaURL as _req5} from '@babel/runtime/helpers/createSuper';\nimport { __cjsMetaURL as _req6} from 'react';\nimport { __cjsMetaURL as _req7} from 'classnames';\nimport { __cjsMetaURL as _req8} from 'rc-util/lib/raf';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = void 0;\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n var _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n var _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n var _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var _classnames = _interopRequireDefault(require(\"classnames\"));\n var _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\n var MIN_SIZE = 20;\n function getPageY(e) {\n   return 'touches' in e ? e.touches[0].pageY : e.pageY;\n }\n var ScrollBar = /*#__PURE__*/function (_React$Component) {\n   (0, _inherits2.default)(ScrollBar, _React$Component);\n   var _super = (0, _createSuper2.default)(ScrollBar);\n   function ScrollBar() {\n     var _this;\n     (0, _classCallCheck2.default)(this, ScrollBar);\n     for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n       args[_key] = arguments[_key];\n     }\n     _this = _super.call.apply(_super, [this].concat(args));\n     _this.moveRaf = null;\n     _this.scrollbarRef = /*#__PURE__*/React.createRef();\n     _this.thumbRef = /*#__PURE__*/React.createRef();\n     _this.visibleTimeout = null;\n     _this.state = {\n       dragging: false,\n       pageY: null,\n       startTop: null,\n       visible: false\n     };\n     _this.delayHidden = function () {\n       clearTimeout(_this.visibleTimeout);\n       _this.setState({\n         visible: true\n       });\n       _this.visibleTimeout = setTimeout(function () {\n         _this.setState({\n           visible: false\n         });\n       }, 2000);\n     };\n     _this.onScrollbarTouchStart = function (e) {\n       e.preventDefault();\n     };\n     _this.onContainerMouseDown = function (e) {\n       e.stopPropagation();\n       e.preventDefault();\n     };\n     _this.patchEvents = function () {\n       window.addEventListener('mousemove', _this.onMouseMove);\n       window.addEventListener('mouseup', _this.onMouseUp);\n       _this.thumbRef.current.addEventListener('touchmove', _this.onMouseMove);\n       _this.thumbRef.current.addEventListener('touchend', _this.onMouseUp);\n     };\n     _this.removeEvents = function () {\n       var _this$scrollbarRef$cu;\n       window.removeEventListener('mousemove', _this.onMouseMove);\n       window.removeEventListener('mouseup', _this.onMouseUp);\n       (_this$scrollbarRef$cu = _this.scrollbarRef.current) === null || _this$scrollbarRef$cu === void 0 ? void 0 : _this$scrollbarRef$cu.removeEventListener('touchstart', _this.onScrollbarTouchStart);\n       if (_this.thumbRef.current) {\n         _this.thumbRef.current.removeEventListener('touchstart', _this.onMouseDown);\n         _this.thumbRef.current.removeEventListener('touchmove', _this.onMouseMove);\n         _this.thumbRef.current.removeEventListener('touchend', _this.onMouseUp);\n       }\n       _raf.default.cancel(_this.moveRaf);\n     };\n     _this.onMouseDown = function (e) {\n       var onStartMove = _this.props.onStartMove;\n       _this.setState({\n         dragging: true,\n         pageY: getPageY(e),\n         startTop: _this.getTop()\n       });\n       onStartMove();\n       _this.patchEvents();\n       e.stopPropagation();\n       e.preventDefault();\n     };\n     _this.onMouseMove = function (e) {\n       var _this$state = _this.state,\n         dragging = _this$state.dragging,\n         pageY = _this$state.pageY,\n         startTop = _this$state.startTop;\n       var onScroll = _this.props.onScroll;\n       _raf.default.cancel(_this.moveRaf);\n       if (dragging) {\n         var offsetY = getPageY(e) - pageY;\n         var newTop = startTop + offsetY;\n         var enableScrollRange = _this.getEnableScrollRange();\n         var enableHeightRange = _this.getEnableHeightRange();\n         var ptg = enableHeightRange ? newTop / enableHeightRange : 0;\n         var newScrollTop = Math.ceil(ptg * enableScrollRange);\n         _this.moveRaf = (0, _raf.default)(function () {\n           onScroll(newScrollTop);\n         });\n       }\n     };\n     _this.onMouseUp = function () {\n       var onStopMove = _this.props.onStopMove;\n       _this.setState({\n         dragging: false\n       });\n       onStopMove();\n       _this.removeEvents();\n     };\n     _this.getSpinHeight = function () {\n       var _this$props = _this.props,\n         height = _this$props.height,\n         count = _this$props.count;\n       var baseHeight = height / count * 10;\n       baseHeight = Math.max(baseHeight, MIN_SIZE);\n       baseHeight = Math.min(baseHeight, height / 2);\n       return Math.floor(baseHeight);\n     };\n     _this.getEnableScrollRange = function () {\n       var _this$props2 = _this.props,\n         scrollHeight = _this$props2.scrollHeight,\n         height = _this$props2.height;\n       return scrollHeight - height || 0;\n     };\n     _this.getEnableHeightRange = function () {\n       var height = _this.props.height;\n       var spinHeight = _this.getSpinHeight();\n       return height - spinHeight || 0;\n     };\n     _this.getTop = function () {\n       var scrollTop = _this.props.scrollTop;\n       var enableScrollRange = _this.getEnableScrollRange();\n       var enableHeightRange = _this.getEnableHeightRange();\n       if (scrollTop === 0 || enableScrollRange === 0) {\n         return 0;\n       }\n       var ptg = scrollTop / enableScrollRange;\n       return ptg * enableHeightRange;\n     };\n     _this.showScroll = function () {\n       var _this$props3 = _this.props,\n         height = _this$props3.height,\n         scrollHeight = _this$props3.scrollHeight;\n       return scrollHeight > height;\n     };\n     return _this;\n   }\n   (0, _createClass2.default)(ScrollBar, [{\n     key: \"componentDidMount\",\n     value: function componentDidMount() {\n       this.scrollbarRef.current.addEventListener('touchstart', this.onScrollbarTouchStart);\n       this.thumbRef.current.addEventListener('touchstart', this.onMouseDown);\n     }\n   }, {\n     key: \"componentDidUpdate\",\n     value: function componentDidUpdate(prevProps) {\n       if (prevProps.scrollTop !== this.props.scrollTop) {\n         this.delayHidden();\n       }\n     }\n   }, {\n     key: \"componentWillUnmount\",\n     value: function componentWillUnmount() {\n       this.removeEvents();\n       clearTimeout(this.visibleTimeout);\n     }\n   }, {\n     key: \"render\",\n     value:\n     // ====================== Render =======================\n     function render() {\n       var _this$state2 = this.state,\n         dragging = _this$state2.dragging,\n         visible = _this$state2.visible;\n       var prefixCls = this.props.prefixCls;\n       var spinHeight = this.getSpinHeight();\n       var top = this.getTop();\n       var canScroll = this.showScroll();\n       var mergedVisible = canScroll && visible;\n       return /*#__PURE__*/React.createElement(\"div\", {\n         ref: this.scrollbarRef,\n         className: (0, _classnames.default)(\"\".concat(prefixCls, \"-scrollbar\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-scrollbar-show\"), canScroll)),\n         style: {\n           width: 8,\n           top: 0,\n           bottom: 0,\n           right: 0,\n           position: 'absolute',\n           display: mergedVisible ? null : 'none'\n         },\n         onMouseDown: this.onContainerMouseDown,\n         onMouseMove: this.delayHidden\n       }, /*#__PURE__*/React.createElement(\"div\", {\n         ref: this.thumbRef,\n         className: (0, _classnames.default)(\"\".concat(prefixCls, \"-scrollbar-thumb\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-scrollbar-thumb-moving\"), dragging)),\n         style: {\n           width: '100%',\n           height: spinHeight,\n           top: top,\n           left: 0,\n           position: 'absolute',\n           background: 'rgba(0, 0, 0, 0.5)',\n           borderRadius: 99,\n           cursor: 'pointer',\n           userSelect: 'none'\n         },\n         onMouseDown: this.onMouseDown\n       }));\n     }\n   }]);\n   return ScrollBar;\n }(React.Component);\n exports.default = ScrollBar;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/defineProperty': _req1,\n  '@babel/runtime/helpers/classCallCheck': _req2,\n  '@babel/runtime/helpers/createClass': _req3,\n  '@babel/runtime/helpers/inherits': _req4,\n  '@babel/runtime/helpers/createSuper': _req5,\n  'react': _req6,\n  'classnames': _req7,\n  'rc-util/lib/raf': _req8,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}