{"version":3,"sources":["file:///Users/longbow/node_modules/antd/lib/form/hooks/useForm.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","useForm","_extends2","_slicedToArray2","_rcFieldForm","React","_scrollIntoViewIfNeeded","_util","toNamePathStr","name","namePath","toArray","join","form","_useRcForm","_useRcForm2","rcForm","itemsRef","useRef","wrapForm","useMemo","__INTERNAL__","itemRef","node","namePathStr","current","scrollToField","options","arguments","length","undefined","fieldId","getFieldId","document","getElementById","scrollMode","block","getFieldInstance","_cjsExports","___esModule","__esModule","_default","default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req3} from 'rc-field-form';\nimport { __cjsMetaURL as _req4} from 'react';\nimport { __cjsMetaURL as _req5} from 'scroll-into-view-if-needed';\nimport { __cjsMetaURL as _req6} from '../util';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = useForm;\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var _rcFieldForm = require(\"rc-field-form\");\n var React = _interopRequireWildcard(require(\"react\"));\n var _scrollIntoViewIfNeeded = _interopRequireDefault(require(\"scroll-into-view-if-needed\"));\n var _util = require(\"../util\");\n function toNamePathStr(name) {\n   var namePath = (0, _util.toArray)(name);\n   return namePath.join('_');\n }\n function useForm(form) {\n   var _useRcForm = (0, _rcFieldForm.useForm)(),\n     _useRcForm2 = (0, _slicedToArray2[\"default\"])(_useRcForm, 1),\n     rcForm = _useRcForm2[0];\n   var itemsRef = React.useRef({});\n   var wrapForm = React.useMemo(function () {\n     return form !== null && form !== void 0 ? form : (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, rcForm), {\n       __INTERNAL__: {\n         itemRef: function itemRef(name) {\n           return function (node) {\n             var namePathStr = toNamePathStr(name);\n             if (node) {\n               itemsRef.current[namePathStr] = node;\n             } else {\n               delete itemsRef.current[namePathStr];\n             }\n           };\n         }\n       },\n       scrollToField: function scrollToField(name) {\n         var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n         var namePath = (0, _util.toArray)(name);\n         var fieldId = (0, _util.getFieldId)(namePath, wrapForm.__INTERNAL__.name);\n         var node = fieldId ? document.getElementById(fieldId) : null;\n         if (node) {\n           (0, _scrollIntoViewIfNeeded[\"default\"])(node, (0, _extends2[\"default\"])({\n             scrollMode: 'if-needed',\n             block: 'nearest'\n           }, options));\n         }\n       },\n       getFieldInstance: function getFieldInstance(name) {\n         var namePathStr = toNamePathStr(name);\n         return itemsRef.current[namePathStr];\n       }\n     });\n   }, [form, rcForm]);\n   return [wrapForm];\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/slicedToArray': _req2,\n  'rc-field-form': _req3,\n  'react': _req4,\n  'scroll-into-view-if-needed': _req5,\n  '../util': _req6,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}