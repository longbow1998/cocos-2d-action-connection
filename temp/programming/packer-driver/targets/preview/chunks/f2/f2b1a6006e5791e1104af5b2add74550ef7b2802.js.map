{"version":3,"sources":["file:///Users/longbow/node_modules/rc-picker/lib/hooks/useRangeViewDates.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_typeof","Object","defineProperty","value","default","useRangeViewDates","_slicedToArray2","React","_interopRequireWildcard","_miscUtil","_dateUtil","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","getStartEndDistance","startDate","endDate","picker","generateConfig","startNext","getClosingViewDate","getDistance","compareFunc","start","end","isSameDecade","isSameYear","isSameMonth","getRangeViewDate","values","index","getValue","distance","_ref","defaultDates","_React$useState","useState","_React$useState2","defaultViewDates","setDefaultViewDates","_React$useState3","_React$useState4","viewDates","setInternalViewDates","getViewDate","getNow","setViewDate","viewDate","newViewDates","updateValues","anotherIndex","_cjsExports","___esModule","_default"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,6CAAhBC,Y;;AACgBC,MAAAA,K,8BAAhBD,Y;;AACgBE,MAAAA,K,qCAAhBF,Y;;AACgBG,MAAAA,K,UAAhBH,Y;;AACgBI,MAAAA,K,iBAAhBJ,Y;;AACgBK,MAAAA,K,iBAAhBL,Y;;;8BAIHA,Y,GAAe,cAAYM,G;;AACjCR,MAAAA,UAAU,CAACS,MAAX,CAAkBP,YAAlB,EAAgC,UAAUQ,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AAEA,YAAIC,sBAAsB,GAAGJ,OAAO,CAAC,8CAAD,CAApC;;AACA,YAAIK,OAAO,GAAGL,OAAO,CAAC,+BAAD,CAArB;;AACAM,QAAAA,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CS,UAAAA,KAAK,EAAE;AADoC,SAA7C;AAGAT,QAAAA,OAAO,CAACU,OAAR,GAAkBC,iBAAlB;;AACA,YAAIC,eAAe,GAAGP,sBAAsB,CAACJ,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AACA,YAAIY,KAAK,GAAGC,uBAAuB,CAACb,OAAO,CAAC,OAAD,CAAR,CAAnC;;AACA,YAAIc,SAAS,GAAGd,OAAO,CAAC,mBAAD,CAAvB;;AACA,YAAIe,SAAS,GAAGf,OAAO,CAAC,mBAAD,CAAvB;;AACA,iBAASgB,wBAAT,CAAkCC,WAAlC,EAA+C;AAAE,cAAI,OAAOC,OAAP,KAAmB,UAAvB,EAAmC,OAAO,IAAP;AAAa,cAAIC,iBAAiB,GAAG,IAAID,OAAJ,EAAxB;AAAuC,cAAIE,gBAAgB,GAAG,IAAIF,OAAJ,EAAvB;AAAsC,iBAAO,CAACF,wBAAwB,GAAG,SAASA,wBAAT,CAAkCC,WAAlC,EAA+C;AAAE,mBAAOA,WAAW,GAAGG,gBAAH,GAAsBD,iBAAxC;AAA4D,WAAzI,EAA2IF,WAA3I,CAAP;AAAiK;;AAC/U,iBAASJ,uBAAT,CAAiCQ,GAAjC,EAAsCJ,WAAtC,EAAmD;AAAE,cAAI,CAACA,WAAD,IAAgBI,GAAhB,IAAuBA,GAAG,CAACC,UAA/B,EAA2C;AAAE,mBAAOD,GAAP;AAAa;;AAAC,cAAIA,GAAG,KAAK,IAAR,IAAgBhB,OAAO,CAACgB,GAAD,CAAP,KAAiB,QAAjB,IAA6B,OAAOA,GAAP,KAAe,UAAhE,EAA4E;AAAE,mBAAO;AAAEZ,cAAAA,OAAO,EAAEY;AAAX,aAAP;AAA0B;;AAAC,cAAIE,KAAK,GAAGP,wBAAwB,CAACC,WAAD,CAApC;;AAAmD,cAAIM,KAAK,IAAIA,KAAK,CAACC,GAAN,CAAUH,GAAV,CAAb,EAA6B;AAAE,mBAAOE,KAAK,CAACE,GAAN,CAAUJ,GAAV,CAAP;AAAwB;;AAAC,cAAIK,MAAM,GAAG,EAAb;AAAiB,cAAIC,qBAAqB,GAAGrB,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAACsB,wBAA5D;;AAAsF,eAAK,IAAIC,GAAT,IAAgBR,GAAhB,EAAqB;AAAE,gBAAIQ,GAAG,KAAK,SAAR,IAAqBvB,MAAM,CAACwB,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCX,GAArC,EAA0CQ,GAA1C,CAAzB,EAAyE;AAAE,kBAAII,IAAI,GAAGN,qBAAqB,GAAGrB,MAAM,CAACsB,wBAAP,CAAgCP,GAAhC,EAAqCQ,GAArC,CAAH,GAA+C,IAA/E;;AAAqF,kBAAII,IAAI,KAAKA,IAAI,CAACR,GAAL,IAAYQ,IAAI,CAACC,GAAtB,CAAR,EAAoC;AAAE5B,gBAAAA,MAAM,CAACC,cAAP,CAAsBmB,MAAtB,EAA8BG,GAA9B,EAAmCI,IAAnC;AAA2C,eAAjF,MAAuF;AAAEP,gBAAAA,MAAM,CAACG,GAAD,CAAN,GAAcR,GAAG,CAACQ,GAAD,CAAjB;AAAyB;AAAE;AAAE;;AAACH,UAAAA,MAAM,CAACjB,OAAP,GAAiBY,GAAjB;;AAAsB,cAAIE,KAAJ,EAAW;AAAEA,YAAAA,KAAK,CAACW,GAAN,CAAUb,GAAV,EAAeK,MAAf;AAAyB;;AAAC,iBAAOA,MAAP;AAAgB;;AACtyB,iBAASS,mBAAT,CAA6BC,SAA7B,EAAwCC,OAAxC,EAAiDC,MAAjD,EAAyDC,cAAzD,EAAyE;AACvE,cAAIC,SAAS,GAAG,CAAC,GAAGzB,SAAS,CAAC0B,kBAAd,EAAkCL,SAAlC,EAA6CE,MAA7C,EAAqDC,cAArD,EAAqE,CAArE,CAAhB;;AACA,mBAASG,WAAT,CAAqBC,WAArB,EAAkC;AAChC,gBAAIA,WAAW,CAACP,SAAD,EAAYC,OAAZ,CAAf,EAAqC;AACnC,qBAAO,MAAP;AACD;;AACD,gBAAIM,WAAW,CAACH,SAAD,EAAYH,OAAZ,CAAf,EAAqC;AACnC,qBAAO,SAAP;AACD;;AACD,mBAAO,KAAP;AACD;;AACD,kBAAQC,MAAR;AACE,iBAAK,MAAL;AACE,qBAAOI,WAAW,CAAC,UAAUE,KAAV,EAAiBC,GAAjB,EAAsB;AACvC,uBAAO,CAAC,GAAG9B,SAAS,CAAC+B,YAAd,EAA4BP,cAA5B,EAA4CK,KAA5C,EAAmDC,GAAnD,CAAP;AACD,eAFiB,CAAlB;;AAGF,iBAAK,SAAL;AACA,iBAAK,OAAL;AACE,qBAAOH,WAAW,CAAC,UAAUE,KAAV,EAAiBC,GAAjB,EAAsB;AACvC,uBAAO,CAAC,GAAG9B,SAAS,CAACgC,UAAd,EAA0BR,cAA1B,EAA0CK,KAA1C,EAAiDC,GAAjD,CAAP;AACD,eAFiB,CAAlB;;AAGF;AACE,qBAAOH,WAAW,CAAC,UAAUE,KAAV,EAAiBC,GAAjB,EAAsB;AACvC,uBAAO,CAAC,GAAG9B,SAAS,CAACiC,WAAd,EAA2BT,cAA3B,EAA2CK,KAA3C,EAAkDC,GAAlD,CAAP;AACD,eAFiB,CAAlB;AAXJ;AAeD;;AACD,iBAASI,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyCb,MAAzC,EAAiDC,cAAjD,EAAiE;AAC/D,cAAIH,SAAS,GAAG,CAAC,GAAGtB,SAAS,CAACsC,QAAd,EAAwBF,MAAxB,EAAgC,CAAhC,CAAhB;AACA,cAAIb,OAAO,GAAG,CAAC,GAAGvB,SAAS,CAACsC,QAAd,EAAwBF,MAAxB,EAAgC,CAAhC,CAAd;;AACA,cAAIC,KAAK,KAAK,CAAd,EAAiB;AACf,mBAAOf,SAAP;AACD;;AACD,cAAIA,SAAS,IAAIC,OAAjB,EAA0B;AACxB,gBAAIgB,QAAQ,GAAGlB,mBAAmB,CAACC,SAAD,EAAYC,OAAZ,EAAqBC,MAArB,EAA6BC,cAA7B,CAAlC;;AACA,oBAAQc,QAAR;AACE,mBAAK,MAAL;AACE,uBAAOjB,SAAP;;AACF,mBAAK,SAAL;AACE,uBAAOA,SAAP;;AACF;AACE,uBAAO,CAAC,GAAGrB,SAAS,CAAC0B,kBAAd,EAAkCJ,OAAlC,EAA2CC,MAA3C,EAAmDC,cAAnD,EAAmE,CAAC,CAApE,CAAP;AANJ;AAQD;;AACD,iBAAOH,SAAP;AACD;;AACD,iBAAS1B,iBAAT,CAA2B4C,IAA3B,EAAiC;AAC/B,cAAIJ,MAAM,GAAGI,IAAI,CAACJ,MAAlB;AAAA,cACEZ,MAAM,GAAGgB,IAAI,CAAChB,MADhB;AAAA,cAEEiB,YAAY,GAAGD,IAAI,CAACC,YAFtB;AAAA,cAGEhB,cAAc,GAAGe,IAAI,CAACf,cAHxB;;AAIA,cAAIiB,eAAe,GAAG5C,KAAK,CAAC6C,QAAN,CAAe,YAAY;AAC7C,mBAAO,CAAC,CAAC,GAAG3C,SAAS,CAACsC,QAAd,EAAwBG,YAAxB,EAAsC,CAAtC,CAAD,EAA2C,CAAC,GAAGzC,SAAS,CAACsC,QAAd,EAAwBG,YAAxB,EAAsC,CAAtC,CAA3C,CAAP;AACD,WAFmB,CAAtB;AAAA,cAGEG,gBAAgB,GAAG,CAAC,GAAG/C,eAAe,CAACF,OAApB,EAA6B+C,eAA7B,EAA8C,CAA9C,CAHrB;AAAA,cAIEG,gBAAgB,GAAGD,gBAAgB,CAAC,CAAD,CAJrC;AAAA,cAKEE,mBAAmB,GAAGF,gBAAgB,CAAC,CAAD,CALxC;;AAMA,cAAIG,gBAAgB,GAAGjD,KAAK,CAAC6C,QAAN,CAAe,IAAf,CAAvB;AAAA,cACEK,gBAAgB,GAAG,CAAC,GAAGnD,eAAe,CAACF,OAApB,EAA6BoD,gBAA7B,EAA+C,CAA/C,CADrB;AAAA,cAEEE,SAAS,GAAGD,gBAAgB,CAAC,CAAD,CAF9B;AAAA,cAGEE,oBAAoB,GAAGF,gBAAgB,CAAC,CAAD,CAHzC;;AAIA,cAAI1B,SAAS,GAAG,CAAC,GAAGtB,SAAS,CAACsC,QAAd,EAAwBF,MAAxB,EAAgC,CAAhC,CAAhB;AACA,cAAIb,OAAO,GAAG,CAAC,GAAGvB,SAAS,CAACsC,QAAd,EAAwBF,MAAxB,EAAgC,CAAhC,CAAd;;AACA,mBAASe,WAAT,CAAqBd,KAArB,EAA4B;AAC1B;AACA,gBAAIQ,gBAAgB,CAACR,KAAD,CAApB,EAA6B;AAC3B,qBAAOQ,gBAAgB,CAACR,KAAD,CAAvB;AACD;;AACD,mBAAO,CAAC,GAAGrC,SAAS,CAACsC,QAAd,EAAwBW,SAAxB,EAAmCZ,KAAnC,KAA6CF,gBAAgB,CAACC,MAAD,EAASC,KAAT,EAAgBb,MAAhB,EAAwBC,cAAxB,CAA7D,IAAwGH,SAAxG,IAAqHC,OAArH,IAAgIE,cAAc,CAAC2B,MAAf,EAAvI;AACD;;AACD,mBAASC,WAAT,CAAqBC,QAArB,EAA+BjB,KAA/B,EAAsC;AACpC,gBAAIiB,QAAJ,EAAc;AACZ,kBAAIC,YAAY,GAAG,CAAC,GAAGvD,SAAS,CAACwD,YAAd,EAA4BP,SAA5B,EAAuCK,QAAvC,EAAiDjB,KAAjD,CAAnB,CADY,CAEZ;;AACAS,cAAAA,mBAAmB,EACnB;AACA,eAAC,GAAG9C,SAAS,CAACwD,YAAd,EAA4BX,gBAA5B,EAA8C,IAA9C,EAAoDR,KAApD,KAA8D,CAAC,IAAD,EAAO,IAAP,CAF3C,CAAnB,CAHY,CAMZ;;AACA,kBAAIoB,YAAY,GAAG,CAACpB,KAAK,GAAG,CAAT,IAAc,CAAjC;;AACA,kBAAI,CAAC,CAAC,GAAGrC,SAAS,CAACsC,QAAd,EAAwBF,MAAxB,EAAgCqB,YAAhC,CAAL,EAAoD;AAClDF,gBAAAA,YAAY,GAAG,CAAC,GAAGvD,SAAS,CAACwD,YAAd,EAA4BD,YAA5B,EAA0CD,QAA1C,EAAoDG,YAApD,CAAf;AACD;;AACDP,cAAAA,oBAAoB,CAACK,YAAD,CAApB;AACD,aAZD,MAYO,IAAIjC,SAAS,IAAIC,OAAjB,EAA0B;AAC/B;AACA2B,cAAAA,oBAAoB,CAAC,IAAD,CAApB;AACD;AACF;;AACD,iBAAO,CAACC,WAAD,EAAcE,WAAd,CAAP;AACD,SA3GyF,CA6G3F;;;AAEA,2BAAAK,WAAW,GAAGvE,MAAM,CAACF,OAArB;;AACA0E,QAAAA,WAAW,GAAGxE,MAAM,CAACF,OAAP,CAAeuB,UAA7B;AACAoD,QAAAA,QAAQ,GAAGzE,MAAM,CAACF,OAAP,CAAeU,OAA1B;AAEC,OAnHD,EAmHG,OAAO;AACR,wDAAgDnB,IADxC;AAER,yCAAiCE,KAFzB;AAGR,gDAAwCC,KAHhC;AAIR,iBAASC,KAJD;AAKR,6BAAqBC,KALb;AAMR,6BAAqBC;AANb,OAAP,CAnHH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req2} from 'react';\nimport { __cjsMetaURL as _req3} from '../utils/miscUtil';\nimport { __cjsMetaURL as _req4} from '../utils/dateUtil';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n var _typeof = require(\"@babel/runtime/helpers/typeof\");\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = useRangeViewDates;\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var _miscUtil = require(\"../utils/miscUtil\");\n var _dateUtil = require(\"../utils/dateUtil\");\n function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n function getStartEndDistance(startDate, endDate, picker, generateConfig) {\n   var startNext = (0, _dateUtil.getClosingViewDate)(startDate, picker, generateConfig, 1);\n   function getDistance(compareFunc) {\n     if (compareFunc(startDate, endDate)) {\n       return 'same';\n     }\n     if (compareFunc(startNext, endDate)) {\n       return 'closing';\n     }\n     return 'far';\n   }\n   switch (picker) {\n     case 'year':\n       return getDistance(function (start, end) {\n         return (0, _dateUtil.isSameDecade)(generateConfig, start, end);\n       });\n     case 'quarter':\n     case 'month':\n       return getDistance(function (start, end) {\n         return (0, _dateUtil.isSameYear)(generateConfig, start, end);\n       });\n     default:\n       return getDistance(function (start, end) {\n         return (0, _dateUtil.isSameMonth)(generateConfig, start, end);\n       });\n   }\n }\n function getRangeViewDate(values, index, picker, generateConfig) {\n   var startDate = (0, _miscUtil.getValue)(values, 0);\n   var endDate = (0, _miscUtil.getValue)(values, 1);\n   if (index === 0) {\n     return startDate;\n   }\n   if (startDate && endDate) {\n     var distance = getStartEndDistance(startDate, endDate, picker, generateConfig);\n     switch (distance) {\n       case 'same':\n         return startDate;\n       case 'closing':\n         return startDate;\n       default:\n         return (0, _dateUtil.getClosingViewDate)(endDate, picker, generateConfig, -1);\n     }\n   }\n   return startDate;\n }\n function useRangeViewDates(_ref) {\n   var values = _ref.values,\n     picker = _ref.picker,\n     defaultDates = _ref.defaultDates,\n     generateConfig = _ref.generateConfig;\n   var _React$useState = React.useState(function () {\n       return [(0, _miscUtil.getValue)(defaultDates, 0), (0, _miscUtil.getValue)(defaultDates, 1)];\n     }),\n     _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n     defaultViewDates = _React$useState2[0],\n     setDefaultViewDates = _React$useState2[1];\n   var _React$useState3 = React.useState(null),\n     _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n     viewDates = _React$useState4[0],\n     setInternalViewDates = _React$useState4[1];\n   var startDate = (0, _miscUtil.getValue)(values, 0);\n   var endDate = (0, _miscUtil.getValue)(values, 1);\n   function getViewDate(index) {\n     // If set default view date, use it\n     if (defaultViewDates[index]) {\n       return defaultViewDates[index];\n     }\n     return (0, _miscUtil.getValue)(viewDates, index) || getRangeViewDate(values, index, picker, generateConfig) || startDate || endDate || generateConfig.getNow();\n   }\n   function setViewDate(viewDate, index) {\n     if (viewDate) {\n       var newViewDates = (0, _miscUtil.updateValues)(viewDates, viewDate, index);\n       // Set view date will clean up default one\n       setDefaultViewDates(\n       // Should always be an array\n       (0, _miscUtil.updateValues)(defaultViewDates, null, index) || [null, null]);\n       // Reset another one when not have value\n       var anotherIndex = (index + 1) % 2;\n       if (!(0, _miscUtil.getValue)(values, anotherIndex)) {\n         newViewDates = (0, _miscUtil.updateValues)(newViewDates, viewDate, anotherIndex);\n       }\n       setInternalViewDates(newViewDates);\n     } else if (startDate || endDate) {\n       // Reset all when has values when `viewDate` is `null` which means from open trigger\n       setInternalViewDates(null);\n     }\n   }\n   return [getViewDate, setViewDate];\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/typeof': _req0,\n  '@babel/runtime/helpers/slicedToArray': _req1,\n  'react': _req2,\n  '../utils/miscUtil': _req3,\n  '../utils/dateUtil': _req4,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}