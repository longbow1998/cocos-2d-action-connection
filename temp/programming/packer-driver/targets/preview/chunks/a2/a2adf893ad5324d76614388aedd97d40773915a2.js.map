{"version":3,"sources":["file:///Users/longbow/node_modules/rc-table/lib/hooks/useColumns.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","_req9","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_typeof","Object","defineProperty","value","convertChildrenToColumns","default","_defineProperty2","_toConsumableArray2","_objectSpread2","_objectWithoutProperties2","React","_interopRequireWildcard","_warning","_toArray","_legacyUtil","_constant","_excluded","_excluded2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","children","filter","node","isValidElement","map","_ref","props","nodeChildren","restProps","column","flatColumns","columns","reduce","list","fixed","parsedFixed","subColumns","length","concat","subColum","warningFixed","flattenColumns","allFixLeft","i","col","allFixRight","_i","_col","revertForRtl","useColumns","_ref2","transformColumns","prefixCls","expandable","expandedKeys","columnTitle","getRowKey","onTriggerExpand","expandIcon","rowExpandable","expandIconColumnIndex","direction","expandRowByClick","columnWidth","baseColumns","useMemo","withExpandColumns","_expandColumn","cloneColumns","slice","process","env","NODE_ENV","includes","EXPAND_COLUMN","expandColIndex","splice","c","expandColumnIndex","indexOf","index","prevColumn","fixedColumn","expandColumn","INTERNAL_COL_DEFINE","className","columnType","render","_","record","rowKey","expanded","recordExpandable","icon","onExpand","createElement","onClick","e","stopPropagation","mergedColumns","finalColumns","reverse","_default","_cjsExports","___esModule","_convertChildrenToColumns","_default0"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/toConsumableArray';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/objectSpread2';\nimport { __cjsMetaURL as _req4} from '@babel/runtime/helpers/objectWithoutProperties';\nimport { __cjsMetaURL as _req5} from 'react';\nimport { __cjsMetaURL as _req6} from 'rc-util/lib/warning';\nimport { __cjsMetaURL as _req7} from 'rc-util/lib/Children/toArray';\nimport { __cjsMetaURL as _req8} from '../utils/legacyUtil';\nimport { __cjsMetaURL as _req9} from '../constant';\nlet _cjsExports;\nlet ___esModule;\nlet _convertChildrenToColumns;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\n var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.convertChildrenToColumns = convertChildrenToColumns;\n exports.default = void 0;\n\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\n var _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\n var _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\n var _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\n var React = _interopRequireWildcard(require(\"react\"));\n\n var _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n\n var _toArray = _interopRequireDefault(require(\"rc-util/lib/Children/toArray\"));\n\n var _legacyUtil = require(\"../utils/legacyUtil\");\n\n var _constant = require(\"../constant\");\n\n var _excluded = [\"children\"],\n     _excluded2 = [\"fixed\"];\n\n function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n function convertChildrenToColumns(children) {\n   return (0, _toArray.default)(children).filter(function (node) {\n     return /*#__PURE__*/React.isValidElement(node);\n   }).map(function (_ref) {\n     var key = _ref.key,\n         props = _ref.props;\n     var nodeChildren = props.children,\n         restProps = (0, _objectWithoutProperties2.default)(props, _excluded);\n     var column = (0, _objectSpread2.default)({\n       key: key\n     }, restProps);\n\n     if (nodeChildren) {\n       column.children = convertChildrenToColumns(nodeChildren);\n     }\n\n     return column;\n   });\n }\n\n function flatColumns(columns) {\n   return columns.reduce(function (list, column) {\n     var fixed = column.fixed; // Convert `fixed='true'` to `fixed='left'` instead\n\n     var parsedFixed = fixed === true ? 'left' : fixed;\n     var subColumns = column.children;\n\n     if (subColumns && subColumns.length > 0) {\n       return [].concat((0, _toConsumableArray2.default)(list), (0, _toConsumableArray2.default)(flatColumns(subColumns).map(function (subColum) {\n         return (0, _objectSpread2.default)({\n           fixed: parsedFixed\n         }, subColum);\n       })));\n     }\n\n     return [].concat((0, _toConsumableArray2.default)(list), [(0, _objectSpread2.default)((0, _objectSpread2.default)({}, column), {}, {\n       fixed: parsedFixed\n     })]);\n   }, []);\n }\n\n function warningFixed(flattenColumns) {\n   var allFixLeft = true;\n\n   for (var i = 0; i < flattenColumns.length; i += 1) {\n     var col = flattenColumns[i];\n\n     if (allFixLeft && col.fixed !== 'left') {\n       allFixLeft = false;\n     } else if (!allFixLeft && col.fixed === 'left') {\n       (0, _warning.default)(false, \"Index \".concat(i - 1, \" of `columns` missing `fixed='left'` prop.\"));\n       break;\n     }\n   }\n\n   var allFixRight = true;\n\n   for (var _i = flattenColumns.length - 1; _i >= 0; _i -= 1) {\n     var _col = flattenColumns[_i];\n\n     if (allFixRight && _col.fixed !== 'right') {\n       allFixRight = false;\n     } else if (!allFixRight && _col.fixed === 'right') {\n       (0, _warning.default)(false, \"Index \".concat(_i + 1, \" of `columns` missing `fixed='right'` prop.\"));\n       break;\n     }\n   }\n }\n\n function revertForRtl(columns) {\n   return columns.map(function (column) {\n     var fixed = column.fixed,\n         restProps = (0, _objectWithoutProperties2.default)(column, _excluded2); // Convert `fixed='left'` to `fixed='right'` instead\n\n     var parsedFixed = fixed;\n\n     if (fixed === 'left') {\n       parsedFixed = 'right';\n     } else if (fixed === 'right') {\n       parsedFixed = 'left';\n     }\n\n     return (0, _objectSpread2.default)({\n       fixed: parsedFixed\n     }, restProps);\n   });\n }\n /**\n  * Parse `columns` & `children` into `columns`.\n  */\n\n\n function useColumns(_ref2, transformColumns) {\n   var prefixCls = _ref2.prefixCls,\n       columns = _ref2.columns,\n       children = _ref2.children,\n       expandable = _ref2.expandable,\n       expandedKeys = _ref2.expandedKeys,\n       columnTitle = _ref2.columnTitle,\n       getRowKey = _ref2.getRowKey,\n       onTriggerExpand = _ref2.onTriggerExpand,\n       expandIcon = _ref2.expandIcon,\n       rowExpandable = _ref2.rowExpandable,\n       expandIconColumnIndex = _ref2.expandIconColumnIndex,\n       direction = _ref2.direction,\n       expandRowByClick = _ref2.expandRowByClick,\n       columnWidth = _ref2.columnWidth,\n       fixed = _ref2.fixed;\n   var baseColumns = React.useMemo(function () {\n     return columns || convertChildrenToColumns(children);\n   }, [columns, children]); // ========================== Expand ==========================\n\n   var withExpandColumns = React.useMemo(function () {\n     if (expandable) {\n       var _expandColumn;\n\n       var cloneColumns = baseColumns.slice(); // >>> Warning if use `expandIconColumnIndex`\n\n       if (process.env.NODE_ENV !== 'production' && expandIconColumnIndex >= 0) {\n         (0, _warning.default)(false, '`expandIconColumnIndex` is deprecated. Please use `Table.EXPAND_COLUMN` in `columns` instead.');\n       } // >>> Insert expand column if not exist\n\n\n       if (!cloneColumns.includes(_constant.EXPAND_COLUMN)) {\n         var expandColIndex = expandIconColumnIndex || 0;\n\n         if (expandColIndex >= 0) {\n           cloneColumns.splice(expandColIndex, 0, _constant.EXPAND_COLUMN);\n         }\n       } // >>> Deduplicate additional expand column\n\n\n       if (process.env.NODE_ENV !== 'production' && cloneColumns.filter(function (c) {\n         return c === _constant.EXPAND_COLUMN;\n       }).length > 1) {\n         (0, _warning.default)(false, 'There exist more than one `EXPAND_COLUMN` in `columns`.');\n       }\n\n       var expandColumnIndex = cloneColumns.indexOf(_constant.EXPAND_COLUMN);\n       cloneColumns = cloneColumns.filter(function (column, index) {\n         return column !== _constant.EXPAND_COLUMN || index === expandColumnIndex;\n       }); // >>> Check if expand column need to fixed\n\n       var prevColumn = baseColumns[expandColumnIndex];\n       var fixedColumn;\n\n       if ((fixed === 'left' || fixed) && !expandIconColumnIndex) {\n         fixedColumn = 'left';\n       } else if ((fixed === 'right' || fixed) && expandIconColumnIndex === baseColumns.length) {\n         fixedColumn = 'right';\n       } else {\n         fixedColumn = prevColumn ? prevColumn.fixed : null;\n       } // >>> Create expandable column\n\n\n       var expandColumn = (_expandColumn = {}, (0, _defineProperty2.default)(_expandColumn, _legacyUtil.INTERNAL_COL_DEFINE, {\n         className: \"\".concat(prefixCls, \"-expand-icon-col\"),\n         columnType: 'EXPAND_COLUMN'\n       }), (0, _defineProperty2.default)(_expandColumn, \"title\", columnTitle), (0, _defineProperty2.default)(_expandColumn, \"fixed\", fixedColumn), (0, _defineProperty2.default)(_expandColumn, \"className\", \"\".concat(prefixCls, \"-row-expand-icon-cell\")), (0, _defineProperty2.default)(_expandColumn, \"width\", columnWidth), (0, _defineProperty2.default)(_expandColumn, \"render\", function render(_, record, index) {\n         var rowKey = getRowKey(record, index);\n         var expanded = expandedKeys.has(rowKey);\n         var recordExpandable = rowExpandable ? rowExpandable(record) : true;\n         var icon = expandIcon({\n           prefixCls: prefixCls,\n           expanded: expanded,\n           expandable: recordExpandable,\n           record: record,\n           onExpand: onTriggerExpand\n         });\n\n         if (expandRowByClick) {\n           return /*#__PURE__*/React.createElement(\"span\", {\n             onClick: function onClick(e) {\n               return e.stopPropagation();\n             }\n           }, icon);\n         }\n\n         return icon;\n       }), _expandColumn);\n       return cloneColumns.map(function (col) {\n         return col === _constant.EXPAND_COLUMN ? expandColumn : col;\n       });\n     }\n\n     if (process.env.NODE_ENV !== 'production' && baseColumns.includes(_constant.EXPAND_COLUMN)) {\n       (0, _warning.default)(false, '`expandable` is not config but there exist `EXPAND_COLUMN` in `columns`.');\n     }\n\n     return baseColumns.filter(function (col) {\n       return col !== _constant.EXPAND_COLUMN;\n     });\n   }, [expandable, baseColumns, getRowKey, expandedKeys, expandIcon, direction]); // ========================= Transform ========================\n\n   var mergedColumns = React.useMemo(function () {\n     var finalColumns = withExpandColumns;\n\n     if (transformColumns) {\n       finalColumns = transformColumns(finalColumns);\n     } // Always provides at least one column for table display\n\n\n     if (!finalColumns.length) {\n       finalColumns = [{\n         render: function render() {\n           return null;\n         }\n       }];\n     }\n\n     return finalColumns;\n   }, [transformColumns, withExpandColumns, direction]); // ========================== Flatten =========================\n\n   var flattenColumns = React.useMemo(function () {\n     if (direction === 'rtl') {\n       return revertForRtl(flatColumns(mergedColumns));\n     }\n\n     return flatColumns(mergedColumns);\n   }, [mergedColumns, direction]); // Only check out of production since it's waste for each render\n\n   if (process.env.NODE_ENV !== 'production') {\n     warningFixed(direction === 'rtl' ? flattenColumns.slice().reverse() : flattenColumns);\n   }\n\n   return [mergedColumns, flattenColumns];\n }\n\n var _default = useColumns;\n exports.default = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_convertChildrenToColumns = module.exports.convertChildrenToColumns;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/typeof': _req0,\n  '@babel/runtime/helpers/defineProperty': _req1,\n  '@babel/runtime/helpers/toConsumableArray': _req2,\n  '@babel/runtime/helpers/objectSpread2': _req3,\n  '@babel/runtime/helpers/objectWithoutProperties': _req4,\n  'react': _req5,\n  'rc-util/lib/warning': _req6,\n  'rc-util/lib/Children/toArray': _req7,\n  '../utils/legacyUtil': _req8,\n  '../constant': _req9,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}