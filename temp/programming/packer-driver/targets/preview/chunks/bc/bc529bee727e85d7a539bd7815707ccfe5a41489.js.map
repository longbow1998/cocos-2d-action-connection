{"version":3,"sources":["file:///Users/longbow/node_modules/antd/lib/tree/utils/dictUtil.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","Object","defineProperty","value","calcRangeKeys","convertDirectoryKeysToNodes","_toConsumableArray2","Record","traverseNodesKey","treeData","callback","processNode","dataNode","key","children","forEach","_ref","expandedKeys","startKey","endKey","keys","record","None","matchKey","End","push","Start","includes","restKeys","nodes","node","index","indexOf","splice","length","_cjsExports","___esModule","__esModule","_calcRangeKeys","_convertDirectoryKeysToNodes"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/toConsumableArray';\nlet _cjsExports;\nlet ___esModule;\nlet _calcRangeKeys;\nlet _convertDirectoryKeysToNodes;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.calcRangeKeys = calcRangeKeys;\n exports.convertDirectoryKeysToNodes = convertDirectoryKeysToNodes;\n var _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n var Record;\n (function (Record) {\n   Record[Record[\"None\"] = 0] = \"None\";\n   Record[Record[\"Start\"] = 1] = \"Start\";\n   Record[Record[\"End\"] = 2] = \"End\";\n })(Record || (Record = {}));\n function traverseNodesKey(treeData, callback) {\n   function processNode(dataNode) {\n     var key = dataNode.key,\n       children = dataNode.children;\n     if (callback(key, dataNode) !== false) {\n       traverseNodesKey(children || [], callback);\n     }\n   }\n   treeData.forEach(processNode);\n }\n /** 计算选中范围，只考虑expanded情况以优化性能 */\n function calcRangeKeys(_ref) {\n   var treeData = _ref.treeData,\n     expandedKeys = _ref.expandedKeys,\n     startKey = _ref.startKey,\n     endKey = _ref.endKey;\n   var keys = [];\n   var record = Record.None;\n   if (startKey && startKey === endKey) {\n     return [startKey];\n   }\n   if (!startKey || !endKey) {\n     return [];\n   }\n   function matchKey(key) {\n     return key === startKey || key === endKey;\n   }\n   traverseNodesKey(treeData, function (key) {\n     if (record === Record.End) {\n       return false;\n     }\n     if (matchKey(key)) {\n       // Match test\n       keys.push(key);\n       if (record === Record.None) {\n         record = Record.Start;\n       } else if (record === Record.Start) {\n         record = Record.End;\n         return false;\n       }\n     } else if (record === Record.Start) {\n       // Append selection\n       keys.push(key);\n     }\n     return expandedKeys.includes(key);\n   });\n   return keys;\n }\n function convertDirectoryKeysToNodes(treeData, keys) {\n   var restKeys = (0, _toConsumableArray2[\"default\"])(keys);\n   var nodes = [];\n   traverseNodesKey(treeData, function (key, node) {\n     var index = restKeys.indexOf(key);\n     if (index !== -1) {\n       nodes.push(node);\n       restKeys.splice(index, 1);\n     }\n     return !!restKeys.length;\n   });\n   return nodes;\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_calcRangeKeys = module.exports.calcRangeKeys;\n_convertDirectoryKeysToNodes = module.exports.convertDirectoryKeysToNodes;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/toConsumableArray': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}