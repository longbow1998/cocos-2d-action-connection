{"version":3,"sources":["file:///Users/longbow/node_modules/@rc-component/portal/lib/useScrollLocker.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","useScrollLocker","_slicedToArray2","React","_dynamicCSS","_useLayoutEffect","_getScrollBarSize","_util","UNIQUE_ID","concat","Date","now","uuid","lock","mergedLock","_React$useState","useState","_React$useState2","id","scrollbarSize","isOverflow","isBodyOverflowing","updateCSS","removeCSS","_cjsExports","___esModule","__esModule","_default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req2} from 'react';\nimport { __cjsMetaURL as _req3} from 'rc-util/lib/Dom/dynamicCSS';\nimport { __cjsMetaURL as _req4} from 'rc-util/lib/hooks/useLayoutEffect';\nimport { __cjsMetaURL as _req5} from 'rc-util/lib/getScrollBarSize';\nimport { __cjsMetaURL as _req6} from './util';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = useScrollLocker;\n\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\n var React = _interopRequireWildcard(require(\"react\"));\n\n var _dynamicCSS = require(\"rc-util/lib/Dom/dynamicCSS\");\n\n var _useLayoutEffect = _interopRequireDefault(require(\"rc-util/lib/hooks/useLayoutEffect\"));\n\n var _getScrollBarSize = _interopRequireDefault(require(\"rc-util/lib/getScrollBarSize\"));\n\n var _util = require(\"./util\");\n\n var UNIQUE_ID = \"rc-util-locker-\".concat(Date.now());\n var uuid = 0;\n\n function useScrollLocker(lock) {\n   var mergedLock = !!lock;\n\n   var _React$useState = React.useState(function () {\n     uuid += 1;\n     return \"\".concat(UNIQUE_ID, \"_\").concat(uuid);\n   }),\n       _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 1),\n       id = _React$useState2[0];\n\n   (0, _useLayoutEffect.default)(function () {\n     if (mergedLock) {\n       var scrollbarSize = (0, _getScrollBarSize.default)();\n       var isOverflow = (0, _util.isBodyOverflowing)();\n       (0, _dynamicCSS.updateCSS)(\"\\nhtml body {\\n  overflow-y: hidden;\\n  \".concat(isOverflow ? \"width: calc(100% - \".concat(scrollbarSize, \"px);\") : '', \"\\n}\"), id);\n     } else {\n       (0, _dynamicCSS.removeCSS)(id);\n     }\n\n     return function () {\n       (0, _dynamicCSS.removeCSS)(id);\n     };\n   }, [mergedLock, id]);\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/slicedToArray': _req1,\n  'react': _req2,\n  'rc-util/lib/Dom/dynamicCSS': _req3,\n  'rc-util/lib/hooks/useLayoutEffect': _req4,\n  'rc-util/lib/getScrollBarSize': _req5,\n  './util': _req6,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}