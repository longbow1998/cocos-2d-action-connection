{"version":3,"sources":["file:///Users/longbow/node_modules/rc-virtual-list/lib/utils/algorithmUtil.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","findListDiffIndex","getIndexByStartLoc","min","max","start","index","beforeCount","afterCount","balanceCount","Math","stepIndex","floor","originList","targetList","getKey","originLen","length","targetLen","shortList","longList","notExistKey","__EMPTY_ITEM__","getItemKey","item","undefined","diffIndex","multiple","abs","i","shortKey","longKey","_cjsExports","___esModule","__esModule","_findListDiffIndex","_getIndexByStartLoc"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nlet ___esModule;\nlet _findListDiffIndex;\nlet _getIndexByStartLoc;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.findListDiffIndex = findListDiffIndex;\n exports.getIndexByStartLoc = getIndexByStartLoc;\n /**\n  * Get index with specific start index one by one. e.g.\n  * min: 3, max: 9, start: 6\n  *\n  * Return index is:\n  * [0]: 6\n  * [1]: 7\n  * [2]: 5\n  * [3]: 8\n  * [4]: 4\n  * [5]: 9\n  * [6]: 3\n  */\n function getIndexByStartLoc(min, max, start, index) {\n   var beforeCount = start - min;\n   var afterCount = max - start;\n   var balanceCount = Math.min(beforeCount, afterCount) * 2;\n   // Balance\n   if (index <= balanceCount) {\n     var stepIndex = Math.floor(index / 2);\n     if (index % 2) {\n       return start + stepIndex + 1;\n     }\n     return start - stepIndex;\n   }\n   // One is out of range\n   if (beforeCount > afterCount) {\n     return start - (index - afterCount);\n   }\n   return start + (index - beforeCount);\n }\n /**\n  * We assume that 2 list has only 1 item diff and others keeping the order.\n  * So we can use dichotomy algorithm to find changed one.\n  */\n function findListDiffIndex(originList, targetList, getKey) {\n   var originLen = originList.length;\n   var targetLen = targetList.length;\n   var shortList;\n   var longList;\n   if (originLen === 0 && targetLen === 0) {\n     return null;\n   }\n   if (originLen < targetLen) {\n     shortList = originList;\n     longList = targetList;\n   } else {\n     shortList = targetList;\n     longList = originList;\n   }\n   var notExistKey = {\n     __EMPTY_ITEM__: true\n   };\n   function getItemKey(item) {\n     if (item !== undefined) {\n       return getKey(item);\n     }\n     return notExistKey;\n   }\n   // Loop to find diff one\n   var diffIndex = null;\n   var multiple = Math.abs(originLen - targetLen) !== 1;\n   for (var i = 0; i < longList.length; i += 1) {\n     var shortKey = getItemKey(shortList[i]);\n     var longKey = getItemKey(longList[i]);\n     if (shortKey !== longKey) {\n       diffIndex = i;\n       multiple = multiple || shortKey !== getItemKey(longList[i + 1]);\n       break;\n     }\n   }\n   return diffIndex === null ? null : {\n     index: diffIndex,\n     multiple: multiple\n   };\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_findListDiffIndex = module.exports.findListDiffIndex;\n_getIndexByStartLoc = module.exports.getIndexByStartLoc;\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}