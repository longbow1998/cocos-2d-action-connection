{"version":3,"sources":["file:///Users/longbow/node_modules/rc-cascader/lib/OptionList/index.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","_req9","_req10","_req11","_req12","_req13","_req14","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_typeof","Object","defineProperty","value","default","_extends2","_objectSpread2","_defineProperty2","_toConsumableArray2","_slicedToArray2","_classnames","_rcSelect","React","_interopRequireWildcard","_context","_commonUtil","_treeUtil","_Column","_useActive3","_useKeyboard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","RefOptionList","forwardRef","props","ref","_optionColumns$","_optionColumns$$optio","_ref3","_classNames","_useBaseProps","useBaseProps","prefixCls","multiple","searchValue","toggleOpen","notFoundContent","direction","containerRef","useRef","rtl","_React$useContext","useContext","options","values","halfValues","fieldNames","changeOnSelect","onSelect","searchOptions","dropdownPrefixCls","loadData","expandTrigger","mergedPrefixCls","_React$useState","useState","_React$useState2","loadingKeys","setLoadingKeys","internalLoadData","valueCells","optionList","toPathOptions","rawOptions","map","_ref","option","lastOption","length","isLeaf","pathKey","toPathKey","keys","concat","useEffect","forEach","loadingKey","valueStrCells","toPathValueStr","_ref2","children","filter","checkedSet","useMemo","Set","toPathKeys","halfCheckedSet","_useActive","_useActive2","activeValueCells","setActiveValueCells","onPathOpen","nextValueCells","isSelectable","disabled","isMergedLeaf","onPathSelect","valuePath","leaf","fromKeyboard","arguments","undefined","mergedOptions","optionColumns","currentList","_loop","i","activeValueCell","currentOption","find","subOptions","push","_ret","onKeyboardSelect","selectValueCells","_containerRef$current","cellPath","slice","cellKeyPath","ele","current","querySelector","replace","scrollIntoParentView","isEmpty","emptyList","FIX_LABEL","columnProps","onActive","onToggleOpen","mergedOptionColumns","columnNodes","col","index","prevValuePath","activeValue","createElement","className","_default","_cjsExports","___esModule","_default0"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/objectSpread2';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req4} from '@babel/runtime/helpers/toConsumableArray';\nimport { __cjsMetaURL as _req5} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req6} from 'classnames';\nimport { __cjsMetaURL as _req7} from 'rc-select';\nimport { __cjsMetaURL as _req8} from 'react';\nimport { __cjsMetaURL as _req9} from '../context';\nimport { __cjsMetaURL as _req10} from '../utils/commonUtil';\nimport { __cjsMetaURL as _req11} from '../utils/treeUtil';\nimport { __cjsMetaURL as _req12} from './Column';\nimport { __cjsMetaURL as _req13} from './useActive';\nimport { __cjsMetaURL as _req14} from './useKeyboard';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\n var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = void 0;\n\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\n var _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\n var _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\n var _classnames = _interopRequireDefault(require(\"classnames\"));\n\n var _rcSelect = require(\"rc-select\");\n\n var React = _interopRequireWildcard(require(\"react\"));\n\n var _context = _interopRequireDefault(require(\"../context\"));\n\n var _commonUtil = require(\"../utils/commonUtil\");\n\n var _treeUtil = require(\"../utils/treeUtil\");\n\n var _Column = _interopRequireWildcard(require(\"./Column\"));\n\n var _useActive3 = _interopRequireDefault(require(\"./useActive\"));\n\n var _useKeyboard = _interopRequireDefault(require(\"./useKeyboard\"));\n\n function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n /* eslint-disable default-case */\n var RefOptionList = /*#__PURE__*/React.forwardRef(function (props, ref) {\n   var _optionColumns$, _optionColumns$$optio, _ref3, _classNames;\n\n   var _useBaseProps = (0, _rcSelect.useBaseProps)(),\n       prefixCls = _useBaseProps.prefixCls,\n       multiple = _useBaseProps.multiple,\n       searchValue = _useBaseProps.searchValue,\n       toggleOpen = _useBaseProps.toggleOpen,\n       notFoundContent = _useBaseProps.notFoundContent,\n       direction = _useBaseProps.direction;\n\n   var containerRef = React.useRef();\n   var rtl = direction === 'rtl';\n\n   var _React$useContext = React.useContext(_context.default),\n       options = _React$useContext.options,\n       values = _React$useContext.values,\n       halfValues = _React$useContext.halfValues,\n       fieldNames = _React$useContext.fieldNames,\n       changeOnSelect = _React$useContext.changeOnSelect,\n       onSelect = _React$useContext.onSelect,\n       searchOptions = _React$useContext.searchOptions,\n       dropdownPrefixCls = _React$useContext.dropdownPrefixCls,\n       loadData = _React$useContext.loadData,\n       expandTrigger = _React$useContext.expandTrigger;\n\n   var mergedPrefixCls = dropdownPrefixCls || prefixCls; // ========================= loadData =========================\n\n   var _React$useState = React.useState([]),\n       _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n       loadingKeys = _React$useState2[0],\n       setLoadingKeys = _React$useState2[1];\n\n   var internalLoadData = function internalLoadData(valueCells) {\n     // Do not load when search\n     if (!loadData || searchValue) {\n       return;\n     }\n\n     var optionList = (0, _treeUtil.toPathOptions)(valueCells, options, fieldNames);\n     var rawOptions = optionList.map(function (_ref) {\n       var option = _ref.option;\n       return option;\n     });\n     var lastOption = rawOptions[rawOptions.length - 1];\n\n     if (lastOption && !(0, _commonUtil.isLeaf)(lastOption, fieldNames)) {\n       var pathKey = (0, _commonUtil.toPathKey)(valueCells);\n       setLoadingKeys(function (keys) {\n         return [].concat((0, _toConsumableArray2.default)(keys), [pathKey]);\n       });\n       loadData(rawOptions);\n     }\n   }; // zombieJ: This is bad. We should make this same as `rc-tree` to use Promise instead.\n\n\n   React.useEffect(function () {\n     if (loadingKeys.length) {\n       loadingKeys.forEach(function (loadingKey) {\n         var valueStrCells = (0, _commonUtil.toPathValueStr)(loadingKey);\n         var optionList = (0, _treeUtil.toPathOptions)(valueStrCells, options, fieldNames, true).map(function (_ref2) {\n           var option = _ref2.option;\n           return option;\n         });\n         var lastOption = optionList[optionList.length - 1];\n\n         if (!lastOption || lastOption[fieldNames.children] || (0, _commonUtil.isLeaf)(lastOption, fieldNames)) {\n           setLoadingKeys(function (keys) {\n             return keys.filter(function (key) {\n               return key !== loadingKey;\n             });\n           });\n         }\n       });\n     }\n   }, [options, loadingKeys, fieldNames]); // ========================== Values ==========================\n\n   var checkedSet = React.useMemo(function () {\n     return new Set((0, _commonUtil.toPathKeys)(values));\n   }, [values]);\n   var halfCheckedSet = React.useMemo(function () {\n     return new Set((0, _commonUtil.toPathKeys)(halfValues));\n   }, [halfValues]); // ====================== Accessibility =======================\n\n   var _useActive = (0, _useActive3.default)(),\n       _useActive2 = (0, _slicedToArray2.default)(_useActive, 2),\n       activeValueCells = _useActive2[0],\n       setActiveValueCells = _useActive2[1]; // =========================== Path ===========================\n\n\n   var onPathOpen = function onPathOpen(nextValueCells) {\n     setActiveValueCells(nextValueCells); // Trigger loadData\n\n     internalLoadData(nextValueCells);\n   };\n\n   var isSelectable = function isSelectable(option) {\n     var disabled = option.disabled;\n     var isMergedLeaf = (0, _commonUtil.isLeaf)(option, fieldNames);\n     return !disabled && (isMergedLeaf || changeOnSelect || multiple);\n   };\n\n   var onPathSelect = function onPathSelect(valuePath, leaf) {\n     var fromKeyboard = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n     onSelect(valuePath);\n\n     if (!multiple && (leaf || changeOnSelect && (expandTrigger === 'hover' || fromKeyboard))) {\n       toggleOpen(false);\n     }\n   }; // ========================== Option ==========================\n\n\n   var mergedOptions = React.useMemo(function () {\n     if (searchValue) {\n       return searchOptions;\n     }\n\n     return options;\n   }, [searchValue, searchOptions, options]); // ========================== Column ==========================\n\n   var optionColumns = React.useMemo(function () {\n     var optionList = [{\n       options: mergedOptions\n     }];\n     var currentList = mergedOptions;\n\n     var _loop = function _loop(i) {\n       var activeValueCell = activeValueCells[i];\n       var currentOption = currentList.find(function (option) {\n         return option[fieldNames.value] === activeValueCell;\n       });\n       var subOptions = currentOption === null || currentOption === void 0 ? void 0 : currentOption[fieldNames.children];\n\n       if (!(subOptions === null || subOptions === void 0 ? void 0 : subOptions.length)) {\n         return \"break\";\n       }\n\n       currentList = subOptions;\n       optionList.push({\n         options: subOptions\n       });\n     };\n\n     for (var i = 0; i < activeValueCells.length; i += 1) {\n       var _ret = _loop(i);\n\n       if (_ret === \"break\") break;\n     }\n\n     return optionList;\n   }, [mergedOptions, activeValueCells, fieldNames]); // ========================= Keyboard =========================\n\n   var onKeyboardSelect = function onKeyboardSelect(selectValueCells, option) {\n     if (isSelectable(option)) {\n       onPathSelect(selectValueCells, (0, _commonUtil.isLeaf)(option, fieldNames), true);\n     }\n   };\n\n   (0, _useKeyboard.default)(ref, mergedOptions, fieldNames, activeValueCells, onPathOpen, onKeyboardSelect); // >>>>> Active Scroll\n\n   React.useEffect(function () {\n     for (var i = 0; i < activeValueCells.length; i += 1) {\n       var _containerRef$current;\n\n       var cellPath = activeValueCells.slice(0, i + 1);\n       var cellKeyPath = (0, _commonUtil.toPathKey)(cellPath);\n       var ele = (_containerRef$current = containerRef.current) === null || _containerRef$current === void 0 ? void 0 : _containerRef$current.querySelector(\"li[data-path-key=\\\"\".concat(cellKeyPath.replace(/\\\\{0,2}\"/g, '\\\\\"'), \"\\\"]\"));\n\n       if (ele) {\n         (0, _commonUtil.scrollIntoParentView)(ele);\n       }\n     }\n   }, [activeValueCells]); // ========================== Render ==========================\n   // >>>>> Empty\n\n   var isEmpty = !((_optionColumns$ = optionColumns[0]) === null || _optionColumns$ === void 0 ? void 0 : (_optionColumns$$optio = _optionColumns$.options) === null || _optionColumns$$optio === void 0 ? void 0 : _optionColumns$$optio.length);\n   var emptyList = [(_ref3 = {}, (0, _defineProperty2.default)(_ref3, fieldNames.value, '__EMPTY__'), (0, _defineProperty2.default)(_ref3, _Column.FIX_LABEL, notFoundContent), (0, _defineProperty2.default)(_ref3, \"disabled\", true), _ref3)];\n   var columnProps = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, props), {}, {\n     multiple: !isEmpty && multiple,\n     onSelect: onPathSelect,\n     onActive: onPathOpen,\n     onToggleOpen: toggleOpen,\n     checkedSet: checkedSet,\n     halfCheckedSet: halfCheckedSet,\n     loadingKeys: loadingKeys,\n     isSelectable: isSelectable\n   }); // >>>>> Columns\n\n   var mergedOptionColumns = isEmpty ? [{\n     options: emptyList\n   }] : optionColumns;\n   var columnNodes = mergedOptionColumns.map(function (col, index) {\n     var prevValuePath = activeValueCells.slice(0, index);\n     var activeValue = activeValueCells[index];\n     return /*#__PURE__*/React.createElement(_Column.default, (0, _extends2.default)({\n       key: index\n     }, columnProps, {\n       prefixCls: mergedPrefixCls,\n       options: col.options,\n       prevValuePath: prevValuePath,\n       activeValue: activeValue\n     }));\n   }); // >>>>> Render\n\n   return /*#__PURE__*/React.createElement(\"div\", {\n     className: (0, _classnames.default)(\"\".concat(mergedPrefixCls, \"-menus\"), (_classNames = {}, (0, _defineProperty2.default)(_classNames, \"\".concat(mergedPrefixCls, \"-menu-empty\"), isEmpty), (0, _defineProperty2.default)(_classNames, \"\".concat(mergedPrefixCls, \"-rtl\"), rtl), _classNames)),\n     ref: containerRef\n   }, columnNodes);\n });\n var _default = RefOptionList;\n exports.default = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/typeof': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/objectSpread2': _req2,\n  '@babel/runtime/helpers/defineProperty': _req3,\n  '@babel/runtime/helpers/toConsumableArray': _req4,\n  '@babel/runtime/helpers/slicedToArray': _req5,\n  'classnames': _req6,\n  'rc-select': _req7,\n  'react': _req8,\n  '../context': _req9,\n  '../utils/commonUtil': _req10,\n  '../utils/treeUtil': _req11,\n  './Column': _req12,\n  './useActive': _req13,\n  './useKeyboard': _req14,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}