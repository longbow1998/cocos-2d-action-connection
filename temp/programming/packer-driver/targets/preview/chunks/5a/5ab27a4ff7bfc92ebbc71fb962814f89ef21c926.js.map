{"version":3,"sources":["file:///Users/longbow/node_modules/rc-tree/lib/util.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","Object","defineProperty","value","arrAdd","arrDel","calcDropPosition","calcSelectedKeys","conductExpandParent","convertDataToTree","getDragChildrenKeys","getPosition","isFirstChild","isLastChild","isTreeNode","parseCheckedKeys","posToArr","_toConsumableArray2","_typeof2","_extends2","_objectWithoutProperties2","_react","_warning","_TreeNode","_excluded","list","clone","slice","index","indexOf","splice","push","pos","split","level","concat","node","type","dragNodeKey","keyEntities","dragChildrenKeys","entity","dig","arguments","length","undefined","forEach","_ref","key","children","treeNodeEntity","parent","posArr","Number","event","dragNode","targetNode","indent","startMousePosition","allowDrop","flattenedNodes","expandKeys","direction","_abstractDropNodeEnti","clientX","clientY","_event$target$getBoun","target","getBoundingClientRect","top","height","horizontalMouseOffset","x","rawDropLevelOffset","abstractDropNodeEntity","props","eventKey","nodeIndex","findIndex","flattenedNode","prevNodeIndex","prevNodeKey","initialAbstractDropNodeKey","abstractDragOverEntity","dragOverNodeKey","dropPosition","dropLevelOffset","includes","i","abstractDragDataNode","data","abstractDropDataNode","dropAllowed","dropNode","dropTargetKey","dropTargetPos","dropContainerKey","selectedKeys","multiple","internalProcessProps","treeData","processor","_ref2","_ref2$processProps","processProps","Array","isArray","map","_ref3","default","childrenNodes","createElement","keys","keyProps","checkedKeys","halfCheckedKeys","checked","halfChecked","keyList","expandedKeys","Set","conductUp","has","add","disabled","_cjsExports","___esModule","__esModule","_arrAdd","_arrDel","_calcDropPosition","_calcSelectedKeys","_conductExpandParent","_convertDataToTree","_getDragChildrenKeys","_getPosition","_isFirstChild","_isLastChild","_isTreeNode","_parseCheckedKeys","_posToArr"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/toConsumableArray';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/objectWithoutProperties';\nimport { __cjsMetaURL as _req4} from 'react';\nimport { __cjsMetaURL as _req5} from 'rc-util/lib/warning';\nimport { __cjsMetaURL as _req6} from './TreeNode';\nlet _cjsExports;\nlet ___esModule;\nlet _arrAdd;\nlet _arrDel;\nlet _calcDropPosition;\nlet _calcSelectedKeys;\nlet _conductExpandParent;\nlet _convertDataToTree;\nlet _getDragChildrenKeys;\nlet _getPosition;\nlet _isFirstChild;\nlet _isLastChild;\nlet _isTreeNode;\nlet _parseCheckedKeys;\nlet _posToArr;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.arrAdd = arrAdd;\n exports.arrDel = arrDel;\n exports.calcDropPosition = calcDropPosition;\n exports.calcSelectedKeys = calcSelectedKeys;\n exports.conductExpandParent = conductExpandParent;\n exports.convertDataToTree = convertDataToTree;\n exports.getDragChildrenKeys = getDragChildrenKeys;\n exports.getPosition = getPosition;\n exports.isFirstChild = isFirstChild;\n exports.isLastChild = isLastChild;\n exports.isTreeNode = isTreeNode;\n exports.parseCheckedKeys = parseCheckedKeys;\n exports.posToArr = posToArr;\n var _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n var _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n var _react = _interopRequireDefault(require(\"react\"));\n var _warning = _interopRequireDefault(require(\"rc-util/lib/warning\"));\n var _TreeNode = _interopRequireDefault(require(\"./TreeNode\"));\n var _excluded = [\"children\"];\n function arrDel(list, value) {\n   if (!list) return [];\n   var clone = list.slice();\n   var index = clone.indexOf(value);\n   if (index >= 0) {\n     clone.splice(index, 1);\n   }\n   return clone;\n }\n function arrAdd(list, value) {\n   var clone = (list || []).slice();\n   if (clone.indexOf(value) === -1) {\n     clone.push(value);\n   }\n   return clone;\n }\n function posToArr(pos) {\n   return pos.split('-');\n }\n function getPosition(level, index) {\n   return \"\".concat(level, \"-\").concat(index);\n }\n function isTreeNode(node) {\n   return node && node.type && node.type.isTreeNode;\n }\n function getDragChildrenKeys(dragNodeKey, keyEntities) {\n   // not contains self\n   // self for left or right drag\n   var dragChildrenKeys = [];\n   var entity = keyEntities[dragNodeKey];\n   function dig() {\n     var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n     list.forEach(function (_ref) {\n       var key = _ref.key,\n         children = _ref.children;\n       dragChildrenKeys.push(key);\n       dig(children);\n     });\n   }\n   dig(entity.children);\n   return dragChildrenKeys;\n }\n function isLastChild(treeNodeEntity) {\n   if (treeNodeEntity.parent) {\n     var posArr = posToArr(treeNodeEntity.pos);\n     return Number(posArr[posArr.length - 1]) === treeNodeEntity.parent.children.length - 1;\n   }\n   return false;\n }\n function isFirstChild(treeNodeEntity) {\n   var posArr = posToArr(treeNodeEntity.pos);\n   return Number(posArr[posArr.length - 1]) === 0;\n }\n // Only used when drag, not affect SSR.\n function calcDropPosition(event, dragNode, targetNode, indent, startMousePosition, allowDrop, flattenedNodes, keyEntities, expandKeys, direction) {\n   var _abstractDropNodeEnti;\n   var clientX = event.clientX,\n     clientY = event.clientY;\n   var _event$target$getBoun = event.target.getBoundingClientRect(),\n     top = _event$target$getBoun.top,\n     height = _event$target$getBoun.height;\n   // optional chain for testing\n   var horizontalMouseOffset = (direction === 'rtl' ? -1 : 1) * (((startMousePosition === null || startMousePosition === void 0 ? void 0 : startMousePosition.x) || 0) - clientX);\n   var rawDropLevelOffset = (horizontalMouseOffset - 12) / indent;\n   // find abstract drop node by horizontal offset\n   var abstractDropNodeEntity = keyEntities[targetNode.props.eventKey];\n   if (clientY < top + height / 2) {\n     // first half, set abstract drop node to previous node\n     var nodeIndex = flattenedNodes.findIndex(function (flattenedNode) {\n       return flattenedNode.key === abstractDropNodeEntity.key;\n     });\n     var prevNodeIndex = nodeIndex <= 0 ? 0 : nodeIndex - 1;\n     var prevNodeKey = flattenedNodes[prevNodeIndex].key;\n     abstractDropNodeEntity = keyEntities[prevNodeKey];\n   }\n   var initialAbstractDropNodeKey = abstractDropNodeEntity.key;\n   var abstractDragOverEntity = abstractDropNodeEntity;\n   var dragOverNodeKey = abstractDropNodeEntity.key;\n   var dropPosition = 0;\n   var dropLevelOffset = 0;\n   // Only allow cross level drop when dragging on a non-expanded node\n   if (!expandKeys.includes(initialAbstractDropNodeKey)) {\n     for (var i = 0; i < rawDropLevelOffset; i += 1) {\n       if (isLastChild(abstractDropNodeEntity)) {\n         abstractDropNodeEntity = abstractDropNodeEntity.parent;\n         dropLevelOffset += 1;\n       } else {\n         break;\n       }\n     }\n   }\n   var abstractDragDataNode = dragNode.props.data;\n   var abstractDropDataNode = abstractDropNodeEntity.node;\n   var dropAllowed = true;\n   if (isFirstChild(abstractDropNodeEntity) && abstractDropNodeEntity.level === 0 && clientY < top + height / 2 && allowDrop({\n     dragNode: abstractDragDataNode,\n     dropNode: abstractDropDataNode,\n     dropPosition: -1\n   }) && abstractDropNodeEntity.key === targetNode.props.eventKey) {\n     // first half of first node in first level\n     dropPosition = -1;\n   } else if ((abstractDragOverEntity.children || []).length && expandKeys.includes(dragOverNodeKey)) {\n     // drop on expanded node\n     // only allow drop inside\n     if (allowDrop({\n       dragNode: abstractDragDataNode,\n       dropNode: abstractDropDataNode,\n       dropPosition: 0\n     })) {\n       dropPosition = 0;\n     } else {\n       dropAllowed = false;\n     }\n   } else if (dropLevelOffset === 0) {\n     if (rawDropLevelOffset > -1.5) {\n       // | Node     | <- abstractDropNode\n       // | -^-===== | <- mousePosition\n       // 1. try drop after\n       // 2. do not allow drop\n       if (allowDrop({\n         dragNode: abstractDragDataNode,\n         dropNode: abstractDropDataNode,\n         dropPosition: 1\n       })) {\n         dropPosition = 1;\n       } else {\n         dropAllowed = false;\n       }\n     } else {\n       // | Node     | <- abstractDropNode\n       // | ---==^== | <- mousePosition\n       // whether it has children or doesn't has children\n       // always\n       // 1. try drop inside\n       // 2. try drop after\n       // 3. do not allow drop\n       if (allowDrop({\n         dragNode: abstractDragDataNode,\n         dropNode: abstractDropDataNode,\n         dropPosition: 0\n       })) {\n         dropPosition = 0;\n       } else if (allowDrop({\n         dragNode: abstractDragDataNode,\n         dropNode: abstractDropDataNode,\n         dropPosition: 1\n       })) {\n         dropPosition = 1;\n       } else {\n         dropAllowed = false;\n       }\n     }\n   } else {\n     // | Node1 | <- abstractDropNode\n     //      |  Node2  |\n     // --^--|----=====| <- mousePosition\n     // 1. try insert after Node1\n     // 2. do not allow drop\n     if (allowDrop({\n       dragNode: abstractDragDataNode,\n       dropNode: abstractDropDataNode,\n       dropPosition: 1\n     })) {\n       dropPosition = 1;\n     } else {\n       dropAllowed = false;\n     }\n   }\n   return {\n     dropPosition: dropPosition,\n     dropLevelOffset: dropLevelOffset,\n     dropTargetKey: abstractDropNodeEntity.key,\n     dropTargetPos: abstractDropNodeEntity.pos,\n     dragOverNodeKey: dragOverNodeKey,\n     dropContainerKey: dropPosition === 0 ? null : ((_abstractDropNodeEnti = abstractDropNodeEntity.parent) === null || _abstractDropNodeEnti === void 0 ? void 0 : _abstractDropNodeEnti.key) || null,\n     dropAllowed: dropAllowed\n   };\n }\n /**\n  * Return selectedKeys according with multiple prop\n  * @param selectedKeys\n  * @param props\n  * @returns [string]\n  */\n function calcSelectedKeys(selectedKeys, props) {\n   if (!selectedKeys) return undefined;\n   var multiple = props.multiple;\n   if (multiple) {\n     return selectedKeys.slice();\n   }\n   if (selectedKeys.length) {\n     return [selectedKeys[0]];\n   }\n   return selectedKeys;\n }\n var internalProcessProps = function internalProcessProps(props) {\n   return props;\n };\n function convertDataToTree(treeData, processor) {\n   if (!treeData) return [];\n   var _ref2 = processor || {},\n     _ref2$processProps = _ref2.processProps,\n     processProps = _ref2$processProps === void 0 ? internalProcessProps : _ref2$processProps;\n   var list = Array.isArray(treeData) ? treeData : [treeData];\n   return list.map(function (_ref3) {\n     var children = _ref3.children,\n       props = (0, _objectWithoutProperties2.default)(_ref3, _excluded);\n     var childrenNodes = convertDataToTree(children, processor);\n     return /*#__PURE__*/_react.default.createElement(_TreeNode.default, (0, _extends2.default)({\n       key: props.key\n     }, processProps(props)), childrenNodes);\n   });\n }\n /**\n  * Parse `checkedKeys` to { checkedKeys, halfCheckedKeys } style\n  */\n function parseCheckedKeys(keys) {\n   if (!keys) {\n     return null;\n   }\n   // Convert keys to object format\n   var keyProps;\n   if (Array.isArray(keys)) {\n     // [Legacy] Follow the api doc\n     keyProps = {\n       checkedKeys: keys,\n       halfCheckedKeys: undefined\n     };\n   } else if ((0, _typeof2.default)(keys) === 'object') {\n     keyProps = {\n       checkedKeys: keys.checked || undefined,\n       halfCheckedKeys: keys.halfChecked || undefined\n     };\n   } else {\n     (0, _warning.default)(false, '`checkedKeys` is not an array or an object');\n     return null;\n   }\n   return keyProps;\n }\n /**\n  * If user use `autoExpandParent` we should get the list of parent node\n  * @param keyList\n  * @param keyEntities\n  */\n function conductExpandParent(keyList, keyEntities) {\n   var expandedKeys = new Set();\n   function conductUp(key) {\n     if (expandedKeys.has(key)) return;\n     var entity = keyEntities[key];\n     if (!entity) return;\n     expandedKeys.add(key);\n     var parent = entity.parent,\n       node = entity.node;\n     if (node.disabled) return;\n     if (parent) {\n       conductUp(parent.key);\n     }\n   }\n   (keyList || []).forEach(function (key) {\n     conductUp(key);\n   });\n   return (0, _toConsumableArray2.default)(expandedKeys);\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_arrAdd = module.exports.arrAdd;\n_arrDel = module.exports.arrDel;\n_calcDropPosition = module.exports.calcDropPosition;\n_calcSelectedKeys = module.exports.calcSelectedKeys;\n_conductExpandParent = module.exports.conductExpandParent;\n_convertDataToTree = module.exports.convertDataToTree;\n_getDragChildrenKeys = module.exports.getDragChildrenKeys;\n_getPosition = module.exports.getPosition;\n_isFirstChild = module.exports.isFirstChild;\n_isLastChild = module.exports.isLastChild;\n_isTreeNode = module.exports.isTreeNode;\n_parseCheckedKeys = module.exports.parseCheckedKeys;\n_posToArr = module.exports.posToArr;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/toConsumableArray': _req0,\n  '@babel/runtime/helpers/typeof': _req1,\n  '@babel/runtime/helpers/extends': _req2,\n  '@babel/runtime/helpers/objectWithoutProperties': _req3,\n  'react': _req4,\n  'rc-util/lib/warning': _req5,\n  './TreeNode': _req6,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}