{"version":3,"sources":["file:///Users/longbow/node_modules/rc-image/lib/Preview.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","_req9","_req10","_req11","_req12","_req13","_req14","_req15","_req16","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_typeof","Object","defineProperty","value","default","_extends2","_objectSpread2","_defineProperty2","_slicedToArray2","_objectWithoutProperties2","_react","_interopRequireWildcard","_rcDialog","_classnames2","_addEventListener","_KeyCode","_warning","_PreviewGroup","_Operations","_useImageTransform2","_getFixScaleEleTransPosition","_previewConfig","_excluded","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Preview","props","prefixCls","src","alt","onClose","afterClose","visible","_props$icons","icons","rootClassName","getContainer","countRender","_props$scaleStep","scaleStep","_props$transitionName","transitionName","_props$maskTransition","maskTransitionName","restProps","imgRef","useRef","downPositionRef","deltaX","deltaY","transformX","transformY","_useState","useState","_useState2","isMoving","setMoving","_useContext","useContext","context","previewUrls","current","isPreviewGroup","setCurrent","previewGroupCount","size","previewUrlsKeys","Array","from","keys","currentPreviewIndex","indexOf","combinationSrc","showLeftOrRightSwitches","showOperationsProgress","_useImageTransform","transform","resetTransform","updateTransform","dispatchZoonChange","rotate","scale","wrapClassName","concat","onAfterClose","onZoomIn","BASE_SCALE_RATIO","onZoomOut","onRotateRight","onRotateLeft","onSwitchLeft","event","preventDefault","stopPropagation","onSwitchRight","onMouseUp","_downPositionRef$curr","hasChangedPosition","x","y","width","offsetWidth","height","offsetHeight","_imgRef$current$getBo","getBoundingClientRect","left","top","isRotate","fixState","onMouseDown","button","pageX","pageY","onMouseMove","onWheel","scaleRatio","Math","abs","mergedScaleRatio","min","WHEEL_MAX_SCALE_RATIO","ratio","clientX","clientY","onKeyDown","useCallback","keyCode","LEFT","RIGHT","onDoubleClick","useEffect","onTopMouseUpListener","onTopMouseMoveListener","onMouseUpListener","window","onMouseMoveListener","onKeyDownListener","self","error","warning","_onTopMouseUpListener","_onTopMouseMoveListen","remove","createElement","Fragment","closable","keyboard","className","ref","style","showSwitch","showProgress","count","_default","_cjsExports","___esModule","_default0"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/objectSpread2';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req4} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req5} from '@babel/runtime/helpers/objectWithoutProperties';\nimport { __cjsMetaURL as _req6} from 'react';\nimport { __cjsMetaURL as _req7} from 'rc-dialog';\nimport { __cjsMetaURL as _req8} from 'classnames';\nimport { __cjsMetaURL as _req9} from 'rc-util/lib/Dom/addEventListener';\nimport { __cjsMetaURL as _req10} from 'rc-util/lib/KeyCode';\nimport { __cjsMetaURL as _req11} from 'rc-util/lib/warning';\nimport { __cjsMetaURL as _req12} from './PreviewGroup';\nimport { __cjsMetaURL as _req13} from './Operations';\nimport { __cjsMetaURL as _req14} from './hooks/useImageTransform';\nimport { __cjsMetaURL as _req15} from './getFixScaleEleTransPosition';\nimport { __cjsMetaURL as _req16} from './previewConfig';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\n var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = void 0;\n\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\n var _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\n var _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\n var _react = _interopRequireWildcard(require(\"react\"));\n\n var _rcDialog = _interopRequireDefault(require(\"rc-dialog\"));\n\n var _classnames2 = _interopRequireDefault(require(\"classnames\"));\n\n var _addEventListener = _interopRequireDefault(require(\"rc-util/lib/Dom/addEventListener\"));\n\n var _KeyCode = _interopRequireDefault(require(\"rc-util/lib/KeyCode\"));\n\n var _warning = require(\"rc-util/lib/warning\");\n\n var _PreviewGroup = require(\"./PreviewGroup\");\n\n var _Operations = _interopRequireDefault(require(\"./Operations\"));\n\n var _useImageTransform2 = _interopRequireDefault(require(\"./hooks/useImageTransform\"));\n\n var _getFixScaleEleTransPosition = _interopRequireDefault(require(\"./getFixScaleEleTransPosition\"));\n\n var _previewConfig = require(\"./previewConfig\");\n\n var _excluded = [\"prefixCls\", \"src\", \"alt\", \"onClose\", \"afterClose\", \"visible\", \"icons\", \"rootClassName\", \"getContainer\", \"countRender\", \"scaleStep\", \"transitionName\", \"maskTransitionName\"];\n\n function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n var Preview = function Preview(props) {\n   var prefixCls = props.prefixCls,\n       src = props.src,\n       alt = props.alt,\n       onClose = props.onClose,\n       afterClose = props.afterClose,\n       visible = props.visible,\n       _props$icons = props.icons,\n       icons = _props$icons === void 0 ? {} : _props$icons,\n       rootClassName = props.rootClassName,\n       getContainer = props.getContainer,\n       countRender = props.countRender,\n       _props$scaleStep = props.scaleStep,\n       scaleStep = _props$scaleStep === void 0 ? 0.5 : _props$scaleStep,\n       _props$transitionName = props.transitionName,\n       transitionName = _props$transitionName === void 0 ? 'zoom' : _props$transitionName,\n       _props$maskTransition = props.maskTransitionName,\n       maskTransitionName = _props$maskTransition === void 0 ? 'fade' : _props$maskTransition,\n       restProps = (0, _objectWithoutProperties2.default)(props, _excluded);\n   var imgRef = (0, _react.useRef)();\n   var downPositionRef = (0, _react.useRef)({\n     deltaX: 0,\n     deltaY: 0,\n     transformX: 0,\n     transformY: 0\n   });\n\n   var _useState = (0, _react.useState)(false),\n       _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n       isMoving = _useState2[0],\n       setMoving = _useState2[1];\n\n   var _useContext = (0, _react.useContext)(_PreviewGroup.context),\n       previewUrls = _useContext.previewUrls,\n       current = _useContext.current,\n       isPreviewGroup = _useContext.isPreviewGroup,\n       setCurrent = _useContext.setCurrent;\n\n   var previewGroupCount = previewUrls.size;\n   var previewUrlsKeys = Array.from(previewUrls.keys());\n   var currentPreviewIndex = previewUrlsKeys.indexOf(current);\n   var combinationSrc = isPreviewGroup ? previewUrls.get(current) : src;\n   var showLeftOrRightSwitches = isPreviewGroup && previewGroupCount > 1;\n   var showOperationsProgress = isPreviewGroup && previewGroupCount >= 1;\n\n   var _useImageTransform = (0, _useImageTransform2.default)(imgRef),\n       transform = _useImageTransform.transform,\n       resetTransform = _useImageTransform.resetTransform,\n       updateTransform = _useImageTransform.updateTransform,\n       dispatchZoonChange = _useImageTransform.dispatchZoonChange;\n\n   var rotate = transform.rotate,\n       scale = transform.scale;\n   var wrapClassName = (0, _classnames2.default)((0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-moving\"), isMoving));\n\n   var onAfterClose = function onAfterClose() {\n     resetTransform();\n   };\n\n   var onZoomIn = function onZoomIn() {\n     dispatchZoonChange(_previewConfig.BASE_SCALE_RATIO + scaleStep);\n   };\n\n   var onZoomOut = function onZoomOut() {\n     dispatchZoonChange(_previewConfig.BASE_SCALE_RATIO - scaleStep);\n   };\n\n   var onRotateRight = function onRotateRight() {\n     updateTransform({\n       rotate: rotate + 90\n     });\n   };\n\n   var onRotateLeft = function onRotateLeft() {\n     updateTransform({\n       rotate: rotate - 90\n     });\n   };\n\n   var onSwitchLeft = function onSwitchLeft(event) {\n     event.preventDefault();\n     event.stopPropagation();\n\n     if (currentPreviewIndex > 0) {\n       setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n     }\n   };\n\n   var onSwitchRight = function onSwitchRight(event) {\n     event.preventDefault();\n     event.stopPropagation();\n\n     if (currentPreviewIndex < previewGroupCount - 1) {\n       setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n     }\n   };\n\n   var onMouseUp = function onMouseUp() {\n     if (visible && isMoving) {\n       setMoving(false);\n       /** No need to restore the position when the picture is not moved, So as not to interfere with the click */\n\n       var _downPositionRef$curr = downPositionRef.current,\n           transformX = _downPositionRef$curr.transformX,\n           transformY = _downPositionRef$curr.transformY;\n       var hasChangedPosition = transform.x !== transformX && transform.y !== transformY;\n\n       if (!hasChangedPosition) {\n         return;\n       }\n\n       var width = imgRef.current.offsetWidth * scale;\n       var height = imgRef.current.offsetHeight * scale; // eslint-disable-next-line @typescript-eslint/no-shadow\n\n       var _imgRef$current$getBo = imgRef.current.getBoundingClientRect(),\n           left = _imgRef$current$getBo.left,\n           top = _imgRef$current$getBo.top;\n\n       var isRotate = rotate % 180 !== 0;\n       var fixState = (0, _getFixScaleEleTransPosition.default)(isRotate ? height : width, isRotate ? width : height, left, top);\n\n       if (fixState) {\n         updateTransform((0, _objectSpread2.default)({}, fixState));\n       }\n     }\n   };\n\n   var onMouseDown = function onMouseDown(event) {\n     // Only allow main button\n     if (event.button !== 0) return;\n     event.preventDefault();\n     event.stopPropagation();\n     downPositionRef.current = {\n       deltaX: event.pageX - transform.x,\n       deltaY: event.pageY - transform.y,\n       transformX: transform.x,\n       transformY: transform.y\n     };\n     setMoving(true);\n   };\n\n   var onMouseMove = function onMouseMove(event) {\n     if (visible && isMoving) {\n       updateTransform({\n         x: event.pageX - downPositionRef.current.deltaX,\n         y: event.pageY - downPositionRef.current.deltaY\n       });\n     }\n   };\n\n   var onWheel = function onWheel(event) {\n     if (!visible || event.deltaY == 0) return; // Scale ratio depends on the deltaY size\n\n     var scaleRatio = Math.abs(event.deltaY / 100); // Limit the maximum scale ratio\n\n     var mergedScaleRatio = Math.min(scaleRatio, _previewConfig.WHEEL_MAX_SCALE_RATIO); // Scale the ratio each time\n\n     var ratio = _previewConfig.BASE_SCALE_RATIO + mergedScaleRatio * scaleStep;\n\n     if (event.deltaY > 0) {\n       ratio = _previewConfig.BASE_SCALE_RATIO / ratio;\n     }\n\n     dispatchZoonChange(ratio, event.clientX, event.clientY);\n   };\n\n   var onKeyDown = (0, _react.useCallback)(function (event) {\n     if (!visible || !showLeftOrRightSwitches) return;\n\n     if (event.keyCode === _KeyCode.default.LEFT) {\n       if (currentPreviewIndex > 0) {\n         setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n       }\n     } else if (event.keyCode === _KeyCode.default.RIGHT) {\n       if (currentPreviewIndex < previewGroupCount - 1) {\n         setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n       }\n     }\n   }, [currentPreviewIndex, previewGroupCount, previewUrlsKeys, setCurrent, showLeftOrRightSwitches, visible]);\n\n   var onDoubleClick = function onDoubleClick(event) {\n     if (visible) {\n       if (scale !== 1) {\n         updateTransform({\n           x: 0,\n           y: 0,\n           scale: 1\n         });\n       } else {\n         dispatchZoonChange(_previewConfig.BASE_SCALE_RATIO + scaleStep, event.clientX, event.clientY);\n       }\n     }\n   };\n\n   (0, _react.useEffect)(function () {\n     var onTopMouseUpListener;\n     var onTopMouseMoveListener;\n     var onMouseUpListener = (0, _addEventListener.default)(window, 'mouseup', onMouseUp, false);\n     var onMouseMoveListener = (0, _addEventListener.default)(window, 'mousemove', onMouseMove, false);\n     var onKeyDownListener = (0, _addEventListener.default)(window, 'keydown', onKeyDown, false);\n\n     try {\n       // Resolve if in iframe lost event\n\n       /* istanbul ignore next */\n       if (window.top !== window.self) {\n         onTopMouseUpListener = (0, _addEventListener.default)(window.top, 'mouseup', onMouseUp, false);\n         onTopMouseMoveListener = (0, _addEventListener.default)(window.top, 'mousemove', onMouseMove, false);\n       }\n     } catch (error) {\n       /* istanbul ignore next */\n       (0, _warning.warning)(false, \"[rc-image] \".concat(error));\n     }\n\n     return function () {\n       var _onTopMouseUpListener, _onTopMouseMoveListen;\n\n       onMouseUpListener.remove();\n       onMouseMoveListener.remove();\n       onKeyDownListener.remove();\n       /* istanbul ignore next */\n\n       (_onTopMouseUpListener = onTopMouseUpListener) === null || _onTopMouseUpListener === void 0 ? void 0 : _onTopMouseUpListener.remove();\n       /* istanbul ignore next */\n\n       (_onTopMouseMoveListen = onTopMouseMoveListener) === null || _onTopMouseMoveListen === void 0 ? void 0 : _onTopMouseMoveListen.remove();\n     };\n   }, [visible, isMoving, onKeyDown]);\n   return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(_rcDialog.default, (0, _extends2.default)({\n     transitionName: transitionName,\n     maskTransitionName: maskTransitionName,\n     closable: false,\n     keyboard: true,\n     prefixCls: prefixCls,\n     onClose: onClose,\n     afterClose: onAfterClose,\n     visible: visible,\n     wrapClassName: wrapClassName,\n     rootClassName: rootClassName,\n     getContainer: getContainer\n   }, restProps), /*#__PURE__*/_react.default.createElement(\"div\", {\n     className: \"\".concat(prefixCls, \"-img-wrapper\")\n   }, /*#__PURE__*/_react.default.createElement(\"img\", {\n     width: props.width,\n     height: props.height,\n     onWheel: onWheel,\n     onMouseDown: onMouseDown,\n     onDoubleClick: onDoubleClick,\n     ref: imgRef,\n     className: \"\".concat(prefixCls, \"-img\"),\n     src: combinationSrc,\n     alt: alt,\n     style: {\n       transform: \"translate3d(\".concat(transform.x, \"px, \").concat(transform.y, \"px, 0) scale3d(\").concat(scale, \", \").concat(scale, \", 1) rotate(\").concat(rotate, \"deg)\")\n     }\n   }))), /*#__PURE__*/_react.default.createElement(_Operations.default, {\n     visible: visible,\n     maskTransitionName: maskTransitionName,\n     getContainer: getContainer,\n     prefixCls: prefixCls,\n     rootClassName: rootClassName,\n     icons: icons,\n     countRender: countRender,\n     showSwitch: showLeftOrRightSwitches,\n     showProgress: showOperationsProgress,\n     current: currentPreviewIndex,\n     count: previewGroupCount,\n     scale: scale,\n     onSwitchLeft: onSwitchLeft,\n     onSwitchRight: onSwitchRight,\n     onZoomIn: onZoomIn,\n     onZoomOut: onZoomOut,\n     onRotateRight: onRotateRight,\n     onRotateLeft: onRotateLeft,\n     onClose: onClose\n   }));\n };\n\n var _default = Preview;\n exports.default = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/typeof': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/objectSpread2': _req2,\n  '@babel/runtime/helpers/defineProperty': _req3,\n  '@babel/runtime/helpers/slicedToArray': _req4,\n  '@babel/runtime/helpers/objectWithoutProperties': _req5,\n  'react': _req6,\n  'rc-dialog': _req7,\n  'classnames': _req8,\n  'rc-util/lib/Dom/addEventListener': _req9,\n  'rc-util/lib/KeyCode': _req10,\n  'rc-util/lib/warning': _req11,\n  './PreviewGroup': _req12,\n  './Operations': _req13,\n  './hooks/useImageTransform': _req14,\n  './getFixScaleEleTransPosition': _req15,\n  './previewConfig': _req16,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}