{"version":3,"sources":["file:///Users/longbow/node_modules/antd/lib/badge/SingleNumber.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","SingleNumber","_extends2","_slicedToArray2","_classnames","React","UnitNumber","_ref","prefixCls","current","_ref$offset","offset","style","position","top","concat","left","createElement","className","getOffset","start","end","unit","index","props","originCount","count","originValue","Number","Math","abs","_React$useState","useState","_React$useState2","prevValue","setPrevValue","_React$useState3","_React$useState4","prevCount","setPrevCount","onTransitionEnd","useEffect","timeout","setTimeout","clearTimeout","unitNodes","offsetStyle","isNaN","key","transition","unitNumberList","push","prevIndex","findIndex","n","map","singleUnit","transform","_cjsExports","___esModule","__esModule","_default","default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req3} from 'classnames';\nimport { __cjsMetaURL as _req4} from 'react';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = SingleNumber;\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var _classnames = _interopRequireDefault(require(\"classnames\"));\n var React = _interopRequireWildcard(require(\"react\"));\n function UnitNumber(_ref) {\n   var prefixCls = _ref.prefixCls,\n     value = _ref.value,\n     current = _ref.current,\n     _ref$offset = _ref.offset,\n     offset = _ref$offset === void 0 ? 0 : _ref$offset;\n   var style;\n   if (offset) {\n     style = {\n       position: 'absolute',\n       top: \"\".concat(offset, \"00%\"),\n       left: 0\n     };\n   }\n   return /*#__PURE__*/React.createElement(\"span\", {\n     style: style,\n     className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-only-unit\"), {\n       current: current\n     })\n   }, value);\n }\n function getOffset(start, end, unit) {\n   var index = start;\n   var offset = 0;\n   while ((index + 10) % 10 !== end) {\n     index += unit;\n     offset += unit;\n   }\n   return offset;\n }\n function SingleNumber(props) {\n   var prefixCls = props.prefixCls,\n     originCount = props.count,\n     originValue = props.value;\n   var value = Number(originValue);\n   var count = Math.abs(originCount);\n   var _React$useState = React.useState(value),\n     _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n     prevValue = _React$useState2[0],\n     setPrevValue = _React$useState2[1];\n   var _React$useState3 = React.useState(count),\n     _React$useState4 = (0, _slicedToArray2[\"default\"])(_React$useState3, 2),\n     prevCount = _React$useState4[0],\n     setPrevCount = _React$useState4[1];\n   // ============================= Events =============================\n   var onTransitionEnd = function onTransitionEnd() {\n     setPrevValue(value);\n     setPrevCount(count);\n   };\n   // Fallback if transition event not support\n   React.useEffect(function () {\n     var timeout = setTimeout(function () {\n       onTransitionEnd();\n     }, 1000);\n     return function () {\n       clearTimeout(timeout);\n     };\n   }, [value]);\n   // ============================= Render =============================\n   // Render unit list\n   var unitNodes;\n   var offsetStyle;\n   if (prevValue === value || Number.isNaN(value) || Number.isNaN(prevValue)) {\n     // Nothing to change\n     unitNodes = [/*#__PURE__*/React.createElement(UnitNumber, (0, _extends2[\"default\"])({}, props, {\n       key: value,\n       current: true\n     }))];\n     offsetStyle = {\n       transition: 'none'\n     };\n   } else {\n     unitNodes = [];\n     // Fill basic number units\n     var end = value + 10;\n     var unitNumberList = [];\n     for (var index = value; index <= end; index += 1) {\n       unitNumberList.push(index);\n     }\n     // Fill with number unit nodes\n     var prevIndex = unitNumberList.findIndex(function (n) {\n       return n % 10 === prevValue;\n     });\n     unitNodes = unitNumberList.map(function (n, index) {\n       var singleUnit = n % 10;\n       return /*#__PURE__*/React.createElement(UnitNumber, (0, _extends2[\"default\"])({}, props, {\n         key: n,\n         value: singleUnit,\n         offset: index - prevIndex,\n         current: index === prevIndex\n       }));\n     });\n     // Calculate container offset value\n     var unit = prevCount < count ? 1 : -1;\n     offsetStyle = {\n       transform: \"translateY(\".concat(-getOffset(prevValue, value, unit), \"00%)\")\n     };\n   }\n   return /*#__PURE__*/React.createElement(\"span\", {\n     className: \"\".concat(prefixCls, \"-only\"),\n     style: offsetStyle,\n     onTransitionEnd: onTransitionEnd\n   }, unitNodes);\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/slicedToArray': _req2,\n  'classnames': _req3,\n  'react': _req4,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}