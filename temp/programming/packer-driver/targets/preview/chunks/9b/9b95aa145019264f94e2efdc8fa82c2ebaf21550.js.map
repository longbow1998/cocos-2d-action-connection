{"version":3,"sources":["file:///Users/longbow/node_modules/copy-to-clipboard/index.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","deselectCurrent","clipboardToIE11Formatting","defaultMessage","format","message","copyKey","test","navigator","userAgent","replace","copy","text","options","debug","reselectPrevious","range","selection","mark","success","document","createRange","getSelection","createElement","textContent","ariaHidden","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","preventDefault","clipboardData","console","warn","window","clearData","setData","onCopy","body","appendChild","selectNodeContents","addRange","successful","execCommand","Error","err","error","prompt","removeRange","removeAllRanges","removeChild","_cjsExports"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from 'toggle-selection';\nlet _cjsExports;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var deselectCurrent = require(\"toggle-selection\");\n\n var clipboardToIE11Formatting = {\n   \"text/plain\": \"Text\",\n   \"text/html\": \"Url\",\n   \"default\": \"Text\"\n }\n\n var defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\n function format(message) {\n   var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"âŒ˜\" : \"Ctrl\") + \"+C\";\n   return message.replace(/#{\\s*key\\s*}/g, copyKey);\n }\n\n function copy(text, options) {\n   var debug,\n     message,\n     reselectPrevious,\n     range,\n     selection,\n     mark,\n     success = false;\n   if (!options) {\n     options = {};\n   }\n   debug = options.debug || false;\n   try {\n     reselectPrevious = deselectCurrent();\n\n     range = document.createRange();\n     selection = document.getSelection();\n\n     mark = document.createElement(\"span\");\n     mark.textContent = text;\n     // avoid screen readers from reading out loud the text\n     mark.ariaHidden = \"true\"\n     // reset user styles for span element\n     mark.style.all = \"unset\";\n     // prevents scrolling to the end of the page\n     mark.style.position = \"fixed\";\n     mark.style.top = 0;\n     mark.style.clip = \"rect(0, 0, 0, 0)\";\n     // used to preserve spaces and line breaks\n     mark.style.whiteSpace = \"pre\";\n     // do not inherit user-select (it may be `none`)\n     mark.style.webkitUserSelect = \"text\";\n     mark.style.MozUserSelect = \"text\";\n     mark.style.msUserSelect = \"text\";\n     mark.style.userSelect = \"text\";\n     mark.addEventListener(\"copy\", function(e) {\n       e.stopPropagation();\n       if (options.format) {\n         e.preventDefault();\n         if (typeof e.clipboardData === \"undefined\") { // IE 11\n           debug && console.warn(\"unable to use e.clipboardData\");\n           debug && console.warn(\"trying IE specific stuff\");\n           window.clipboardData.clearData();\n           var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n           window.clipboardData.setData(format, text);\n         } else { // all other browsers\n           e.clipboardData.clearData();\n           e.clipboardData.setData(options.format, text);\n         }\n       }\n       if (options.onCopy) {\n         e.preventDefault();\n         options.onCopy(e.clipboardData);\n       }\n     });\n\n     document.body.appendChild(mark);\n\n     range.selectNodeContents(mark);\n     selection.addRange(range);\n\n     var successful = document.execCommand(\"copy\");\n     if (!successful) {\n       throw new Error(\"copy command was unsuccessful\");\n     }\n     success = true;\n   } catch (err) {\n     debug && console.error(\"unable to copy using execCommand: \", err);\n     debug && console.warn(\"trying IE specific stuff\");\n     try {\n       window.clipboardData.setData(options.format || \"text\", text);\n       options.onCopy && options.onCopy(window.clipboardData);\n       success = true;\n     } catch (err) {\n       debug && console.error(\"unable to copy using clipboardData: \", err);\n       debug && console.error(\"falling back to prompt\");\n       message = format(\"message\" in options ? options.message : defaultMessage);\n       window.prompt(message, text);\n     }\n   } finally {\n     if (selection) {\n       if (typeof selection.removeRange == \"function\") {\n         selection.removeRange(range);\n       } else {\n         selection.removeAllRanges();\n       }\n     }\n\n     if (mark) {\n       document.body.removeChild(mark);\n     }\n     reselectPrevious();\n   }\n\n   return success;\n }\n\n module.exports = copy;\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n\n\n}, () => ({\n  'toggle-selection': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}