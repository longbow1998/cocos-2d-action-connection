{"version":3,"sources":["file:///Users/longbow/node_modules/rc-tree-select/lib/hooks/useFilterTreeData.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_typeof","Object","defineProperty","value","default","_defineProperty2","_objectSpread3","React","_interopRequireWildcard","_legacyUtil","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_default","treeData","searchValue","_ref","treeNodeFilterProp","filterTreeNode","fieldNames","fieldChildren","children","useMemo","filterOptionFunc","upperStr","toUpperCase","_","dataNode","String","includes","dig","list","keepAll","arguments","length","undefined","map","match","fillLegacyProps","childList","isLeaf","filter","node","_cjsExports","___esModule","_default0"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/objectSpread2';\nimport { __cjsMetaURL as _req3} from 'react';\nimport { __cjsMetaURL as _req4} from '../utils/legacyUtil';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\n var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = void 0;\n\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\n var _objectSpread3 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\n var React = _interopRequireWildcard(require(\"react\"));\n\n var _legacyUtil = require(\"../utils/legacyUtil\");\n\n function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n var _default = function _default(treeData, searchValue, _ref) {\n   var treeNodeFilterProp = _ref.treeNodeFilterProp,\n       filterTreeNode = _ref.filterTreeNode,\n       fieldNames = _ref.fieldNames;\n   var fieldChildren = fieldNames.children;\n   return React.useMemo(function () {\n     if (!searchValue || filterTreeNode === false) {\n       return treeData;\n     }\n\n     var filterOptionFunc;\n\n     if (typeof filterTreeNode === 'function') {\n       filterOptionFunc = filterTreeNode;\n     } else {\n       var upperStr = searchValue.toUpperCase();\n\n       filterOptionFunc = function filterOptionFunc(_, dataNode) {\n         var value = dataNode[treeNodeFilterProp];\n         return String(value).toUpperCase().includes(upperStr);\n       };\n     }\n\n     function dig(list) {\n       var keepAll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n       return list.map(function (dataNode) {\n         var children = dataNode[fieldChildren];\n         var match = keepAll || filterOptionFunc(searchValue, (0, _legacyUtil.fillLegacyProps)(dataNode));\n         var childList = dig(children || [], match);\n\n         if (match || childList.length) {\n           return (0, _objectSpread3.default)((0, _objectSpread3.default)({}, dataNode), {}, (0, _defineProperty2.default)({\n             isLeaf: undefined\n           }, fieldChildren, childList));\n         }\n\n         return null;\n       }).filter(function (node) {\n         return node;\n       });\n     }\n\n     return dig(treeData);\n   }, [treeData, searchValue, fieldChildren, treeNodeFilterProp, filterTreeNode]);\n };\n\n exports.default = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/typeof': _req0,\n  '@babel/runtime/helpers/defineProperty': _req1,\n  '@babel/runtime/helpers/objectSpread2': _req2,\n  'react': _req3,\n  '../utils/legacyUtil': _req4,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}