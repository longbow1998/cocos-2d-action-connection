{"version":3,"sources":["file:///Users/longbow/node_modules/rc-image/lib/Image.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req5","_req1","_req2","_req3","_req4","_req6","_req7","_req8","_req9","_req10","_req11","_req12","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_typeof3","Object","defineProperty","value","default","_extends2","_objectSpread2","_defineProperty2","_slicedToArray2","_typeof2","_objectWithoutProperties2","React","_interopRequireWildcard","_classnames","_css","_useMergedState3","_Preview","_PreviewGroup","_excluded","_excluded2","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","uuid","ImageInternal","_ref","_imgCommonProps$style","imgSrc","src","alt","onInitialPreviewClose","onPreviewClose","_ref$prefixCls","prefixCls","_ref$previewPrefixCls","previewPrefixCls","concat","placeholder","fallback","width","height","style","_ref$preview","preview","className","onClick","onImageError","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable","otherProps","isCustomPlaceholder","_ref2","previewSrc","_ref2$visible","visible","previewVisible","undefined","_ref2$onVisibleChange","onVisibleChange","onPreviewVisibleChange","_ref2$getContainer","getContainer","getPreviewContainer","previewMask","mask","maskClassName","icons","scaleStep","dialogProps","isControlled","_useMergedState","onChange","_useMergedState2","isShowPreview","setShowPreview","_useState","useState","_useState2","status","setStatus","_useState3","_useState4","mousePosition","setMousePosition","isError","_React$useContext","useContext","context","isPreviewGroup","setCurrent","setGroupShowPreview","setGroupMousePosition","registerImage","_React$useState","_React$useState2","currentId","canPreview","isLoaded","useRef","onLoad","e","onPreview","_getOffset","getOffset","target","left","top","x","y","stopPropagation","getImgRef","img","current","complete","naturalWidth","naturalHeight","useEffect","unRegister","wrapperClass","mergedSrc","imgCommonProps","createElement","Fragment","ref","display","onClose","PreviewGroup","displayName","_default","_cjsExports","___esModule","_default0"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,6CAAhBC,Y;;AACgBC,MAAAA,K,8BAAhBD,Y;AAKgBE,MAAAA,K,8BAAhBF,Y;;AAJgBG,MAAAA,K,+BAAhBH,Y;;AACgBI,MAAAA,K,oCAAhBJ,Y;;AACgBK,MAAAA,K,sCAAhBL,Y;;AACgBM,MAAAA,K,qCAAhBN,Y;;AAEgBO,MAAAA,K,+CAAhBP,Y;;AACgBQ,MAAAA,K,UAAhBR,Y;;AACgBS,MAAAA,K,gBAAhBT,Y;;AACgBU,MAAAA,K,oBAAhBV,Y;;AACgBW,MAAAA,M,iCAAhBX,Y;;AACgBY,MAAAA,M,iBAAhBZ,Y;;AACgBa,MAAAA,M,iBAAhBb,Y;;;8BAIHA,Y,GAAe,cAAYc,G;;AACjChB,MAAAA,UAAU,CAACiB,MAAX,CAAkBf,YAAlB,EAAgC,UAAUgB,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AAEA,YAAIC,sBAAsB,GAAGJ,OAAO,CAAC,8CAAD,CAApC;;AAEA,YAAIK,QAAQ,GAAGL,OAAO,CAAC,+BAAD,CAAtB;;AAEAM,QAAAA,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CS,UAAAA,KAAK,EAAE;AADoC,SAA7C;AAGAT,QAAAA,OAAO,CAACU,OAAR,GAAkB,KAAK,CAAvB;;AAEA,YAAIC,SAAS,GAAGN,sBAAsB,CAACJ,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AAEA,YAAIW,cAAc,GAAGP,sBAAsB,CAACJ,OAAO,CAAC,sCAAD,CAAR,CAA3C;;AAEA,YAAIY,gBAAgB,GAAGR,sBAAsB,CAACJ,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,YAAIa,eAAe,GAAGT,sBAAsB,CAACJ,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AAEA,YAAIc,QAAQ,GAAGV,sBAAsB,CAACJ,OAAO,CAAC,+BAAD,CAAR,CAArC;;AAEA,YAAIe,yBAAyB,GAAGX,sBAAsB,CAACJ,OAAO,CAAC,gDAAD,CAAR,CAAtD;;AAEA,YAAIgB,KAAK,GAAGC,uBAAuB,CAACjB,OAAO,CAAC,OAAD,CAAR,CAAnC;;AAEA,YAAIkB,WAAW,GAAGd,sBAAsB,CAACJ,OAAO,CAAC,YAAD,CAAR,CAAxC;;AAEA,YAAImB,IAAI,GAAGnB,OAAO,CAAC,qBAAD,CAAlB;;AAEA,YAAIoB,gBAAgB,GAAGhB,sBAAsB,CAACJ,OAAO,CAAC,kCAAD,CAAR,CAA7C;;AAEA,YAAIqB,QAAQ,GAAGjB,sBAAsB,CAACJ,OAAO,CAAC,WAAD,CAAR,CAArC;;AAEA,YAAIsB,aAAa,GAAGL,uBAAuB,CAACjB,OAAO,CAAC,gBAAD,CAAR,CAA3C;;AAEA,YAAIuB,SAAS,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,gBAAf,EAAiC,WAAjC,EAA8C,kBAA9C,EAAkE,aAAlE,EAAiF,UAAjF,EAA6F,OAA7F,EAAsG,QAAtG,EAAgH,OAAhH,EAAyH,SAAzH,EAAoI,WAApI,EAAiJ,SAAjJ,EAA4J,SAA5J,EAAuK,kBAAvK,EAA2L,cAA3L,EAA2M,eAA3M,EAA4N,aAA5N,EAA2O,UAA3O,EAAuP,SAAvP,EAAkQ,gBAAlQ,EAAoR,OAApR,EAA6R,QAA7R,EAAuS,QAAvS,EAAiT,WAAjT,CAAhB;AAAA,YACIC,UAAU,GAAG,CAAC,KAAD,EAAQ,SAAR,EAAmB,iBAAnB,EAAsC,cAAtC,EAAsD,MAAtD,EAA8D,eAA9D,EAA+E,OAA/E,EAAwF,WAAxF,CADjB;;AAGA,iBAASC,wBAAT,CAAkCC,WAAlC,EAA+C;AAAE,cAAI,OAAOC,OAAP,KAAmB,UAAvB,EAAmC,OAAO,IAAP;AAAa,cAAIC,iBAAiB,GAAG,IAAID,OAAJ,EAAxB;AAAuC,cAAIE,gBAAgB,GAAG,IAAIF,OAAJ,EAAvB;AAAsC,iBAAO,CAACF,wBAAwB,GAAG,SAASA,wBAAT,CAAkCC,WAAlC,EAA+C;AAAE,mBAAOA,WAAW,GAAGG,gBAAH,GAAsBD,iBAAxC;AAA4D,WAAzI,EAA2IF,WAA3I,CAAP;AAAiK;;AAE/U,iBAAST,uBAAT,CAAiCa,GAAjC,EAAsCJ,WAAtC,EAAmD;AAAE,cAAI,CAACA,WAAD,IAAgBI,GAAhB,IAAuBA,GAAG,CAACC,UAA/B,EAA2C;AAAE,mBAAOD,GAAP;AAAa;;AAAC,cAAIA,GAAG,KAAK,IAAR,IAAgBzB,QAAQ,CAACyB,GAAD,CAAR,KAAkB,QAAlB,IAA8B,OAAOA,GAAP,KAAe,UAAjE,EAA6E;AAAE,mBAAO;AAAErB,cAAAA,OAAO,EAAEqB;AAAX,aAAP;AAA0B;;AAAC,cAAIE,KAAK,GAAGP,wBAAwB,CAACC,WAAD,CAApC;;AAAmD,cAAIM,KAAK,IAAIA,KAAK,CAACC,GAAN,CAAUH,GAAV,CAAb,EAA6B;AAAE,mBAAOE,KAAK,CAACE,GAAN,CAAUJ,GAAV,CAAP;AAAwB;;AAAC,cAAIK,MAAM,GAAG,EAAb;AAAiB,cAAIC,qBAAqB,GAAG9B,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAAC+B,wBAA5D;;AAAsF,eAAK,IAAIC,GAAT,IAAgBR,GAAhB,EAAqB;AAAE,gBAAIQ,GAAG,KAAK,SAAR,IAAqBhC,MAAM,CAACiC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCX,GAArC,EAA0CQ,GAA1C,CAAzB,EAAyE;AAAE,kBAAII,IAAI,GAAGN,qBAAqB,GAAG9B,MAAM,CAAC+B,wBAAP,CAAgCP,GAAhC,EAAqCQ,GAArC,CAAH,GAA+C,IAA/E;;AAAqF,kBAAII,IAAI,KAAKA,IAAI,CAACR,GAAL,IAAYQ,IAAI,CAACC,GAAtB,CAAR,EAAoC;AAAErC,gBAAAA,MAAM,CAACC,cAAP,CAAsB4B,MAAtB,EAA8BG,GAA9B,EAAmCI,IAAnC;AAA2C,eAAjF,MAAuF;AAAEP,gBAAAA,MAAM,CAACG,GAAD,CAAN,GAAcR,GAAG,CAACQ,GAAD,CAAjB;AAAyB;AAAE;AAAE;;AAACH,UAAAA,MAAM,CAAC1B,OAAP,GAAiBqB,GAAjB;;AAAsB,cAAIE,KAAJ,EAAW;AAAEA,YAAAA,KAAK,CAACW,GAAN,CAAUb,GAAV,EAAeK,MAAf;AAAyB;;AAAC,iBAAOA,MAAP;AAAgB;;AAEvyB,YAAIS,IAAI,GAAG,CAAX;;AAEA,YAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBC,IAAvB,EAA6B;AAC/C,cAAIC,qBAAJ;;AAEA,cAAIC,MAAM,GAAGF,IAAI,CAACG,GAAlB;AAAA,cACIC,GAAG,GAAGJ,IAAI,CAACI,GADf;AAAA,cAEIC,qBAAqB,GAAGL,IAAI,CAACM,cAFjC;AAAA,cAGIC,cAAc,GAAGP,IAAI,CAACQ,SAH1B;AAAA,cAIIA,SAAS,GAAGD,cAAc,KAAK,KAAK,CAAxB,GAA4B,UAA5B,GAAyCA,cAJzD;AAAA,cAKIE,qBAAqB,GAAGT,IAAI,CAACU,gBALjC;AAAA,cAMIA,gBAAgB,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,GAAGE,MAAH,CAAUH,SAAV,EAAqB,UAArB,CAAnC,GAAsEC,qBAN7F;AAAA,cAOIG,WAAW,GAAGZ,IAAI,CAACY,WAPvB;AAAA,cAQIC,QAAQ,GAAGb,IAAI,CAACa,QARpB;AAAA,cASIC,KAAK,GAAGd,IAAI,CAACc,KATjB;AAAA,cAUIC,MAAM,GAAGf,IAAI,CAACe,MAVlB;AAAA,cAWIC,KAAK,GAAGhB,IAAI,CAACgB,KAXjB;AAAA,cAYIC,YAAY,GAAGjB,IAAI,CAACkB,OAZxB;AAAA,cAaIA,OAAO,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B,IAA1B,GAAiCA,YAb/C;AAAA,cAcIE,SAAS,GAAGnB,IAAI,CAACmB,SAdrB;AAAA,cAeIC,OAAO,GAAGpB,IAAI,CAACoB,OAfnB;AAAA,cAgBIC,YAAY,GAAGrB,IAAI,CAACsB,OAhBxB;AAAA,cAiBIC,gBAAgB,GAAGvB,IAAI,CAACuB,gBAjB5B;AAAA,cAkBIC,YAAY,GAAGxB,IAAI,CAACwB,YAlBxB;AAAA,cAmBIC,aAAa,GAAGzB,IAAI,CAACyB,aAnBzB;AAAA,cAoBIC,WAAW,GAAG1B,IAAI,CAAC0B,WApBvB;AAAA,cAqBIC,QAAQ,GAAG3B,IAAI,CAAC2B,QArBpB;AAAA,cAsBIC,OAAO,GAAG5B,IAAI,CAAC4B,OAtBnB;AAAA,cAuBIC,cAAc,GAAG7B,IAAI,CAAC6B,cAvB1B;AAAA,cAwBIC,KAAK,GAAG9B,IAAI,CAAC8B,KAxBjB;AAAA,cAyBIC,MAAM,GAAG/B,IAAI,CAAC+B,MAzBlB;AAAA,cA0BIC,MAAM,GAAGhC,IAAI,CAACgC,MA1BlB;AAAA,cA2BIC,SAAS,GAAGjC,IAAI,CAACiC,SA3BrB;AAAA,cA4BIC,UAAU,GAAG,CAAC,GAAGjE,yBAAyB,CAACN,OAA9B,EAAuCqC,IAAvC,EAA6CvB,SAA7C,CA5BjB;AA6BA,cAAI0D,mBAAmB,GAAGvB,WAAW,IAAIA,WAAW,KAAK,IAAzD;;AAEA,cAAIwB,KAAK,GAAG,CAAC,GAAGpE,QAAQ,CAACL,OAAb,EAAsBuD,OAAtB,MAAmC,QAAnC,GAA8CA,OAA9C,GAAwD,EAApE;AAAA,cACImB,UAAU,GAAGD,KAAK,CAACjC,GADvB;AAAA,cAEImC,aAAa,GAAGF,KAAK,CAACG,OAF1B;AAAA,cAGIC,cAAc,GAAGF,aAAa,KAAK,KAAK,CAAvB,GAA2BG,SAA3B,GAAuCH,aAH5D;AAAA,cAIII,qBAAqB,GAAGN,KAAK,CAACO,eAJlC;AAAA,cAKIC,sBAAsB,GAAGF,qBAAqB,KAAK,KAAK,CAA/B,GAAmCrC,qBAAnC,GAA2DqC,qBALxF;AAAA,cAMIG,kBAAkB,GAAGT,KAAK,CAACU,YAN/B;AAAA,cAOIC,mBAAmB,GAAGF,kBAAkB,KAAK,KAAK,CAA5B,GAAgCJ,SAAhC,GAA4CI,kBAPtE;AAAA,cAQIG,WAAW,GAAGZ,KAAK,CAACa,IARxB;AAAA,cASIC,aAAa,GAAGd,KAAK,CAACc,aAT1B;AAAA,cAUIC,KAAK,GAAGf,KAAK,CAACe,KAVlB;AAAA,cAWIC,SAAS,GAAGhB,KAAK,CAACgB,SAXtB;AAAA,cAYIC,WAAW,GAAG,CAAC,GAAGpF,yBAAyB,CAACN,OAA9B,EAAuCyE,KAAvC,EAA8C1D,UAA9C,CAZlB;;AAcA,cAAIyB,GAAG,GAAGkC,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+CA,UAA/C,GAA4DnC,MAAtE;AACA,cAAIoD,YAAY,GAAGd,cAAc,KAAKC,SAAtC;;AAEA,cAAIc,eAAe,GAAG,CAAC,GAAGjF,gBAAgB,CAACX,OAArB,EAA8B,CAAC,CAAC6E,cAAhC,EAAgD;AACpE9E,YAAAA,KAAK,EAAE8E,cAD6D;AAEpEgB,YAAAA,QAAQ,EAAEZ;AAF0D,WAAhD,CAAtB;AAAA,cAIIa,gBAAgB,GAAG,CAAC,GAAG1F,eAAe,CAACJ,OAApB,EAA6B4F,eAA7B,EAA8C,CAA9C,CAJvB;AAAA,cAKIG,aAAa,GAAGD,gBAAgB,CAAC,CAAD,CALpC;AAAA,cAMIE,cAAc,GAAGF,gBAAgB,CAAC,CAAD,CANrC;;AAQA,cAAIG,SAAS,GAAG,CAAC,GAAG1F,KAAK,CAAC2F,QAAV,EAAoB1B,mBAAmB,GAAG,SAAH,GAAe,QAAtD,CAAhB;AAAA,cACI2B,UAAU,GAAG,CAAC,GAAG/F,eAAe,CAACJ,OAApB,EAA6BiG,SAA7B,EAAwC,CAAxC,CADjB;AAAA,cAEIG,MAAM,GAAGD,UAAU,CAAC,CAAD,CAFvB;AAAA,cAGIE,SAAS,GAAGF,UAAU,CAAC,CAAD,CAH1B;;AAKA,cAAIG,UAAU,GAAG,CAAC,GAAG/F,KAAK,CAAC2F,QAAV,EAAoB,IAApB,CAAjB;AAAA,cACIK,UAAU,GAAG,CAAC,GAAGnG,eAAe,CAACJ,OAApB,EAA6BsG,UAA7B,EAAyC,CAAzC,CADjB;AAAA,cAEIE,aAAa,GAAGD,UAAU,CAAC,CAAD,CAF9B;AAAA,cAGIE,gBAAgB,GAAGF,UAAU,CAAC,CAAD,CAHjC;;AAKA,cAAIG,OAAO,GAAGN,MAAM,KAAK,OAAzB;;AAEA,cAAIO,iBAAiB,GAAGpG,KAAK,CAACqG,UAAN,CAAiB/F,aAAa,CAACgG,OAA/B,CAAxB;AAAA,cACIC,cAAc,GAAGH,iBAAiB,CAACG,cADvC;AAAA,cAEIC,UAAU,GAAGJ,iBAAiB,CAACI,UAFnC;AAAA,cAGIC,mBAAmB,GAAGL,iBAAiB,CAACX,cAH5C;AAAA,cAIIiB,qBAAqB,GAAGN,iBAAiB,CAACF,gBAJ9C;AAAA,cAKIS,aAAa,GAAGP,iBAAiB,CAACO,aALtC;;AAOA,cAAIC,eAAe,GAAG5G,KAAK,CAAC2F,QAAN,CAAe,YAAY;AAC/C/D,YAAAA,IAAI,IAAI,CAAR;AACA,mBAAOA,IAAP;AACD,WAHqB,CAAtB;AAAA,cAIIiF,gBAAgB,GAAG,CAAC,GAAGhH,eAAe,CAACJ,OAApB,EAA6BmH,eAA7B,EAA8C,CAA9C,CAJvB;AAAA,cAKIE,SAAS,GAAGD,gBAAgB,CAAC,CAAD,CALhC;;AAOA,cAAIE,UAAU,GAAG,CAAC,CAAC/D,OAAnB;AACA,cAAIgE,QAAQ,GAAGhH,KAAK,CAACiH,MAAN,CAAa,KAAb,CAAf;;AAEA,cAAIC,MAAM,GAAG,SAASA,MAAT,GAAkB;AAC7BpB,YAAAA,SAAS,CAAC,QAAD,CAAT;AACD,WAFD;;AAIA,cAAI1C,OAAO,GAAG,SAASA,OAAT,CAAiB+D,CAAjB,EAAoB;AAChC,gBAAIhE,YAAJ,EAAkB;AAChBA,cAAAA,YAAY,CAACgE,CAAD,CAAZ;AACD;;AAEDrB,YAAAA,SAAS,CAAC,OAAD,CAAT;AACD,WAND;;AAQA,cAAIsB,SAAS,GAAG,SAASA,SAAT,CAAmBD,CAAnB,EAAsB;AACpC,gBAAI,CAAC/B,YAAL,EAAmB;AACjB,kBAAIiC,UAAU,GAAG,CAAC,GAAGlH,IAAI,CAACmH,SAAT,EAAoBH,CAAC,CAACI,MAAtB,CAAjB;AAAA,kBACIC,IAAI,GAAGH,UAAU,CAACG,IADtB;AAAA,kBAEIC,GAAG,GAAGJ,UAAU,CAACI,GAFrB;;AAIA,kBAAIlB,cAAJ,EAAoB;AAClBC,gBAAAA,UAAU,CAACM,SAAD,CAAV;AACAJ,gBAAAA,qBAAqB,CAAC;AACpBgB,kBAAAA,CAAC,EAAEF,IADiB;AAEpBG,kBAAAA,CAAC,EAAEF;AAFiB,iBAAD,CAArB;AAID,eAND,MAMO;AACLvB,gBAAAA,gBAAgB,CAAC;AACfwB,kBAAAA,CAAC,EAAEF,IADY;AAEfG,kBAAAA,CAAC,EAAEF;AAFY,iBAAD,CAAhB;AAID;AACF;;AAED,gBAAIlB,cAAJ,EAAoB;AAClBE,cAAAA,mBAAmB,CAAC,IAAD,CAAnB;AACD,aAFD,MAEO;AACLhB,cAAAA,cAAc,CAAC,IAAD,CAAd;AACD;;AAED,gBAAIvC,OAAJ,EAAaA,OAAO,CAACiE,CAAD,CAAP;AACd,WA3BD;;AA6BA,cAAI/E,cAAc,GAAG,SAASA,cAAT,CAAwB+E,CAAxB,EAA2B;AAC9CA,YAAAA,CAAC,CAACS,eAAF;AACAnC,YAAAA,cAAc,CAAC,KAAD,CAAd;;AAEA,gBAAI,CAACL,YAAL,EAAmB;AACjBc,cAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD;AACF,WAPD;;AASA,cAAI2B,SAAS,GAAG,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACtCd,YAAAA,QAAQ,CAACe,OAAT,GAAmB,KAAnB;AACA,gBAAIlC,MAAM,KAAK,SAAf,EAA0B;;AAE1B,gBAAIiC,GAAG,KAAK,IAAR,IAAgBA,GAAG,KAAK,KAAK,CAA7B,IAAkCA,GAAG,CAACE,QAAtC,KAAmDF,GAAG,CAACG,YAAJ,IAAoBH,GAAG,CAACI,aAA3E,CAAJ,EAA+F;AAC7FlB,cAAAA,QAAQ,CAACe,OAAT,GAAmB,IAAnB;AACAb,cAAAA,MAAM;AACP;AACF,WARD,CA1I+C,CAkJ5C;AACH;AACA;;;AAGAlH,UAAAA,KAAK,CAACmI,SAAN,CAAgB,YAAY;AAC1B,gBAAIC,UAAU,GAAGzB,aAAa,CAACG,SAAD,EAAY7E,GAAZ,CAA9B;AACA,mBAAOmG,UAAP;AACD,WAHD,EAGG,EAHH;AAIApI,UAAAA,KAAK,CAACmI,SAAN,CAAgB,YAAY;AAC1BxB,YAAAA,aAAa,CAACG,SAAD,EAAY7E,GAAZ,EAAiB8E,UAAjB,CAAb;AACD,WAFD,EAEG,CAAC9E,GAAD,EAAM8E,UAAN,CAFH,EA3J+C,CA6JxB;;AAEvB/G,UAAAA,KAAK,CAACmI,SAAN,CAAgB,YAAY;AAC1B,gBAAIhC,OAAJ,EAAa;AACXL,cAAAA,SAAS,CAAC,QAAD,CAAT;AACD;;AAED,gBAAI7B,mBAAmB,IAAI,CAAC+C,QAAQ,CAACe,OAArC,EAA8C;AAC5CjC,cAAAA,SAAS,CAAC,SAAD,CAAT;AACD;AACF,WARD,EAQG,CAAC9D,MAAD,CARH;AASA,cAAIqG,YAAY,GAAG,CAAC,GAAGnI,WAAW,CAACT,OAAhB,EAAyB6C,SAAzB,EAAoCe,gBAApC,EAAsDE,aAAtD,EAAqE,CAAC,GAAG3D,gBAAgB,CAACH,OAArB,EAA8B,EAA9B,EAAkC,GAAGgD,MAAH,CAAUH,SAAV,EAAqB,QAArB,CAAlC,EAAkE6D,OAAlE,CAArE,CAAnB;AACA,cAAImC,SAAS,GAAGnC,OAAO,IAAIxD,QAAX,GAAsBA,QAAtB,GAAiCV,GAAjD;AACA,cAAIsG,cAAc,GAAG;AACnB/E,YAAAA,WAAW,EAAEA,WADM;AAEnBC,YAAAA,QAAQ,EAAEA,QAFS;AAGnBM,YAAAA,SAAS,EAAEA,SAHQ;AAInBL,YAAAA,OAAO,EAAEA,OAJU;AAKnBC,YAAAA,cAAc,EAAEA,cALG;AAMnBC,YAAAA,KAAK,EAAEA,KANY;AAOnBC,YAAAA,MAAM,EAAEA,MAPW;AAQnBC,YAAAA,MAAM,EAAEA,MARW;AASnB5B,YAAAA,GAAG,EAAEA,GATc;AAUnBe,YAAAA,SAAS,EAAE,CAAC,GAAG/C,WAAW,CAACT,OAAhB,EAAyB,GAAGgD,MAAH,CAAUH,SAAV,EAAqB,MAArB,CAAzB,EAAuD,CAAC,GAAG1C,gBAAgB,CAACH,OAArB,EAA8B,EAA9B,EAAkC,GAAGgD,MAAH,CAAUH,SAAV,EAAqB,kBAArB,CAAlC,EAA4EI,WAAW,KAAK,IAA5F,CAAvD,EAA0JO,SAA1J,CAVQ;AAWnBH,YAAAA,KAAK,EAAE,CAAC,GAAGnD,cAAc,CAACF,OAAnB,EAA4B;AACjCoD,cAAAA,MAAM,EAAEA;AADyB,aAA5B,EAEJC,KAFI;AAXY,WAArB;AAeA,iBAAO,aAAa9C,KAAK,CAACwI,aAAN,CAAoBxI,KAAK,CAACyI,QAA1B,EAAoC,IAApC,EAA0C,aAAazI,KAAK,CAACwI,aAAN,CAAoB,KAApB,EAA2B,CAAC,GAAG9I,SAAS,CAACD,OAAd,EAAuB,EAAvB,EAA2BuE,UAA3B,EAAuC;AAC3If,YAAAA,SAAS,EAAEoF,YADgI;AAE3InF,YAAAA,OAAO,EAAE6D,UAAU,GAAGK,SAAH,GAAelE,OAFyG;AAG3IJ,YAAAA,KAAK,EAAE,CAAC,GAAGnD,cAAc,CAACF,OAAnB,EAA4B;AACjCmD,cAAAA,KAAK,EAAEA,KAD0B;AAEjCC,cAAAA,MAAM,EAAEA;AAFyB,aAA5B,EAGJS,YAHI;AAHoI,WAAvC,CAA3B,EAOvE,aAAatD,KAAK,CAACwI,aAAN,CAAoB,KAApB,EAA2B,CAAC,GAAG9I,SAAS,CAACD,OAAd,EAAuB,EAAvB,EAA2B8I,cAA3B,EAA2C;AACrFG,YAAAA,GAAG,EAAEb;AADgF,WAA3C,EAEzC1B,OAAO,IAAIxD,QAAX,GAAsB;AACvBV,YAAAA,GAAG,EAAEU;AADkB,WAAtB,GAEC;AACFuE,YAAAA,MAAM,EAAEA,MADN;AAEF9D,YAAAA,OAAO,EAAEA,OAFP;AAGFnB,YAAAA,GAAG,EAAED;AAHH,WAJwC,EAQzC;AACDY,YAAAA,KAAK,EAAEA,KADN;AAEDC,YAAAA,MAAM,EAAEA;AAFP,WARyC,CAA3B,CAP0D,EAkBtEgD,MAAM,KAAK,SAAX,IAAwB,aAAa7F,KAAK,CAACwI,aAAN,CAAoB,KAApB,EAA2B;AACnE,2BAAe,MADoD;AAEnEvF,YAAAA,SAAS,EAAE,GAAGR,MAAH,CAAUH,SAAV,EAAqB,cAArB;AAFwD,WAA3B,EAGvCI,WAHuC,CAlBiC,EAqB1DoC,WAAW,IAAIiC,UAAf,IAA6B,aAAa/G,KAAK,CAACwI,aAAN,CAAoB,KAApB,EAA2B;AACpFvF,YAAAA,SAAS,EAAE,CAAC,GAAG/C,WAAW,CAACT,OAAhB,EAAyB,GAAGgD,MAAH,CAAUH,SAAV,EAAqB,OAArB,CAAzB,EAAwD0C,aAAxD,CADyE;AAEpFlC,YAAAA,KAAK,EAAE;AACL6F,cAAAA,OAAO,EAAE,CAAC,CAAC5G,qBAAqB,GAAGwG,cAAc,CAACzF,KAAxC,MAAmD,IAAnD,IAA2Df,qBAAqB,KAAK,KAAK,CAA1F,GAA8F,KAAK,CAAnG,GAAuGA,qBAAqB,CAAC4G,OAA9H,MAA2I,MAA3I,GAAoJ,MAApJ,GAA6JpE;AADjK;AAF6E,WAA3B,EAKxDO,WALwD,CArBgB,CAAvD,EA0BF,CAACyB,cAAD,IAAmBQ,UAAnB,IAAiC,aAAa/G,KAAK,CAACwI,aAAN,CAAoBnI,QAAQ,CAACZ,OAA7B,EAAsC,CAAC,GAAGC,SAAS,CAACD,OAAd,EAAuB;AAC3H,2BAAe,CAAC+F,aAD2G;AAE3HnB,YAAAA,OAAO,EAAEmB,aAFkH;AAG3HlD,YAAAA,SAAS,EAAEE,gBAHgH;AAI3HoG,YAAAA,OAAO,EAAExG,cAJkH;AAK3H6D,YAAAA,aAAa,EAAEA,aAL4G;AAM3HhE,YAAAA,GAAG,EAAEqG,SANsH;AAO3HpG,YAAAA,GAAG,EAAEA,GAPsH;AAQ3H0C,YAAAA,YAAY,EAAEC,mBAR6G;AAS3HI,YAAAA,KAAK,EAAEA,KAToH;AAU3HC,YAAAA,SAAS,EAAEA,SAVgH;AAW3H3B,YAAAA,aAAa,EAAEA;AAX4G,WAAvB,EAYnG4B,WAZmG,CAAtC,CA1B5C,CAApB;AAuCD,SAhOD;;AAkOAtD,QAAAA,aAAa,CAACgH,YAAd,GAA6BvI,aAAa,CAACb,OAA3C;AACAoC,QAAAA,aAAa,CAACiH,WAAd,GAA4B,OAA5B;AACA,YAAIC,QAAQ,GAAGlH,aAAf;AACA9C,QAAAA,OAAO,CAACU,OAAR,GAAkBsJ,QAAlB,CArR0F,CAuR3F;;AAEA,2BAAAC,WAAW,GAAG/J,MAAM,CAACF,OAArB;;AACAkK,QAAAA,WAAW,GAAGhK,MAAM,CAACF,OAAP,CAAegC,UAA7B;AACAmI,QAAAA,SAAS,GAAGjK,MAAM,CAACF,OAAP,CAAeU,OAA3B;AAEC,OA7RD,EA6RG,OAAO;AACR,wDAAgD3B,IADxC;AAER,yCAAiCE,KAFzB;AAGR,0CAAkCE,KAH1B;AAIR,gDAAwCC,KAJhC;AAKR,iDAAyCC,KALjC;AAMR,gDAAwCC,KANhC;AAOR,yCAAiCJ,KAPzB;AAQR,0DAAkDK,KAR1C;AASR,iBAASC,KATD;AAUR,sBAAcC,KAVN;AAWR,+BAAuBC,KAXf;AAYR,4CAAoCC,MAZ5B;AAaR,qBAAaC,MAbL;AAcR,0BAAkBC;AAdV,OAAP,CA7RH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/objectSpread2';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req4} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req5} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req6} from '@babel/runtime/helpers/objectWithoutProperties';\nimport { __cjsMetaURL as _req7} from 'react';\nimport { __cjsMetaURL as _req8} from 'classnames';\nimport { __cjsMetaURL as _req9} from 'rc-util/lib/Dom/css';\nimport { __cjsMetaURL as _req10} from 'rc-util/lib/hooks/useMergedState';\nimport { __cjsMetaURL as _req11} from './Preview';\nimport { __cjsMetaURL as _req12} from './PreviewGroup';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\n var _typeof3 = require(\"@babel/runtime/helpers/typeof\");\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = void 0;\n\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\n var _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\n var _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n var _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\n var React = _interopRequireWildcard(require(\"react\"));\n\n var _classnames = _interopRequireDefault(require(\"classnames\"));\n\n var _css = require(\"rc-util/lib/Dom/css\");\n\n var _useMergedState3 = _interopRequireDefault(require(\"rc-util/lib/hooks/useMergedState\"));\n\n var _Preview = _interopRequireDefault(require(\"./Preview\"));\n\n var _PreviewGroup = _interopRequireWildcard(require(\"./PreviewGroup\"));\n\n var _excluded = [\"src\", \"alt\", \"onPreviewClose\", \"prefixCls\", \"previewPrefixCls\", \"placeholder\", \"fallback\", \"width\", \"height\", \"style\", \"preview\", \"className\", \"onClick\", \"onError\", \"wrapperClassName\", \"wrapperStyle\", \"rootClassName\", \"crossOrigin\", \"decoding\", \"loading\", \"referrerPolicy\", \"sizes\", \"srcSet\", \"useMap\", \"draggable\"],\n     _excluded2 = [\"src\", \"visible\", \"onVisibleChange\", \"getContainer\", \"mask\", \"maskClassName\", \"icons\", \"scaleStep\"];\n\n function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\n function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n var uuid = 0;\n\n var ImageInternal = function ImageInternal(_ref) {\n   var _imgCommonProps$style;\n\n   var imgSrc = _ref.src,\n       alt = _ref.alt,\n       onInitialPreviewClose = _ref.onPreviewClose,\n       _ref$prefixCls = _ref.prefixCls,\n       prefixCls = _ref$prefixCls === void 0 ? 'rc-image' : _ref$prefixCls,\n       _ref$previewPrefixCls = _ref.previewPrefixCls,\n       previewPrefixCls = _ref$previewPrefixCls === void 0 ? \"\".concat(prefixCls, \"-preview\") : _ref$previewPrefixCls,\n       placeholder = _ref.placeholder,\n       fallback = _ref.fallback,\n       width = _ref.width,\n       height = _ref.height,\n       style = _ref.style,\n       _ref$preview = _ref.preview,\n       preview = _ref$preview === void 0 ? true : _ref$preview,\n       className = _ref.className,\n       onClick = _ref.onClick,\n       onImageError = _ref.onError,\n       wrapperClassName = _ref.wrapperClassName,\n       wrapperStyle = _ref.wrapperStyle,\n       rootClassName = _ref.rootClassName,\n       crossOrigin = _ref.crossOrigin,\n       decoding = _ref.decoding,\n       loading = _ref.loading,\n       referrerPolicy = _ref.referrerPolicy,\n       sizes = _ref.sizes,\n       srcSet = _ref.srcSet,\n       useMap = _ref.useMap,\n       draggable = _ref.draggable,\n       otherProps = (0, _objectWithoutProperties2.default)(_ref, _excluded);\n   var isCustomPlaceholder = placeholder && placeholder !== true;\n\n   var _ref2 = (0, _typeof2.default)(preview) === 'object' ? preview : {},\n       previewSrc = _ref2.src,\n       _ref2$visible = _ref2.visible,\n       previewVisible = _ref2$visible === void 0 ? undefined : _ref2$visible,\n       _ref2$onVisibleChange = _ref2.onVisibleChange,\n       onPreviewVisibleChange = _ref2$onVisibleChange === void 0 ? onInitialPreviewClose : _ref2$onVisibleChange,\n       _ref2$getContainer = _ref2.getContainer,\n       getPreviewContainer = _ref2$getContainer === void 0 ? undefined : _ref2$getContainer,\n       previewMask = _ref2.mask,\n       maskClassName = _ref2.maskClassName,\n       icons = _ref2.icons,\n       scaleStep = _ref2.scaleStep,\n       dialogProps = (0, _objectWithoutProperties2.default)(_ref2, _excluded2);\n\n   var src = previewSrc !== null && previewSrc !== void 0 ? previewSrc : imgSrc;\n   var isControlled = previewVisible !== undefined;\n\n   var _useMergedState = (0, _useMergedState3.default)(!!previewVisible, {\n     value: previewVisible,\n     onChange: onPreviewVisibleChange\n   }),\n       _useMergedState2 = (0, _slicedToArray2.default)(_useMergedState, 2),\n       isShowPreview = _useMergedState2[0],\n       setShowPreview = _useMergedState2[1];\n\n   var _useState = (0, React.useState)(isCustomPlaceholder ? 'loading' : 'normal'),\n       _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n       status = _useState2[0],\n       setStatus = _useState2[1];\n\n   var _useState3 = (0, React.useState)(null),\n       _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n       mousePosition = _useState4[0],\n       setMousePosition = _useState4[1];\n\n   var isError = status === 'error';\n\n   var _React$useContext = React.useContext(_PreviewGroup.context),\n       isPreviewGroup = _React$useContext.isPreviewGroup,\n       setCurrent = _React$useContext.setCurrent,\n       setGroupShowPreview = _React$useContext.setShowPreview,\n       setGroupMousePosition = _React$useContext.setMousePosition,\n       registerImage = _React$useContext.registerImage;\n\n   var _React$useState = React.useState(function () {\n     uuid += 1;\n     return uuid;\n   }),\n       _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 1),\n       currentId = _React$useState2[0];\n\n   var canPreview = !!preview;\n   var isLoaded = React.useRef(false);\n\n   var onLoad = function onLoad() {\n     setStatus('normal');\n   };\n\n   var onError = function onError(e) {\n     if (onImageError) {\n       onImageError(e);\n     }\n\n     setStatus('error');\n   };\n\n   var onPreview = function onPreview(e) {\n     if (!isControlled) {\n       var _getOffset = (0, _css.getOffset)(e.target),\n           left = _getOffset.left,\n           top = _getOffset.top;\n\n       if (isPreviewGroup) {\n         setCurrent(currentId);\n         setGroupMousePosition({\n           x: left,\n           y: top\n         });\n       } else {\n         setMousePosition({\n           x: left,\n           y: top\n         });\n       }\n     }\n\n     if (isPreviewGroup) {\n       setGroupShowPreview(true);\n     } else {\n       setShowPreview(true);\n     }\n\n     if (onClick) onClick(e);\n   };\n\n   var onPreviewClose = function onPreviewClose(e) {\n     e.stopPropagation();\n     setShowPreview(false);\n\n     if (!isControlled) {\n       setMousePosition(null);\n     }\n   };\n\n   var getImgRef = function getImgRef(img) {\n     isLoaded.current = false;\n     if (status !== 'loading') return;\n\n     if (img !== null && img !== void 0 && img.complete && (img.naturalWidth || img.naturalHeight)) {\n       isLoaded.current = true;\n       onLoad();\n     }\n   }; // Keep order start\n   // Resolve https://github.com/ant-design/ant-design/issues/28881\n   // Only need unRegister when component unMount\n\n\n   React.useEffect(function () {\n     var unRegister = registerImage(currentId, src);\n     return unRegister;\n   }, []);\n   React.useEffect(function () {\n     registerImage(currentId, src, canPreview);\n   }, [src, canPreview]); // Keep order end\n\n   React.useEffect(function () {\n     if (isError) {\n       setStatus('normal');\n     }\n\n     if (isCustomPlaceholder && !isLoaded.current) {\n       setStatus('loading');\n     }\n   }, [imgSrc]);\n   var wrapperClass = (0, _classnames.default)(prefixCls, wrapperClassName, rootClassName, (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-error\"), isError));\n   var mergedSrc = isError && fallback ? fallback : src;\n   var imgCommonProps = {\n     crossOrigin: crossOrigin,\n     decoding: decoding,\n     draggable: draggable,\n     loading: loading,\n     referrerPolicy: referrerPolicy,\n     sizes: sizes,\n     srcSet: srcSet,\n     useMap: useMap,\n     alt: alt,\n     className: (0, _classnames.default)(\"\".concat(prefixCls, \"-img\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-img-placeholder\"), placeholder === true), className),\n     style: (0, _objectSpread2.default)({\n       height: height\n     }, style)\n   };\n   return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({}, otherProps, {\n     className: wrapperClass,\n     onClick: canPreview ? onPreview : onClick,\n     style: (0, _objectSpread2.default)({\n       width: width,\n       height: height\n     }, wrapperStyle)\n   }), /*#__PURE__*/React.createElement(\"img\", (0, _extends2.default)({}, imgCommonProps, {\n     ref: getImgRef\n   }, isError && fallback ? {\n     src: fallback\n   } : {\n     onLoad: onLoad,\n     onError: onError,\n     src: imgSrc\n   }, {\n     width: width,\n     height: height\n   })), status === 'loading' && /*#__PURE__*/React.createElement(\"div\", {\n     \"aria-hidden\": \"true\",\n     className: \"\".concat(prefixCls, \"-placeholder\")\n   }, placeholder), previewMask && canPreview && /*#__PURE__*/React.createElement(\"div\", {\n     className: (0, _classnames.default)(\"\".concat(prefixCls, \"-mask\"), maskClassName),\n     style: {\n       display: ((_imgCommonProps$style = imgCommonProps.style) === null || _imgCommonProps$style === void 0 ? void 0 : _imgCommonProps$style.display) === 'none' ? 'none' : undefined\n     }\n   }, previewMask)), !isPreviewGroup && canPreview && /*#__PURE__*/React.createElement(_Preview.default, (0, _extends2.default)({\n     \"aria-hidden\": !isShowPreview,\n     visible: isShowPreview,\n     prefixCls: previewPrefixCls,\n     onClose: onPreviewClose,\n     mousePosition: mousePosition,\n     src: mergedSrc,\n     alt: alt,\n     getContainer: getPreviewContainer,\n     icons: icons,\n     scaleStep: scaleStep,\n     rootClassName: rootClassName\n   }, dialogProps)));\n };\n\n ImageInternal.PreviewGroup = _PreviewGroup.default;\n ImageInternal.displayName = 'Image';\n var _default = ImageInternal;\n exports.default = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/typeof': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/objectSpread2': _req2,\n  '@babel/runtime/helpers/defineProperty': _req3,\n  '@babel/runtime/helpers/slicedToArray': _req4,\n  '@babel/runtime/helpers/typeof': _req5,\n  '@babel/runtime/helpers/objectWithoutProperties': _req6,\n  'react': _req7,\n  'classnames': _req8,\n  'rc-util/lib/Dom/css': _req9,\n  'rc-util/lib/hooks/useMergedState': _req10,\n  './Preview': _req11,\n  './PreviewGroup': _req12,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}