{"version":3,"sources":["file:///Users/longbow/node_modules/antd/lib/message/hooks/useMessage.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","createUseMessage","_extends2","_slicedToArray2","_useNotification","React","_","_configProvider","getRcNotificationInstance","getRCNoticeProps","useMessage","getPrefixCls","getPopupContainer","innerInstance","proxy","add","noticeProps","holderCallback","component","_useRCNotification","_useRCNotification2","hookNotify","holder","notify","args","customizePrefixCls","prefixCls","mergedPrefixCls","rootPrefixCls","target","key","getKeyThenIncreaseKey","closePromise","Promise","resolve","callback","onClose","_ref","instance","result","removeNotice","then","filled","rejected","promise","hookApiRef","useRef","current","open","typeList","forEach","type","attachTypeApi","createElement","ConfigConsumer","context","_cjsExports","___esModule","__esModule","_default","default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req3} from 'rc-notification/lib/useNotification';\nimport { __cjsMetaURL as _req4} from 'react';\nimport { __cjsMetaURL as _req5} from '..';\nimport { __cjsMetaURL as _req6} from '../../config-provider';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = createUseMessage;\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var _useNotification = _interopRequireDefault(require(\"rc-notification/lib/useNotification\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var _ = require(\"..\");\n var _configProvider = require(\"../../config-provider\");\n function createUseMessage(getRcNotificationInstance, getRCNoticeProps) {\n   var useMessage = function useMessage() {\n     // We can only get content by render\n     var getPrefixCls;\n     var getPopupContainer;\n     // We create a proxy to handle delay created instance\n     var innerInstance = null;\n     var proxy = {\n       add: function add(noticeProps, holderCallback) {\n         innerInstance === null || innerInstance === void 0 ? void 0 : innerInstance.component.add(noticeProps, holderCallback);\n       }\n     };\n     var _useRCNotification = (0, _useNotification[\"default\"])(proxy),\n       _useRCNotification2 = (0, _slicedToArray2[\"default\"])(_useRCNotification, 2),\n       hookNotify = _useRCNotification2[0],\n       holder = _useRCNotification2[1];\n     function notify(args) {\n       var customizePrefixCls = args.prefixCls;\n       var mergedPrefixCls = getPrefixCls('message', customizePrefixCls);\n       var rootPrefixCls = getPrefixCls();\n       var target = args.key || (0, _.getKeyThenIncreaseKey)();\n       var closePromise = new Promise(function (resolve) {\n         var callback = function callback() {\n           if (typeof args.onClose === 'function') {\n             args.onClose();\n           }\n           return resolve(true);\n         };\n         getRcNotificationInstance((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, args), {\n           prefixCls: mergedPrefixCls,\n           rootPrefixCls: rootPrefixCls,\n           getPopupContainer: getPopupContainer\n         }), function (_ref) {\n           var prefixCls = _ref.prefixCls,\n             instance = _ref.instance;\n           innerInstance = instance;\n           hookNotify(getRCNoticeProps((0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, args), {\n             key: target,\n             onClose: callback\n           }), prefixCls));\n         });\n       });\n       var result = function result() {\n         if (innerInstance) {\n           innerInstance.removeNotice(target);\n         }\n       };\n       result.then = function (filled, rejected) {\n         return closePromise.then(filled, rejected);\n       };\n       result.promise = closePromise;\n       return result;\n     }\n     // Fill functions\n     var hookApiRef = React.useRef({});\n     hookApiRef.current.open = notify;\n     _.typeList.forEach(function (type) {\n       return (0, _.attachTypeApi)(hookApiRef.current, type);\n     });\n     return [hookApiRef.current, /*#__PURE__*/React.createElement(_configProvider.ConfigConsumer, {\n       key: \"holder\"\n     }, function (context) {\n       getPrefixCls = context.getPrefixCls;\n       getPopupContainer = context.getPopupContainer;\n       return holder;\n     })];\n   };\n   return useMessage;\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/slicedToArray': _req2,\n  'rc-notification/lib/useNotification': _req3,\n  'react': _req4,\n  '..': _req5,\n  '../../config-provider': _req6,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}