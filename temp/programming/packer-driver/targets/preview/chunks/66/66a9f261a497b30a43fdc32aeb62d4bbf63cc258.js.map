{"version":3,"sources":["file:///Users/longbow/node_modules/rc-upload/lib/AjaxUploader.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","_req9","_req10","_req11","_req12","_req13","_req14","_req15","_req16","_req17","_req18","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","value","default","_extends2","_defineProperty2","_objectWithoutProperties2","_regeneratorRuntime2","_typeof2","_asyncToGenerator2","_toConsumableArray2","_classCallCheck2","_createClass2","_inherits2","_createSuper2","_react","_classnames","_pickAttrs","_request","_uid","_attrAccept","_traverseFileTree","_excluded","AjaxUploader","_Component","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","state","uid","reqs","fileInput","_isMounted","onChange","e","_this$props","props","accept","directory","files","target","acceptedFiles","filter","file","uploadFiles","reset","onClick","el","_this$props2","children","type","parent","parentNode","focus","querySelector","blur","click","onKeyDown","key","onFileDrop","multiple","preventDefault","prototype","slice","dataTransfer","items","_file","originFiles","postFiles","map","processFile","Promise","all","then","fileList","onBatchStart","_ref","origin","parsedFile","forEach","post","_ref2","mark","_callee","beforeUpload","transformedFile","action","mergedAction","data","mergedData","parsedData","mergedParsedFile","wrap","_callee$","_context","prev","next","sent","t0","abrupt","File","name","stop","_x","_x2","saveFileInput","node","componentDidMount","componentWillUnmount","abort","_ref3","_this2","_this$props3","onStart","customRequest","headers","withCredentials","method","request","requestOption","filename","onProgress","onSuccess","ret","xhr","onError","err","setState","keys","render","_classNames","_this$props4","Tag","component","prefixCls","className","disabled","id","style","capture","openFileDialogOnClick","onMouseEnter","onMouseLeave","otherProps","cls","dirProps","webkitdirectory","events","onDrop","onDragOver","tabIndex","createElement","role","aria","ref","stopPropagation","display","Component","_default","_cjsExports","___esModule","__esModule","_default0"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/objectWithoutProperties';\nimport { __cjsMetaURL as _req4} from '@babel/runtime/helpers/regeneratorRuntime';\nimport { __cjsMetaURL as _req5} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req6} from '@babel/runtime/helpers/asyncToGenerator';\nimport { __cjsMetaURL as _req7} from '@babel/runtime/helpers/toConsumableArray';\nimport { __cjsMetaURL as _req8} from '@babel/runtime/helpers/classCallCheck';\nimport { __cjsMetaURL as _req9} from '@babel/runtime/helpers/createClass';\nimport { __cjsMetaURL as _req10} from '@babel/runtime/helpers/inherits';\nimport { __cjsMetaURL as _req11} from '@babel/runtime/helpers/createSuper';\nimport { __cjsMetaURL as _req12} from 'react';\nimport { __cjsMetaURL as _req13} from 'classnames';\nimport { __cjsMetaURL as _req14} from 'rc-util/lib/pickAttrs';\nimport { __cjsMetaURL as _req15} from './request';\nimport { __cjsMetaURL as _req16} from './uid';\nimport { __cjsMetaURL as _req17} from './attr-accept';\nimport { __cjsMetaURL as _req18} from './traverseFileTree';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = void 0;\n\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\n var _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\n var _regeneratorRuntime2 = _interopRequireDefault(require(\"@babel/runtime/helpers/regeneratorRuntime\"));\n\n var _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n var _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\n var _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\n var _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\n var _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\n var _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\n var _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\n var _react = _interopRequireWildcard(require(\"react\"));\n\n var _classnames = _interopRequireDefault(require(\"classnames\"));\n\n var _pickAttrs = _interopRequireDefault(require(\"rc-util/lib/pickAttrs\"));\n\n var _request = _interopRequireDefault(require(\"./request\"));\n\n var _uid = _interopRequireDefault(require(\"./uid\"));\n\n var _attrAccept = _interopRequireDefault(require(\"./attr-accept\"));\n\n var _traverseFileTree = _interopRequireDefault(require(\"./traverseFileTree\"));\n\n var _excluded = [\"component\", \"prefixCls\", \"className\", \"disabled\", \"id\", \"style\", \"multiple\", \"accept\", \"capture\", \"children\", \"directory\", \"openFileDialogOnClick\", \"onMouseEnter\", \"onMouseLeave\"];\n\n var AjaxUploader = /*#__PURE__*/function (_Component) {\n   (0, _inherits2.default)(AjaxUploader, _Component);\n\n   var _super = (0, _createSuper2.default)(AjaxUploader);\n\n   function AjaxUploader() {\n     var _this;\n\n     (0, _classCallCheck2.default)(this, AjaxUploader);\n\n     for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n       args[_key] = arguments[_key];\n     }\n\n     _this = _super.call.apply(_super, [this].concat(args));\n     _this.state = {\n       uid: (0, _uid.default)()\n     };\n     _this.reqs = {};\n     _this.fileInput = void 0;\n     _this._isMounted = void 0;\n\n     _this.onChange = function (e) {\n       var _this$props = _this.props,\n           accept = _this$props.accept,\n           directory = _this$props.directory;\n       var files = e.target.files;\n       var acceptedFiles = (0, _toConsumableArray2.default)(files).filter(function (file) {\n         return !directory || (0, _attrAccept.default)(file, accept);\n       });\n\n       _this.uploadFiles(acceptedFiles);\n\n       _this.reset();\n     };\n\n     _this.onClick = function (e) {\n       var el = _this.fileInput;\n\n       if (!el) {\n         return;\n       }\n\n       var _this$props2 = _this.props,\n           children = _this$props2.children,\n           onClick = _this$props2.onClick;\n\n       if (children && children.type === 'button') {\n         var parent = el.parentNode;\n         parent.focus();\n         parent.querySelector('button').blur();\n       }\n\n       el.click();\n\n       if (onClick) {\n         onClick(e);\n       }\n     };\n\n     _this.onKeyDown = function (e) {\n       if (e.key === 'Enter') {\n         _this.onClick(e);\n       }\n     };\n\n     _this.onFileDrop = function (e) {\n       var multiple = _this.props.multiple;\n       e.preventDefault();\n\n       if (e.type === 'dragover') {\n         return;\n       }\n\n       if (_this.props.directory) {\n         (0, _traverseFileTree.default)(Array.prototype.slice.call(e.dataTransfer.items), _this.uploadFiles, function (_file) {\n           return (0, _attrAccept.default)(_file, _this.props.accept);\n         });\n       } else {\n         var files = (0, _toConsumableArray2.default)(e.dataTransfer.files).filter(function (file) {\n           return (0, _attrAccept.default)(file, _this.props.accept);\n         });\n\n         if (multiple === false) {\n           files = files.slice(0, 1);\n         }\n\n         _this.uploadFiles(files);\n       }\n     };\n\n     _this.uploadFiles = function (files) {\n       var originFiles = (0, _toConsumableArray2.default)(files);\n       var postFiles = originFiles.map(function (file) {\n         // eslint-disable-next-line no-param-reassign\n         file.uid = (0, _uid.default)();\n         return _this.processFile(file, originFiles);\n       }); // Batch upload files\n\n       Promise.all(postFiles).then(function (fileList) {\n         var onBatchStart = _this.props.onBatchStart;\n         onBatchStart === null || onBatchStart === void 0 ? void 0 : onBatchStart(fileList.map(function (_ref) {\n           var origin = _ref.origin,\n               parsedFile = _ref.parsedFile;\n           return {\n             file: origin,\n             parsedFile: parsedFile\n           };\n         }));\n         fileList.filter(function (file) {\n           return file.parsedFile !== null;\n         }).forEach(function (file) {\n           _this.post(file);\n         });\n       });\n     };\n\n     _this.processFile = /*#__PURE__*/function () {\n       var _ref2 = (0, _asyncToGenerator2.default)( /*#__PURE__*/(0, _regeneratorRuntime2.default)().mark(function _callee(file, fileList) {\n         var beforeUpload, transformedFile, action, mergedAction, data, mergedData, parsedData, parsedFile, mergedParsedFile;\n         return (0, _regeneratorRuntime2.default)().wrap(function _callee$(_context) {\n           while (1) {\n             switch (_context.prev = _context.next) {\n               case 0:\n                 beforeUpload = _this.props.beforeUpload;\n                 transformedFile = file;\n\n                 if (!beforeUpload) {\n                   _context.next = 14;\n                   break;\n                 }\n\n                 _context.prev = 3;\n                 _context.next = 6;\n                 return beforeUpload(file, fileList);\n\n               case 6:\n                 transformedFile = _context.sent;\n                 _context.next = 12;\n                 break;\n\n               case 9:\n                 _context.prev = 9;\n                 _context.t0 = _context[\"catch\"](3);\n                 // Rejection will also trade as false\n                 transformedFile = false;\n\n               case 12:\n                 if (!(transformedFile === false)) {\n                   _context.next = 14;\n                   break;\n                 }\n\n                 return _context.abrupt(\"return\", {\n                   origin: file,\n                   parsedFile: null,\n                   action: null,\n                   data: null\n                 });\n\n               case 14:\n                 // Get latest action\n                 action = _this.props.action;\n\n                 if (!(typeof action === 'function')) {\n                   _context.next = 21;\n                   break;\n                 }\n\n                 _context.next = 18;\n                 return action(file);\n\n               case 18:\n                 mergedAction = _context.sent;\n                 _context.next = 22;\n                 break;\n\n               case 21:\n                 mergedAction = action;\n\n               case 22:\n                 // Get latest data\n                 data = _this.props.data;\n\n                 if (!(typeof data === 'function')) {\n                   _context.next = 29;\n                   break;\n                 }\n\n                 _context.next = 26;\n                 return data(file);\n\n               case 26:\n                 mergedData = _context.sent;\n                 _context.next = 30;\n                 break;\n\n               case 29:\n                 mergedData = data;\n\n               case 30:\n                 parsedData = // string type is from legacy `transformFile`.\n                 // Not sure if this will work since no related test case works with it\n                 ((0, _typeof2.default)(transformedFile) === 'object' || typeof transformedFile === 'string') && transformedFile ? transformedFile : file;\n\n                 if (parsedData instanceof File) {\n                   parsedFile = parsedData;\n                 } else {\n                   parsedFile = new File([parsedData], file.name, {\n                     type: file.type\n                   });\n                 }\n\n                 mergedParsedFile = parsedFile;\n                 mergedParsedFile.uid = file.uid;\n                 return _context.abrupt(\"return\", {\n                   origin: file,\n                   data: mergedData,\n                   parsedFile: mergedParsedFile,\n                   action: mergedAction\n                 });\n\n               case 35:\n               case \"end\":\n                 return _context.stop();\n             }\n           }\n         }, _callee, null, [[3, 9]]);\n       }));\n\n       return function (_x, _x2) {\n         return _ref2.apply(this, arguments);\n       };\n     }();\n\n     _this.saveFileInput = function (node) {\n       _this.fileInput = node;\n     };\n\n     return _this;\n   }\n\n   (0, _createClass2.default)(AjaxUploader, [{\n     key: \"componentDidMount\",\n     value: function componentDidMount() {\n       this._isMounted = true;\n     }\n   }, {\n     key: \"componentWillUnmount\",\n     value: function componentWillUnmount() {\n       this._isMounted = false;\n       this.abort();\n     }\n   }, {\n     key: \"post\",\n     value: function post(_ref3) {\n       var _this2 = this;\n\n       var data = _ref3.data,\n           origin = _ref3.origin,\n           action = _ref3.action,\n           parsedFile = _ref3.parsedFile;\n\n       if (!this._isMounted) {\n         return;\n       }\n\n       var _this$props3 = this.props,\n           onStart = _this$props3.onStart,\n           customRequest = _this$props3.customRequest,\n           name = _this$props3.name,\n           headers = _this$props3.headers,\n           withCredentials = _this$props3.withCredentials,\n           method = _this$props3.method;\n       var uid = origin.uid;\n       var request = customRequest || _request.default;\n       var requestOption = {\n         action: action,\n         filename: name,\n         data: data,\n         file: parsedFile,\n         headers: headers,\n         withCredentials: withCredentials,\n         method: method || 'post',\n         onProgress: function onProgress(e) {\n           var onProgress = _this2.props.onProgress;\n           onProgress === null || onProgress === void 0 ? void 0 : onProgress(e, parsedFile);\n         },\n         onSuccess: function onSuccess(ret, xhr) {\n           var onSuccess = _this2.props.onSuccess;\n           onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess(ret, parsedFile, xhr);\n           delete _this2.reqs[uid];\n         },\n         onError: function onError(err, ret) {\n           var onError = _this2.props.onError;\n           onError === null || onError === void 0 ? void 0 : onError(err, ret, parsedFile);\n           delete _this2.reqs[uid];\n         }\n       };\n       onStart(origin);\n       this.reqs[uid] = request(requestOption);\n     }\n   }, {\n     key: \"reset\",\n     value: function reset() {\n       this.setState({\n         uid: (0, _uid.default)()\n       });\n     }\n   }, {\n     key: \"abort\",\n     value: function abort(file) {\n       var reqs = this.reqs;\n\n       if (file) {\n         var uid = file.uid ? file.uid : file;\n\n         if (reqs[uid] && reqs[uid].abort) {\n           reqs[uid].abort();\n         }\n\n         delete reqs[uid];\n       } else {\n         Object.keys(reqs).forEach(function (uid) {\n           if (reqs[uid] && reqs[uid].abort) {\n             reqs[uid].abort();\n           }\n\n           delete reqs[uid];\n         });\n       }\n     }\n   }, {\n     key: \"render\",\n     value: function render() {\n       var _classNames;\n\n       var _this$props4 = this.props,\n           Tag = _this$props4.component,\n           prefixCls = _this$props4.prefixCls,\n           className = _this$props4.className,\n           disabled = _this$props4.disabled,\n           id = _this$props4.id,\n           style = _this$props4.style,\n           multiple = _this$props4.multiple,\n           accept = _this$props4.accept,\n           capture = _this$props4.capture,\n           children = _this$props4.children,\n           directory = _this$props4.directory,\n           openFileDialogOnClick = _this$props4.openFileDialogOnClick,\n           onMouseEnter = _this$props4.onMouseEnter,\n           onMouseLeave = _this$props4.onMouseLeave,\n           otherProps = (0, _objectWithoutProperties2.default)(_this$props4, _excluded);\n       var cls = (0, _classnames.default)((_classNames = {}, (0, _defineProperty2.default)(_classNames, prefixCls, true), (0, _defineProperty2.default)(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), (0, _defineProperty2.default)(_classNames, className, className), _classNames)); // because input don't have directory/webkitdirectory type declaration\n\n       var dirProps = directory ? {\n         directory: 'directory',\n         webkitdirectory: 'webkitdirectory'\n       } : {};\n       var events = disabled ? {} : {\n         onClick: openFileDialogOnClick ? this.onClick : function () {},\n         onKeyDown: openFileDialogOnClick ? this.onKeyDown : function () {},\n         onMouseEnter: onMouseEnter,\n         onMouseLeave: onMouseLeave,\n         onDrop: this.onFileDrop,\n         onDragOver: this.onFileDrop,\n         tabIndex: '0'\n       };\n       return /*#__PURE__*/_react.default.createElement(Tag, (0, _extends2.default)({}, events, {\n         className: cls,\n         role: \"button\",\n         style: style\n       }), /*#__PURE__*/_react.default.createElement(\"input\", (0, _extends2.default)({}, (0, _pickAttrs.default)(otherProps, {\n         aria: true,\n         data: true\n       }), {\n         id: id,\n         type: \"file\",\n         ref: this.saveFileInput,\n         onClick: function onClick(e) {\n           return e.stopPropagation();\n         } // https://github.com/ant-design/ant-design/issues/19948\n         ,\n         key: this.state.uid,\n         style: {\n           display: 'none'\n         },\n         accept: accept\n       }, dirProps, {\n         multiple: multiple,\n         onChange: this.onChange\n       }, capture != null ? {\n         capture: capture\n       } : {})), children);\n     }\n   }]);\n   return AjaxUploader;\n }(_react.Component);\n\n var _default = AjaxUploader;\n exports.default = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/interopRequireWildcard': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/defineProperty': _req2,\n  '@babel/runtime/helpers/objectWithoutProperties': _req3,\n  '@babel/runtime/helpers/regeneratorRuntime': _req4,\n  '@babel/runtime/helpers/typeof': _req5,\n  '@babel/runtime/helpers/asyncToGenerator': _req6,\n  '@babel/runtime/helpers/toConsumableArray': _req7,\n  '@babel/runtime/helpers/classCallCheck': _req8,\n  '@babel/runtime/helpers/createClass': _req9,\n  '@babel/runtime/helpers/inherits': _req10,\n  '@babel/runtime/helpers/createSuper': _req11,\n  'react': _req12,\n  'classnames': _req13,\n  'rc-util/lib/pickAttrs': _req14,\n  './request': _req15,\n  './uid': _req16,\n  './attr-accept': _req17,\n  './traverseFileTree': _req18,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}