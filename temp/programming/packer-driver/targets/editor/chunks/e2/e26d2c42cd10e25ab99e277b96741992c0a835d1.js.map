{"version":3,"sources":["file:///Users/longbow/node_modules/rc-field-form/lib/FormContext.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","FormProvider","_defineProperty2","_objectSpread3","React","FormContext","createContext","triggerFormChange","triggerFormFinish","registerForm","unregisterForm","_ref","validateMessages","onFormChange","onFormFinish","children","formContext","useContext","formsRef","useRef","createElement","Provider","name","changedFields","forms","current","values","form","newForms","_default","_cjsExports","___esModule","__esModule","_default0","_FormProvider"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/objectSpread2';\nimport { __cjsMetaURL as _req3} from 'react';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nlet _FormProvider;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = exports.FormProvider = void 0;\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n var _objectSpread3 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var FormContext = /*#__PURE__*/React.createContext({\n   triggerFormChange: function triggerFormChange() {},\n   triggerFormFinish: function triggerFormFinish() {},\n   registerForm: function registerForm() {},\n   unregisterForm: function unregisterForm() {}\n });\n var FormProvider = function FormProvider(_ref) {\n   var validateMessages = _ref.validateMessages,\n     onFormChange = _ref.onFormChange,\n     onFormFinish = _ref.onFormFinish,\n     children = _ref.children;\n   var formContext = React.useContext(FormContext);\n   var formsRef = React.useRef({});\n   return /*#__PURE__*/React.createElement(FormContext.Provider, {\n     value: (0, _objectSpread3.default)((0, _objectSpread3.default)({}, formContext), {}, {\n       validateMessages: (0, _objectSpread3.default)((0, _objectSpread3.default)({}, formContext.validateMessages), validateMessages),\n       // =========================================================\n       // =                  Global Form Control                  =\n       // =========================================================\n       triggerFormChange: function triggerFormChange(name, changedFields) {\n         if (onFormChange) {\n           onFormChange(name, {\n             changedFields: changedFields,\n             forms: formsRef.current\n           });\n         }\n         formContext.triggerFormChange(name, changedFields);\n       },\n       triggerFormFinish: function triggerFormFinish(name, values) {\n         if (onFormFinish) {\n           onFormFinish(name, {\n             values: values,\n             forms: formsRef.current\n           });\n         }\n         formContext.triggerFormFinish(name, values);\n       },\n       registerForm: function registerForm(name, form) {\n         if (name) {\n           formsRef.current = (0, _objectSpread3.default)((0, _objectSpread3.default)({}, formsRef.current), {}, (0, _defineProperty2.default)({}, name, form));\n         }\n         formContext.registerForm(name, form);\n       },\n       unregisterForm: function unregisterForm(name) {\n         var newForms = (0, _objectSpread3.default)({}, formsRef.current);\n         delete newForms[name];\n         formsRef.current = newForms;\n         formContext.unregisterForm(name);\n       }\n     })\n   }, children);\n };\n exports.FormProvider = FormProvider;\n var _default = FormContext;\n exports.default = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n_FormProvider = module.exports.FormProvider;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/defineProperty': _req1,\n  '@babel/runtime/helpers/objectSpread2': _req2,\n  'react': _req3,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}