{"version":3,"sources":["file:///Users/longbow/node_modules/rc-textarea/lib/calculateNodeHeight.js"],"names":["_cjsLoader","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","calculateNodeStyling","default","calculateAutoSizeStyle","HIDDEN_TEXTAREA_STYLE","SIZING_STYLE","computedStyleCache","hiddenTextarea","node","useCache","arguments","length","undefined","nodeRef","getAttribute","style","window","getComputedStyle","boxSizing","getPropertyValue","paddingSize","parseFloat","borderSize","sizingStyle","map","name","concat","join","nodeInfo","uiTextNode","minRows","maxRows","document","createElement","setAttribute","body","appendChild","removeAttribute","_calculateNodeStyling","placeholder","minHeight","maxHeight","overflowY","height","scrollHeight","singleRowHeight","Math","max","min","resize","_cjsExports","___esModule","__esModule","_calculateNodeStyling0","_default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nlet ___esModule;\nlet _calculateNodeStyling0;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.calculateNodeStyling = calculateNodeStyling;\n exports.default = calculateAutoSizeStyle;\n // Thanks to https://github.com/andreypopp/react-textarea-autosize/\n /**\n  * calculateNodeHeight(uiTextNode, useCache = false)\n  */\n var HIDDEN_TEXTAREA_STYLE = \"\\n  min-height:0 !important;\\n  max-height:none !important;\\n  height:0 !important;\\n  visibility:hidden !important;\\n  overflow:hidden !important;\\n  position:absolute !important;\\n  z-index:-1000 !important;\\n  top:0 !important;\\n  right:0 !important;\\n  pointer-events: none !important;\\n\";\n var SIZING_STYLE = ['letter-spacing', 'line-height', 'padding-top', 'padding-bottom', 'font-family', 'font-weight', 'font-size', 'font-variant', 'text-rendering', 'text-transform', 'width', 'text-indent', 'padding-left', 'padding-right', 'border-width', 'box-sizing', 'word-break'];\n var computedStyleCache = {};\n var hiddenTextarea;\n function calculateNodeStyling(node) {\n   var useCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n   var nodeRef = node.getAttribute('id') || node.getAttribute('data-reactid') || node.getAttribute('name');\n   if (useCache && computedStyleCache[nodeRef]) {\n     return computedStyleCache[nodeRef];\n   }\n   var style = window.getComputedStyle(node);\n   var boxSizing = style.getPropertyValue('box-sizing') || style.getPropertyValue('-moz-box-sizing') || style.getPropertyValue('-webkit-box-sizing');\n   var paddingSize = parseFloat(style.getPropertyValue('padding-bottom')) + parseFloat(style.getPropertyValue('padding-top'));\n   var borderSize = parseFloat(style.getPropertyValue('border-bottom-width')) + parseFloat(style.getPropertyValue('border-top-width'));\n   var sizingStyle = SIZING_STYLE.map(function (name) {\n     return \"\".concat(name, \":\").concat(style.getPropertyValue(name));\n   }).join(';');\n   var nodeInfo = {\n     sizingStyle: sizingStyle,\n     paddingSize: paddingSize,\n     borderSize: borderSize,\n     boxSizing: boxSizing\n   };\n   if (useCache && nodeRef) {\n     computedStyleCache[nodeRef] = nodeInfo;\n   }\n   return nodeInfo;\n }\n function calculateAutoSizeStyle(uiTextNode) {\n   var useCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n   var minRows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n   var maxRows = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n   if (!hiddenTextarea) {\n     hiddenTextarea = document.createElement('textarea');\n     hiddenTextarea.setAttribute('tab-index', '-1');\n     hiddenTextarea.setAttribute('aria-hidden', 'true');\n     document.body.appendChild(hiddenTextarea);\n   }\n   // Fix wrap=\"off\" issue\n   // https://github.com/ant-design/ant-design/issues/6577\n   if (uiTextNode.getAttribute('wrap')) {\n     hiddenTextarea.setAttribute('wrap', uiTextNode.getAttribute('wrap'));\n   } else {\n     hiddenTextarea.removeAttribute('wrap');\n   }\n   // Copy all CSS properties that have an impact on the height of the content in\n   // the textbox\n   var _calculateNodeStyling = calculateNodeStyling(uiTextNode, useCache),\n     paddingSize = _calculateNodeStyling.paddingSize,\n     borderSize = _calculateNodeStyling.borderSize,\n     boxSizing = _calculateNodeStyling.boxSizing,\n     sizingStyle = _calculateNodeStyling.sizingStyle;\n   // Need to have the overflow attribute to hide the scrollbar otherwise\n   // text-lines will not calculated properly as the shadow will technically be\n   // narrower for content\n   hiddenTextarea.setAttribute('style', \"\".concat(sizingStyle, \";\").concat(HIDDEN_TEXTAREA_STYLE));\n   hiddenTextarea.value = uiTextNode.value || uiTextNode.placeholder || '';\n   var minHeight = undefined;\n   var maxHeight = undefined;\n   var overflowY;\n   var height = hiddenTextarea.scrollHeight;\n   if (boxSizing === 'border-box') {\n     // border-box: add border, since height = content + padding + border\n     height += borderSize;\n   } else if (boxSizing === 'content-box') {\n     // remove padding, since height = content\n     height -= paddingSize;\n   }\n   if (minRows !== null || maxRows !== null) {\n     // measure height of a textarea with a single row\n     hiddenTextarea.value = ' ';\n     var singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n     if (minRows !== null) {\n       minHeight = singleRowHeight * minRows;\n       if (boxSizing === 'border-box') {\n         minHeight = minHeight + paddingSize + borderSize;\n       }\n       height = Math.max(minHeight, height);\n     }\n     if (maxRows !== null) {\n       maxHeight = singleRowHeight * maxRows;\n       if (boxSizing === 'border-box') {\n         maxHeight = maxHeight + paddingSize + borderSize;\n       }\n       overflowY = height > maxHeight ? '' : 'hidden';\n       height = Math.min(maxHeight, height);\n     }\n   }\n   var style = {\n     height: height,\n     overflowY: overflowY,\n     resize: 'none'\n   };\n   if (minHeight) {\n     style.minHeight = minHeight;\n   }\n   if (maxHeight) {\n     style.maxHeight = maxHeight;\n   }\n   return style;\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_calculateNodeStyling0 = module.exports.calculateNodeStyling;\n_default = module.exports.default;\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}