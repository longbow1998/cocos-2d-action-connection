{"version":3,"sources":["file:///Users/longbow/node_modules/rc-align/lib/util.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","Object","defineProperty","value","isSamePoint","monitorResize","restoreFocus","_slicedToArray2","_resizeObserverPolyfill","_contains","prev","next","pageX","pageY","clientX","clientY","activeElement","container","document","default","focus","element","callback","prevWidth","prevHeight","onResize","_ref","_ref2","target","documentElement","contains","_target$getBoundingCl","getBoundingClientRect","width","height","fixedWidth","Math","floor","fixedHeight","Promise","resolve","then","resizeObserver","observe","disconnect","_cjsExports","___esModule","__esModule","_isSamePoint","_monitorResize","_restoreFocus"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req1} from 'resize-observer-polyfill';\nimport { __cjsMetaURL as _req2} from 'rc-util/lib/Dom/contains';\nlet _cjsExports;\nlet ___esModule;\nlet _isSamePoint;\nlet _monitorResize;\nlet _restoreFocus;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.isSamePoint = isSamePoint;\n exports.monitorResize = monitorResize;\n exports.restoreFocus = restoreFocus;\n\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\n var _resizeObserverPolyfill = _interopRequireDefault(require(\"resize-observer-polyfill\"));\n\n var _contains = _interopRequireDefault(require(\"rc-util/lib/Dom/contains\"));\n\n function isSamePoint(prev, next) {\n   if (prev === next) return true;\n   if (!prev || !next) return false;\n\n   if ('pageX' in next && 'pageY' in next) {\n     return prev.pageX === next.pageX && prev.pageY === next.pageY;\n   }\n\n   if ('clientX' in next && 'clientY' in next) {\n     return prev.clientX === next.clientX && prev.clientY === next.clientY;\n   }\n\n   return false;\n }\n\n function restoreFocus(activeElement, container) {\n   // Focus back if is in the container\n   if (activeElement !== document.activeElement && (0, _contains.default)(container, activeElement) && typeof activeElement.focus === 'function') {\n     activeElement.focus();\n   }\n }\n\n function monitorResize(element, callback) {\n   var prevWidth = null;\n   var prevHeight = null;\n\n   function onResize(_ref) {\n     var _ref2 = (0, _slicedToArray2.default)(_ref, 1),\n         target = _ref2[0].target;\n\n     if (!document.documentElement.contains(target)) return;\n\n     var _target$getBoundingCl = target.getBoundingClientRect(),\n         width = _target$getBoundingCl.width,\n         height = _target$getBoundingCl.height;\n\n     var fixedWidth = Math.floor(width);\n     var fixedHeight = Math.floor(height);\n\n     if (prevWidth !== fixedWidth || prevHeight !== fixedHeight) {\n       // https://webkit.org/blog/9997/resizeobserver-in-webkit/\n       Promise.resolve().then(function () {\n         callback({\n           width: fixedWidth,\n           height: fixedHeight\n         });\n       });\n     }\n\n     prevWidth = fixedWidth;\n     prevHeight = fixedHeight;\n   }\n\n   var resizeObserver = new _resizeObserverPolyfill.default(onResize);\n\n   if (element) {\n     resizeObserver.observe(element);\n   }\n\n   return function () {\n     resizeObserver.disconnect();\n   };\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_isSamePoint = module.exports.isSamePoint;\n_monitorResize = module.exports.monitorResize;\n_restoreFocus = module.exports.restoreFocus;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/slicedToArray': _req0,\n  'resize-observer-polyfill': _req1,\n  'rc-util/lib/Dom/contains': _req2,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}