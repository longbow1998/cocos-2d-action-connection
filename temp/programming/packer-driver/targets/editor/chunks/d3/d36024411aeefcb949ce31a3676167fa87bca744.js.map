{"version":3,"sources":["file:///Users/longbow/node_modules/antd/lib/table/hooks/useFilter/index.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","flattenKeys","getFilterData","_slicedToArray2","_extends2","_toConsumableArray2","React","_warning","_util","_FilterDropdown","collectFilterStates","columns","init","pos","filterStates","forEach","column","index","_a","columnPos","getColumnPos","filters","filteredValues","filteredValue","map","String","push","key","getColumnKey","filteredKeys","forceFiltered","filtered","defaultFilteredValue","undefined","concat","children","injectFilter","prefixCls","dropdownPrefixCls","triggerFilter","getPopupContainer","locale","_column$filterMultipl","filterMultiple","filterMode","filterSearch","newColumn","filterDropdown","columnKey","filterState","find","_ref","title","renderProps","createElement","tablePrefixCls","renderColumnTitle","keys","_ref2","generateFilterInfo","currentFilters","_ref3","Array","isArray","filter","originKey","includes","data","reduce","currentData","_filterState$column","onFilter","length","record","some","keyIndex","findIndex","k","realKey","useFilter","_ref4","mergedColumns","onFilterChange","tableLocale","_React$useState","useState","_React$useState2","setFilterStates","mergedFilterStates","useMemo","collectedStates","filteredKeysIsAllNotControlled","filteredKeysIsAllControlled","_ref5","process","env","NODE_ENV","newFilterStates","_ref6","transformColumns","innerColumns","_default","_cjsExports","___esModule","__esModule","_default0","default","_flattenKeys","_getFilterData"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,8CAAhBC,Y;;AACgBC,MAAAA,K,6CAAhBD,Y;;AACgBE,MAAAA,K,qCAAhBF,Y;;AACgBG,MAAAA,K,+BAAhBH,Y;;AACgBI,MAAAA,K,yCAAhBJ,Y;;AACgBK,MAAAA,K,UAAhBL,Y;;AACgBM,MAAAA,K,iBAAhBN,Y;;AACgBO,MAAAA,K,iBAAhBP,Y;;AACgBQ,MAAAA,K,iBAAhBR,Y;;;8BAMHA,Y,GAAe,cAAYS,G;;AACjCX,MAAAA,UAAU,CAACY,MAAX,CAAkBV,YAAlB,EAAgC,UAAUW,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AAEA,YAAIC,uBAAuB,GAAGJ,OAAO,CAAC,+CAAD,CAAP,CAAyD,SAAzD,CAA9B;;AACA,YAAIK,sBAAsB,GAAGL,OAAO,CAAC,8CAAD,CAAP,CAAwD,SAAxD,CAA7B;;AACAM,QAAAA,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CS,UAAAA,KAAK,EAAE;AADoC,SAA7C;AAGAT,QAAAA,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;AACAA,QAAAA,OAAO,CAACU,WAAR,GAAsBA,WAAtB;AACAV,QAAAA,OAAO,CAACW,aAAR,GAAwBA,aAAxB;;AACA,YAAIC,eAAe,GAAGN,sBAAsB,CAACL,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AACA,YAAIY,SAAS,GAAGP,sBAAsB,CAACL,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AACA,YAAIa,mBAAmB,GAAGR,sBAAsB,CAACL,OAAO,CAAC,0CAAD,CAAR,CAAhD;;AACA,YAAIc,KAAK,GAAGV,uBAAuB,CAACJ,OAAO,CAAC,OAAD,CAAR,CAAnC;;AACA,YAAIe,QAAQ,GAAGV,sBAAsB,CAACL,OAAO,CAAC,wBAAD,CAAR,CAArC;;AACA,YAAIgB,KAAK,GAAGhB,OAAO,CAAC,YAAD,CAAnB;;AACA,YAAIiB,eAAe,GAAGZ,sBAAsB,CAACL,OAAO,CAAC,kBAAD,CAAR,CAA5C;;AACA,iBAASkB,mBAAT,CAA6BC,OAA7B,EAAsCC,IAAtC,EAA4CC,GAA5C,EAAiD;AAC/C,cAAIC,YAAY,GAAG,EAAnB;AACA,WAACH,OAAO,IAAI,EAAZ,EAAgBI,OAAhB,CAAwB,UAAUC,MAAV,EAAkBC,KAAlB,EAAyB;AAC/C,gBAAIC,EAAJ;;AACA,gBAAIC,SAAS,GAAG,CAAC,GAAGX,KAAK,CAACY,YAAV,EAAwBH,KAAxB,EAA+BJ,GAA/B,CAAhB;;AACA,gBAAIG,MAAM,CAACK,OAAP,IAAkB,oBAAoBL,MAAtC,IAAgD,cAAcA,MAAlE,EAA0E;AACxE,kBAAI,mBAAmBA,MAAvB,EAA+B;AAC7B;AACA,oBAAIM,cAAc,GAAGN,MAAM,CAACO,aAA5B;;AACA,oBAAI,EAAE,oBAAoBP,MAAtB,CAAJ,EAAmC;AACjCM,kBAAAA,cAAc,GAAG,CAACJ,EAAE,GAAGI,cAAc,KAAK,IAAnB,IAA2BA,cAAc,KAAK,KAAK,CAAnD,GAAuD,KAAK,CAA5D,GAAgEA,cAAc,CAACE,GAAf,CAAmBC,MAAnB,CAAtE,MAAsG,IAAtG,IAA8GP,EAAE,KAAK,KAAK,CAA1H,GAA8HA,EAA9H,GAAmII,cAApJ;AACD;;AACDR,gBAAAA,YAAY,CAACY,IAAb,CAAkB;AAChBV,kBAAAA,MAAM,EAAEA,MADQ;AAEhBW,kBAAAA,GAAG,EAAE,CAAC,GAAGnB,KAAK,CAACoB,YAAV,EAAwBZ,MAAxB,EAAgCG,SAAhC,CAFW;AAGhBU,kBAAAA,YAAY,EAAEP,cAHE;AAIhBQ,kBAAAA,aAAa,EAAEd,MAAM,CAACe;AAJN,iBAAlB;AAMD,eAZD,MAYO;AACL;AACAjB,gBAAAA,YAAY,CAACY,IAAb,CAAkB;AAChBV,kBAAAA,MAAM,EAAEA,MADQ;AAEhBW,kBAAAA,GAAG,EAAE,CAAC,GAAGnB,KAAK,CAACoB,YAAV,EAAwBZ,MAAxB,EAAgCG,SAAhC,CAFW;AAGhBU,kBAAAA,YAAY,EAAEjB,IAAI,IAAII,MAAM,CAACgB,oBAAf,GAAsChB,MAAM,CAACgB,oBAA7C,GAAoEC,SAHlE;AAIhBH,kBAAAA,aAAa,EAAEd,MAAM,CAACe;AAJN,iBAAlB;AAMD;AACF;;AACD,gBAAI,cAAcf,MAAlB,EAA0B;AACxBF,cAAAA,YAAY,GAAG,GAAGoB,MAAH,CAAU,CAAC,GAAG7B,mBAAmB,CAAC,SAAD,CAAvB,EAAoCS,YAApC,CAAV,EAA6D,CAAC,GAAGT,mBAAmB,CAAC,SAAD,CAAvB,EAAoCK,mBAAmB,CAACM,MAAM,CAACmB,QAAR,EAAkBvB,IAAlB,EAAwBO,SAAxB,CAAvD,CAA7D,CAAf;AACD;AACF,WA7BD;AA8BA,iBAAOL,YAAP;AACD;;AACD,iBAASsB,YAAT,CAAsBC,SAAtB,EAAiCC,iBAAjC,EAAoD3B,OAApD,EAA6DG,YAA7D,EAA2EyB,aAA3E,EAA0FC,iBAA1F,EAA6GC,MAA7G,EAAqH5B,GAArH,EAA0H;AACxH,iBAAOF,OAAO,CAACa,GAAR,CAAY,UAAUR,MAAV,EAAkBC,KAAlB,EAAyB;AAC1C,gBAAIE,SAAS,GAAG,CAAC,GAAGX,KAAK,CAACY,YAAV,EAAwBH,KAAxB,EAA+BJ,GAA/B,CAAhB;AACA,gBAAI6B,qBAAqB,GAAG1B,MAAM,CAAC2B,cAAnC;AAAA,gBACEA,cAAc,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,IAAnC,GAA0CA,qBAD7D;AAAA,gBAEEE,UAAU,GAAG5B,MAAM,CAAC4B,UAFtB;AAAA,gBAGEC,YAAY,GAAG7B,MAAM,CAAC6B,YAHxB;AAIA,gBAAIC,SAAS,GAAG9B,MAAhB;;AACA,gBAAI8B,SAAS,CAACzB,OAAV,IAAqByB,SAAS,CAACC,cAAnC,EAAmD;AACjD,kBAAIC,SAAS,GAAG,CAAC,GAAGxC,KAAK,CAACoB,YAAV,EAAwBkB,SAAxB,EAAmC3B,SAAnC,CAAhB;AACA,kBAAI8B,WAAW,GAAGnC,YAAY,CAACoC,IAAb,CAAkB,UAAUC,IAAV,EAAgB;AAClD,oBAAIxB,GAAG,GAAGwB,IAAI,CAACxB,GAAf;AACA,uBAAOqB,SAAS,KAAKrB,GAArB;AACD,eAHiB,CAAlB;AAIAmB,cAAAA,SAAS,GAAG,CAAC,GAAG1C,SAAS,CAAC,SAAD,CAAb,EAA0B,CAAC,GAAGA,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B0C,SAA9B,CAA1B,EAAoE;AAC9EM,gBAAAA,KAAK,EAAE,SAASA,KAAT,CAAeC,WAAf,EAA4B;AACjC,yBAAO,aAAa/C,KAAK,CAACgD,aAAN,CAAoB7C,eAAe,CAAC,SAAD,CAAnC,EAAgD;AAClE8C,oBAAAA,cAAc,EAAElB,SADkD;AAElEA,oBAAAA,SAAS,EAAE,GAAGH,MAAH,CAAUG,SAAV,EAAqB,SAArB,CAFuD;AAGlEC,oBAAAA,iBAAiB,EAAEA,iBAH+C;AAIlEtB,oBAAAA,MAAM,EAAE8B,SAJ0D;AAKlEE,oBAAAA,SAAS,EAAEA,SALuD;AAMlEC,oBAAAA,WAAW,EAAEA,WANqD;AAOlEN,oBAAAA,cAAc,EAAEA,cAPkD;AAQlEC,oBAAAA,UAAU,EAAEA,UARsD;AASlEC,oBAAAA,YAAY,EAAEA,YAToD;AAUlEN,oBAAAA,aAAa,EAAEA,aAVmD;AAWlEE,oBAAAA,MAAM,EAAEA,MAX0D;AAYlED,oBAAAA,iBAAiB,EAAEA;AAZ+C,mBAAhD,EAajB,CAAC,GAAGhC,KAAK,CAACgD,iBAAV,EAA6BxC,MAAM,CAACoC,KAApC,EAA2CC,WAA3C,CAbiB,CAApB;AAcD;AAhB6E,eAApE,CAAZ;AAkBD;;AACD,gBAAI,cAAcP,SAAlB,EAA6B;AAC3BA,cAAAA,SAAS,GAAG,CAAC,GAAG1C,SAAS,CAAC,SAAD,CAAb,EAA0B,CAAC,GAAGA,SAAS,CAAC,SAAD,CAAb,EAA0B,EAA1B,EAA8B0C,SAA9B,CAA1B,EAAoE;AAC9EX,gBAAAA,QAAQ,EAAEC,YAAY,CAACC,SAAD,EAAYC,iBAAZ,EAA+BQ,SAAS,CAACX,QAAzC,EAAmDrB,YAAnD,EAAiEyB,aAAjE,EAAgFC,iBAAhF,EAAmGC,MAAnG,EAA2GtB,SAA3G;AADwD,eAApE,CAAZ;AAGD;;AACD,mBAAO2B,SAAP;AACD,WAtCM,CAAP;AAuCD;;AACD,iBAAS7C,WAAT,CAAqBoB,OAArB,EAA8B;AAC5B,cAAIoC,IAAI,GAAG,EAAX;AACA,WAACpC,OAAO,IAAI,EAAZ,EAAgBN,OAAhB,CAAwB,UAAU2C,KAAV,EAAiB;AACvC,gBAAI1D,KAAK,GAAG0D,KAAK,CAAC1D,KAAlB;AAAA,gBACEmC,QAAQ,GAAGuB,KAAK,CAACvB,QADnB;AAEAsB,YAAAA,IAAI,CAAC/B,IAAL,CAAU1B,KAAV;;AACA,gBAAImC,QAAJ,EAAc;AACZsB,cAAAA,IAAI,GAAG,GAAGvB,MAAH,CAAU,CAAC,GAAG7B,mBAAmB,CAAC,SAAD,CAAvB,EAAoCoD,IAApC,CAAV,EAAqD,CAAC,GAAGpD,mBAAmB,CAAC,SAAD,CAAvB,EAAoCJ,WAAW,CAACkC,QAAD,CAA/C,CAArD,CAAP;AACD;AACF,WAPD;AAQA,iBAAOsB,IAAP;AACD;;AACD,iBAASE,kBAAT,CAA4B7C,YAA5B,EAA0C;AACxC,cAAI8C,cAAc,GAAG,EAArB;AACA9C,UAAAA,YAAY,CAACC,OAAb,CAAqB,UAAU8C,KAAV,EAAiB;AACpC,gBAAIlC,GAAG,GAAGkC,KAAK,CAAClC,GAAhB;AAAA,gBACEE,YAAY,GAAGgC,KAAK,CAAChC,YADvB;AAAA,gBAEEb,MAAM,GAAG6C,KAAK,CAAC7C,MAFjB;AAGA,gBAAIK,OAAO,GAAGL,MAAM,CAACK,OAArB;AAAA,gBACE0B,cAAc,GAAG/B,MAAM,CAAC+B,cAD1B;;AAEA,gBAAIA,cAAJ,EAAoB;AAClBa,cAAAA,cAAc,CAACjC,GAAD,CAAd,GAAsBE,YAAY,IAAI,IAAtC;AACD,aAFD,MAEO,IAAIiC,KAAK,CAACC,OAAN,CAAclC,YAAd,CAAJ,EAAiC;AACtC,kBAAI4B,IAAI,GAAGxD,WAAW,CAACoB,OAAD,CAAtB;AACAuC,cAAAA,cAAc,CAACjC,GAAD,CAAd,GAAsB8B,IAAI,CAACO,MAAL,CAAY,UAAUC,SAAV,EAAqB;AACrD,uBAAOpC,YAAY,CAACqC,QAAb,CAAsBzC,MAAM,CAACwC,SAAD,CAA5B,CAAP;AACD,eAFqB,CAAtB;AAGD,aALM,MAKA;AACLL,cAAAA,cAAc,CAACjC,GAAD,CAAd,GAAsB,IAAtB;AACD;AACF,WAhBD;AAiBA,iBAAOiC,cAAP;AACD;;AACD,iBAAS1D,aAAT,CAAuBiE,IAAvB,EAA6BrD,YAA7B,EAA2C;AACzC,iBAAOA,YAAY,CAACsD,MAAb,CAAoB,UAAUC,WAAV,EAAuBpB,WAAvB,EAAoC;AAC7D,gBAAIqB,mBAAmB,GAAGrB,WAAW,CAACjC,MAAtC;AAAA,gBACEuD,QAAQ,GAAGD,mBAAmB,CAACC,QADjC;AAAA,gBAEElD,OAAO,GAAGiD,mBAAmB,CAACjD,OAFhC;AAAA,gBAGEQ,YAAY,GAAGoB,WAAW,CAACpB,YAH7B;;AAIA,gBAAI0C,QAAQ,IAAI1C,YAAZ,IAA4BA,YAAY,CAAC2C,MAA7C,EAAqD;AACnD,qBAAOH,WAAW,CAACL,MAAZ,CAAmB,UAAUS,MAAV,EAAkB;AAC1C,uBAAO5C,YAAY,CAAC6C,IAAb,CAAkB,UAAU/C,GAAV,EAAe;AACtC,sBAAI8B,IAAI,GAAGxD,WAAW,CAACoB,OAAD,CAAtB;AACA,sBAAIsD,QAAQ,GAAGlB,IAAI,CAACmB,SAAL,CAAe,UAAUC,CAAV,EAAa;AACzC,2BAAOpD,MAAM,CAACoD,CAAD,CAAN,KAAcpD,MAAM,CAACE,GAAD,CAA3B;AACD,mBAFc,CAAf;AAGA,sBAAImD,OAAO,GAAGH,QAAQ,KAAK,CAAC,CAAd,GAAkBlB,IAAI,CAACkB,QAAD,CAAtB,GAAmChD,GAAjD;AACA,yBAAO4C,QAAQ,CAACO,OAAD,EAAUL,MAAV,CAAf;AACD,iBAPM,CAAP;AAQD,eATM,CAAP;AAUD;;AACD,mBAAOJ,WAAP;AACD,WAlBM,EAkBJF,IAlBI,CAAP;AAmBD;;AACD,iBAASY,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,cAAI3C,SAAS,GAAG2C,KAAK,CAAC3C,SAAtB;AAAA,cACEC,iBAAiB,GAAG0C,KAAK,CAAC1C,iBAD5B;AAAA,cAEE2C,aAAa,GAAGD,KAAK,CAACC,aAFxB;AAAA,cAGEC,cAAc,GAAGF,KAAK,CAACE,cAHzB;AAAA,cAIE1C,iBAAiB,GAAGwC,KAAK,CAACxC,iBAJ5B;AAAA,cAKE2C,WAAW,GAAGH,KAAK,CAACvC,MALtB;;AAMA,cAAI2C,eAAe,GAAG9E,KAAK,CAAC+E,QAAN,CAAe,YAAY;AAC7C,mBAAO3E,mBAAmB,CAACuE,aAAD,EAAgB,IAAhB,CAA1B;AACD,WAFmB,CAAtB;AAAA,cAGEK,gBAAgB,GAAG,CAAC,GAAGnF,eAAe,CAAC,SAAD,CAAnB,EAAgCiF,eAAhC,EAAiD,CAAjD,CAHrB;AAAA,cAIEtE,YAAY,GAAGwE,gBAAgB,CAAC,CAAD,CAJjC;AAAA,cAKEC,eAAe,GAAGD,gBAAgB,CAAC,CAAD,CALpC;;AAMA,cAAIE,kBAAkB,GAAGlF,KAAK,CAACmF,OAAN,CAAc,YAAY;AACjD,gBAAIC,eAAe,GAAGhF,mBAAmB,CAACuE,aAAD,EAAgB,KAAhB,CAAzC;AACA,gBAAIU,8BAA8B,GAAG,IAArC;AACA,gBAAIC,2BAA2B,GAAG,IAAlC;AACAF,YAAAA,eAAe,CAAC3E,OAAhB,CAAwB,UAAU8E,KAAV,EAAiB;AACvC,kBAAIhE,YAAY,GAAGgE,KAAK,CAAChE,YAAzB;;AACA,kBAAIA,YAAY,KAAKI,SAArB,EAAgC;AAC9B0D,gBAAAA,8BAA8B,GAAG,KAAjC;AACD,eAFD,MAEO;AACLC,gBAAAA,2BAA2B,GAAG,KAA9B;AACD;AACF,aAPD,EAJiD,CAYjD;;AACA,gBAAID,8BAAJ,EAAoC;AAClC,qBAAO7E,YAAP;AACD;;AACDgF,YAAAA,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GAAwC,CAAC,GAAGzF,QAAQ,CAAC,SAAD,CAAZ,EAAyBqF,2BAAzB,EAAsD,OAAtD,EAA+D,4EAA/D,CAAxC,GAAuL,KAAK,CAA5L;AACA,mBAAOF,eAAP;AACD,WAlBwB,EAkBtB,CAACT,aAAD,EAAgBnE,YAAhB,CAlBsB,CAAzB;AAmBA,cAAIO,OAAO,GAAGf,KAAK,CAACmF,OAAN,CAAc,YAAY;AACtC,mBAAO9B,kBAAkB,CAAC6B,kBAAD,CAAzB;AACD,WAFa,EAEX,CAACA,kBAAD,CAFW,CAAd;;AAGA,cAAIjD,aAAa,GAAG,SAASA,aAAT,CAAuBU,WAAvB,EAAoC;AACtD,gBAAIgD,eAAe,GAAGT,kBAAkB,CAACxB,MAAnB,CAA0B,UAAUkC,KAAV,EAAiB;AAC/D,kBAAIvE,GAAG,GAAGuE,KAAK,CAACvE,GAAhB;AACA,qBAAOA,GAAG,KAAKsB,WAAW,CAACtB,GAA3B;AACD,aAHqB,CAAtB;AAIAsE,YAAAA,eAAe,CAACvE,IAAhB,CAAqBuB,WAArB;AACAsC,YAAAA,eAAe,CAACU,eAAD,CAAf;AACAf,YAAAA,cAAc,CAACvB,kBAAkB,CAACsC,eAAD,CAAnB,EAAsCA,eAAtC,CAAd;AACD,WARD;;AASA,cAAIE,gBAAgB,GAAG,SAASA,gBAAT,CAA0BC,YAA1B,EAAwC;AAC7D,mBAAOhE,YAAY,CAACC,SAAD,EAAYC,iBAAZ,EAA+B8D,YAA/B,EAA6CZ,kBAA7C,EAAiEjD,aAAjE,EAAgFC,iBAAhF,EAAmG2C,WAAnG,CAAnB;AACD,WAFD;;AAGA,iBAAO,CAACgB,gBAAD,EAAmBX,kBAAnB,EAAuCnE,OAAvC,CAAP;AACD;;AACD,YAAIgF,QAAQ,GAAGtB,SAAf;AACAxF,QAAAA,OAAO,CAAC,SAAD,CAAP,GAAqB8G,QAArB,CAxM0F,CA0M3F;;AAEA,2BAAAC,WAAW,GAAG7G,MAAM,CAACF,OAArB;;AACAgH,QAAAA,WAAW,GAAG9G,MAAM,CAACF,OAAP,CAAeiH,UAA7B;AACAC,QAAAA,SAAS,GAAGhH,MAAM,CAACF,OAAP,CAAemH,OAA3B;AACAC,QAAAA,YAAY,GAAGlH,MAAM,CAACF,OAAP,CAAeU,WAA9B;AACA2G,QAAAA,cAAc,GAAGnH,MAAM,CAACF,OAAP,CAAeW,aAAhC;AAEC,OAlND,EAkNG,OAAO;AACR,yDAAiDvB,IADzC;AAER,wDAAgDE,KAFxC;AAGR,gDAAwCC,KAHhC;AAIR,0CAAkCC,KAJ1B;AAKR,oDAA4CC,KALpC;AAMR,iBAASC,KAND;AAOR,kCAA0BC,KAPlB;AAQR,sBAAcC,KARN;AASR,4BAAoBC;AATZ,OAAP,CAlNH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/toConsumableArray';\nimport { __cjsMetaURL as _req4} from 'react';\nimport { __cjsMetaURL as _req5} from '../../../_util/warning';\nimport { __cjsMetaURL as _req6} from '../../util';\nimport { __cjsMetaURL as _req7} from './FilterDropdown';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nlet _flattenKeys;\nlet _getFilterData;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = void 0;\n exports.flattenKeys = flattenKeys;\n exports.getFilterData = getFilterData;\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var _warning = _interopRequireDefault(require(\"../../../_util/warning\"));\n var _util = require(\"../../util\");\n var _FilterDropdown = _interopRequireDefault(require(\"./FilterDropdown\"));\n function collectFilterStates(columns, init, pos) {\n   var filterStates = [];\n   (columns || []).forEach(function (column, index) {\n     var _a;\n     var columnPos = (0, _util.getColumnPos)(index, pos);\n     if (column.filters || 'filterDropdown' in column || 'onFilter' in column) {\n       if ('filteredValue' in column) {\n         // Controlled\n         var filteredValues = column.filteredValue;\n         if (!('filterDropdown' in column)) {\n           filteredValues = (_a = filteredValues === null || filteredValues === void 0 ? void 0 : filteredValues.map(String)) !== null && _a !== void 0 ? _a : filteredValues;\n         }\n         filterStates.push({\n           column: column,\n           key: (0, _util.getColumnKey)(column, columnPos),\n           filteredKeys: filteredValues,\n           forceFiltered: column.filtered\n         });\n       } else {\n         // Uncontrolled\n         filterStates.push({\n           column: column,\n           key: (0, _util.getColumnKey)(column, columnPos),\n           filteredKeys: init && column.defaultFilteredValue ? column.defaultFilteredValue : undefined,\n           forceFiltered: column.filtered\n         });\n       }\n     }\n     if ('children' in column) {\n       filterStates = [].concat((0, _toConsumableArray2[\"default\"])(filterStates), (0, _toConsumableArray2[\"default\"])(collectFilterStates(column.children, init, columnPos)));\n     }\n   });\n   return filterStates;\n }\n function injectFilter(prefixCls, dropdownPrefixCls, columns, filterStates, triggerFilter, getPopupContainer, locale, pos) {\n   return columns.map(function (column, index) {\n     var columnPos = (0, _util.getColumnPos)(index, pos);\n     var _column$filterMultipl = column.filterMultiple,\n       filterMultiple = _column$filterMultipl === void 0 ? true : _column$filterMultipl,\n       filterMode = column.filterMode,\n       filterSearch = column.filterSearch;\n     var newColumn = column;\n     if (newColumn.filters || newColumn.filterDropdown) {\n       var columnKey = (0, _util.getColumnKey)(newColumn, columnPos);\n       var filterState = filterStates.find(function (_ref) {\n         var key = _ref.key;\n         return columnKey === key;\n       });\n       newColumn = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, newColumn), {\n         title: function title(renderProps) {\n           return /*#__PURE__*/React.createElement(_FilterDropdown[\"default\"], {\n             tablePrefixCls: prefixCls,\n             prefixCls: \"\".concat(prefixCls, \"-filter\"),\n             dropdownPrefixCls: dropdownPrefixCls,\n             column: newColumn,\n             columnKey: columnKey,\n             filterState: filterState,\n             filterMultiple: filterMultiple,\n             filterMode: filterMode,\n             filterSearch: filterSearch,\n             triggerFilter: triggerFilter,\n             locale: locale,\n             getPopupContainer: getPopupContainer\n           }, (0, _util.renderColumnTitle)(column.title, renderProps));\n         }\n       });\n     }\n     if ('children' in newColumn) {\n       newColumn = (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, newColumn), {\n         children: injectFilter(prefixCls, dropdownPrefixCls, newColumn.children, filterStates, triggerFilter, getPopupContainer, locale, columnPos)\n       });\n     }\n     return newColumn;\n   });\n }\n function flattenKeys(filters) {\n   var keys = [];\n   (filters || []).forEach(function (_ref2) {\n     var value = _ref2.value,\n       children = _ref2.children;\n     keys.push(value);\n     if (children) {\n       keys = [].concat((0, _toConsumableArray2[\"default\"])(keys), (0, _toConsumableArray2[\"default\"])(flattenKeys(children)));\n     }\n   });\n   return keys;\n }\n function generateFilterInfo(filterStates) {\n   var currentFilters = {};\n   filterStates.forEach(function (_ref3) {\n     var key = _ref3.key,\n       filteredKeys = _ref3.filteredKeys,\n       column = _ref3.column;\n     var filters = column.filters,\n       filterDropdown = column.filterDropdown;\n     if (filterDropdown) {\n       currentFilters[key] = filteredKeys || null;\n     } else if (Array.isArray(filteredKeys)) {\n       var keys = flattenKeys(filters);\n       currentFilters[key] = keys.filter(function (originKey) {\n         return filteredKeys.includes(String(originKey));\n       });\n     } else {\n       currentFilters[key] = null;\n     }\n   });\n   return currentFilters;\n }\n function getFilterData(data, filterStates) {\n   return filterStates.reduce(function (currentData, filterState) {\n     var _filterState$column = filterState.column,\n       onFilter = _filterState$column.onFilter,\n       filters = _filterState$column.filters,\n       filteredKeys = filterState.filteredKeys;\n     if (onFilter && filteredKeys && filteredKeys.length) {\n       return currentData.filter(function (record) {\n         return filteredKeys.some(function (key) {\n           var keys = flattenKeys(filters);\n           var keyIndex = keys.findIndex(function (k) {\n             return String(k) === String(key);\n           });\n           var realKey = keyIndex !== -1 ? keys[keyIndex] : key;\n           return onFilter(realKey, record);\n         });\n       });\n     }\n     return currentData;\n   }, data);\n }\n function useFilter(_ref4) {\n   var prefixCls = _ref4.prefixCls,\n     dropdownPrefixCls = _ref4.dropdownPrefixCls,\n     mergedColumns = _ref4.mergedColumns,\n     onFilterChange = _ref4.onFilterChange,\n     getPopupContainer = _ref4.getPopupContainer,\n     tableLocale = _ref4.locale;\n   var _React$useState = React.useState(function () {\n       return collectFilterStates(mergedColumns, true);\n     }),\n     _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n     filterStates = _React$useState2[0],\n     setFilterStates = _React$useState2[1];\n   var mergedFilterStates = React.useMemo(function () {\n     var collectedStates = collectFilterStates(mergedColumns, false);\n     var filteredKeysIsAllNotControlled = true;\n     var filteredKeysIsAllControlled = true;\n     collectedStates.forEach(function (_ref5) {\n       var filteredKeys = _ref5.filteredKeys;\n       if (filteredKeys !== undefined) {\n         filteredKeysIsAllNotControlled = false;\n       } else {\n         filteredKeysIsAllControlled = false;\n       }\n     });\n     // Return if not controlled\n     if (filteredKeysIsAllNotControlled) {\n       return filterStates;\n     }\n     process.env.NODE_ENV !== \"production\" ? (0, _warning[\"default\"])(filteredKeysIsAllControlled, 'Table', 'Columns should all contain `filteredValue` or not contain `filteredValue`.') : void 0;\n     return collectedStates;\n   }, [mergedColumns, filterStates]);\n   var filters = React.useMemo(function () {\n     return generateFilterInfo(mergedFilterStates);\n   }, [mergedFilterStates]);\n   var triggerFilter = function triggerFilter(filterState) {\n     var newFilterStates = mergedFilterStates.filter(function (_ref6) {\n       var key = _ref6.key;\n       return key !== filterState.key;\n     });\n     newFilterStates.push(filterState);\n     setFilterStates(newFilterStates);\n     onFilterChange(generateFilterInfo(newFilterStates), newFilterStates);\n   };\n   var transformColumns = function transformColumns(innerColumns) {\n     return injectFilter(prefixCls, dropdownPrefixCls, innerColumns, mergedFilterStates, triggerFilter, getPopupContainer, tableLocale);\n   };\n   return [transformColumns, mergedFilterStates, filters];\n }\n var _default = useFilter;\n exports[\"default\"] = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n_flattenKeys = module.exports.flattenKeys;\n_getFilterData = module.exports.getFilterData;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/slicedToArray': _req1,\n  '@babel/runtime/helpers/extends': _req2,\n  '@babel/runtime/helpers/toConsumableArray': _req3,\n  'react': _req4,\n  '../../../_util/warning': _req5,\n  '../../util': _req6,\n  './FilterDropdown': _req7,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}