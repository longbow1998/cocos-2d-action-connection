{"version":3,"sources":["file:///Users/longbow/node_modules/rc-util/lib/hooks/useState.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","default","_interopRequireDefault","Object","defineProperty","value","useSafeState","_slicedToArray2","React","defaultValue","destroyRef","useRef","_React$useState","useState","_React$useState2","setValue","useEffect","current","safeSetState","updater","ignoreDestroy","_cjsExports","___esModule","__esModule","_default"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,8CAAhBC,Y;;AACgBC,MAAAA,K,6CAAhBD,Y;;AACgBE,MAAAA,K,qCAAhBF,Y;;AACgBG,MAAAA,K,UAAhBH,Y;;;8BAIHA,Y,GAAe,cAAYI,G;;AACjCN,MAAAA,UAAU,CAACO,MAAX,CAAkBL,YAAlB,EAAgC,UAAUM,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AAEA,YAAIC,uBAAuB,GAAGJ,OAAO,CAAC,+CAAD,CAAP,CAAyDK,OAAvF;;AACA,YAAIC,sBAAsB,GAAGN,OAAO,CAAC,8CAAD,CAAP,CAAwDK,OAArF;;AACAE,QAAAA,MAAM,CAACC,cAAP,CAAsBT,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CU,UAAAA,KAAK,EAAE;AADoC,SAA7C;AAGAV,QAAAA,OAAO,CAACM,OAAR,GAAkBK,YAAlB;;AACA,YAAIC,eAAe,GAAGL,sBAAsB,CAACN,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AACA,YAAIY,KAAK,GAAGR,uBAAuB,CAACJ,OAAO,CAAC,OAAD,CAAR,CAAnC;AACA;AACD;AACA;AACA;AACA;;;AACC,iBAASU,YAAT,CAAsBG,YAAtB,EAAoC;AAClC,cAAIC,UAAU,GAAGF,KAAK,CAACG,MAAN,CAAa,KAAb,CAAjB;;AACA,cAAIC,eAAe,GAAGJ,KAAK,CAACK,QAAN,CAAeJ,YAAf,CAAtB;AAAA,cACEK,gBAAgB,GAAG,CAAC,GAAGP,eAAe,CAACN,OAApB,EAA6BW,eAA7B,EAA8C,CAA9C,CADrB;AAAA,cAEEP,KAAK,GAAGS,gBAAgB,CAAC,CAAD,CAF1B;AAAA,cAGEC,QAAQ,GAAGD,gBAAgB,CAAC,CAAD,CAH7B;;AAIAN,UAAAA,KAAK,CAACQ,SAAN,CAAgB,YAAY;AAC1BN,YAAAA,UAAU,CAACO,OAAX,GAAqB,KAArB;AACA,mBAAO,YAAY;AACjBP,cAAAA,UAAU,CAACO,OAAX,GAAqB,IAArB;AACD,aAFD;AAGD,WALD,EAKG,EALH;;AAMA,mBAASC,YAAT,CAAsBC,OAAtB,EAA+BC,aAA/B,EAA8C;AAC5C,gBAAIA,aAAa,IAAIV,UAAU,CAACO,OAAhC,EAAyC;AACvC;AACD;;AACDF,YAAAA,QAAQ,CAACI,OAAD,CAAR;AACD;;AACD,iBAAO,CAACd,KAAD,EAAQa,YAAR,CAAP;AACD,SAtCyF,CAwC3F;;;AAEA,2BAAAG,WAAW,GAAGxB,MAAM,CAACF,OAArB;;AACA2B,QAAAA,WAAW,GAAGzB,MAAM,CAACF,OAAP,CAAe4B,UAA7B;AACAC,QAAAA,QAAQ,GAAG3B,MAAM,CAACF,OAAP,CAAeM,OAA1B;AAEC,OA9CD,EA8CG,OAAO;AACR,yDAAiDb,IADzC;AAER,wDAAgDE,KAFxC;AAGR,gDAAwCC,KAHhC;AAIR,iBAASC;AAJD,OAAP,CA9CH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req2} from 'react';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = useSafeState;\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var React = _interopRequireWildcard(require(\"react\"));\n /**\n  * Same as React.useState but `setState` accept `ignoreDestroy` param to not to setState after destroyed.\n  * We do not make this auto is to avoid real memory leak.\n  * Developer should confirm it's safe to ignore themselves.\n  */\n function useSafeState(defaultValue) {\n   var destroyRef = React.useRef(false);\n   var _React$useState = React.useState(defaultValue),\n     _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n     value = _React$useState2[0],\n     setValue = _React$useState2[1];\n   React.useEffect(function () {\n     destroyRef.current = false;\n     return function () {\n       destroyRef.current = true;\n     };\n   }, []);\n   function safeSetState(updater, ignoreDestroy) {\n     if (ignoreDestroy && destroyRef.current) {\n       return;\n     }\n     setValue(updater);\n   }\n   return [value, safeSetState];\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/slicedToArray': _req1,\n  'react': _req2,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}