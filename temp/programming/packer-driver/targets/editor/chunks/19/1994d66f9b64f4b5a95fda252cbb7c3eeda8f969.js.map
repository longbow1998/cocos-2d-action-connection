{"version":3,"sources":["file:///Users/longbow/node_modules/rc-dialog/lib/Dialog/index.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","_req9","_req10","_req11","_req12","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","_typeof","Object","defineProperty","value","default","Dialog","_extends2","_objectSpread2","_slicedToArray2","React","_interopRequireWildcard","_classnames","_KeyCode","_useId","_contains","_pickAttrs","_Mask","_util","_Content","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","props","_props$prefixCls","prefixCls","zIndex","_props$visible","visible","_props$keyboard","keyboard","_props$focusTriggerAf","focusTriggerAfterClose","wrapStyle","wrapClassName","wrapProps","onClose","afterClose","transitionName","animation","_props$closable","closable","_props$mask","mask","maskTransitionName","maskAnimation","_props$maskClosable","maskClosable","maskStyle","maskProps","rootClassName","lastOutSideActiveElementRef","useRef","wrapperRef","contentRef","_React$useState","useState","_React$useState2","animatedVisible","setAnimatedVisible","ariaId","saveLastOutSideActiveElementRef","current","document","activeElement","focusDialogContent","_contentRef$current","focus","onDialogVisibleChanged","newVisible","preventScroll","e","onInternalClose","contentClickRef","contentTimeoutRef","onContentMouseDown","clearTimeout","onContentMouseUp","setTimeout","onWrapperClick","target","onWrapperKeyDown","keyCode","ESC","stopPropagation","TAB","changeActive","shiftKey","useEffect","createElement","className","concat","data","motionName","getMotionName","style","tabIndex","onKeyDown","ref","onClick","display","onMouseDown","onMouseUp","onVisibleChanged","_cjsExports","___esModule","_default"],"mappings":";;;;;;;;;AAAOA,MAAAA,U;;AACkBC,MAAAA,I,6CAAhBC,Y;;AACgBC,MAAAA,K,8BAAhBD,Y;;AACgBE,MAAAA,K,+BAAhBF,Y;;AACgBG,MAAAA,K,oCAAhBH,Y;;AACgBI,MAAAA,K,qCAAhBJ,Y;;AACgBK,MAAAA,K,UAAhBL,Y;;AACgBM,MAAAA,K,gBAAhBN,Y;;AACgBO,MAAAA,K,qBAAhBP,Y;;AACgBQ,MAAAA,K,wBAAhBR,Y;;AACgBS,MAAAA,K,yBAAhBT,Y;;AACgBU,MAAAA,K,uBAAhBV,Y;;AACgBW,MAAAA,M,iBAAhBX,Y;;AACgBY,MAAAA,M,iBAAhBZ,Y;;AACgBa,MAAAA,M,iBAAhBb,Y;;;8BAIHA,Y,GAAe,cAAYc,G;;AACjChB,MAAAA,UAAU,CAACiB,MAAX,CAAkBf,YAAlB,EAAgC,UAAUgB,OAAV,EAAmBC,OAAnB,EAA4BC,MAA5B,EAAoCC,UAApC,EAAgDC,SAAhD,EAA2D;AAC3F;AAGC;;AAEA,YAAIC,sBAAsB,GAAGJ,OAAO,CAAC,8CAAD,CAApC;;AACA,YAAIK,OAAO,GAAGL,OAAO,CAAC,+BAAD,CAArB;;AACAM,QAAAA,MAAM,CAACC,cAAP,CAAsBR,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CS,UAAAA,KAAK,EAAE;AADoC,SAA7C;AAGAT,QAAAA,OAAO,CAACU,OAAR,GAAkBC,MAAlB;;AACA,YAAIC,SAAS,GAAGP,sBAAsB,CAACJ,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AACA,YAAIY,cAAc,GAAGR,sBAAsB,CAACJ,OAAO,CAAC,sCAAD,CAAR,CAA3C;;AACA,YAAIa,eAAe,GAAGT,sBAAsB,CAACJ,OAAO,CAAC,sCAAD,CAAR,CAA5C;;AACA,YAAIc,KAAK,GAAGC,uBAAuB,CAACf,OAAO,CAAC,OAAD,CAAR,CAAnC;;AACA,YAAIgB,WAAW,GAAGZ,sBAAsB,CAACJ,OAAO,CAAC,YAAD,CAAR,CAAxC;;AACA,YAAIiB,QAAQ,GAAGb,sBAAsB,CAACJ,OAAO,CAAC,qBAAD,CAAR,CAArC;;AACA,YAAIkB,MAAM,GAAGd,sBAAsB,CAACJ,OAAO,CAAC,yBAAD,CAAR,CAAnC;;AACA,YAAImB,SAAS,GAAGf,sBAAsB,CAACJ,OAAO,CAAC,0BAAD,CAAR,CAAtC;;AACA,YAAIoB,UAAU,GAAGhB,sBAAsB,CAACJ,OAAO,CAAC,uBAAD,CAAR,CAAvC;;AACA,YAAIqB,KAAK,GAAGjB,sBAAsB,CAACJ,OAAO,CAAC,QAAD,CAAR,CAAlC;;AACA,YAAIsB,KAAK,GAAGtB,OAAO,CAAC,SAAD,CAAnB;;AACA,YAAIuB,QAAQ,GAAGnB,sBAAsB,CAACJ,OAAO,CAAC,WAAD,CAAR,CAArC;;AACA,iBAASwB,wBAAT,CAAkCC,WAAlC,EAA+C;AAAE,cAAI,OAAOC,OAAP,KAAmB,UAAvB,EAAmC,OAAO,IAAP;AAAa,cAAIC,iBAAiB,GAAG,IAAID,OAAJ,EAAxB;AAAuC,cAAIE,gBAAgB,GAAG,IAAIF,OAAJ,EAAvB;AAAsC,iBAAO,CAACF,wBAAwB,GAAG,SAASA,wBAAT,CAAkCC,WAAlC,EAA+C;AAAE,mBAAOA,WAAW,GAAGG,gBAAH,GAAsBD,iBAAxC;AAA4D,WAAzI,EAA2IF,WAA3I,CAAP;AAAiK;;AAC/U,iBAASV,uBAAT,CAAiCc,GAAjC,EAAsCJ,WAAtC,EAAmD;AAAE,cAAI,CAACA,WAAD,IAAgBI,GAAhB,IAAuBA,GAAG,CAACC,UAA/B,EAA2C;AAAE,mBAAOD,GAAP;AAAa;;AAAC,cAAIA,GAAG,KAAK,IAAR,IAAgBxB,OAAO,CAACwB,GAAD,CAAP,KAAiB,QAAjB,IAA6B,OAAOA,GAAP,KAAe,UAAhE,EAA4E;AAAE,mBAAO;AAAEpB,cAAAA,OAAO,EAAEoB;AAAX,aAAP;AAA0B;;AAAC,cAAIE,KAAK,GAAGP,wBAAwB,CAACC,WAAD,CAApC;;AAAmD,cAAIM,KAAK,IAAIA,KAAK,CAACC,GAAN,CAAUH,GAAV,CAAb,EAA6B;AAAE,mBAAOE,KAAK,CAACE,GAAN,CAAUJ,GAAV,CAAP;AAAwB;;AAAC,cAAIK,MAAM,GAAG,EAAb;AAAiB,cAAIC,qBAAqB,GAAG7B,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAAC8B,wBAA5D;;AAAsF,eAAK,IAAIC,GAAT,IAAgBR,GAAhB,EAAqB;AAAE,gBAAIQ,GAAG,KAAK,SAAR,IAAqB/B,MAAM,CAACgC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCX,GAArC,EAA0CQ,GAA1C,CAAzB,EAAyE;AAAE,kBAAII,IAAI,GAAGN,qBAAqB,GAAG7B,MAAM,CAAC8B,wBAAP,CAAgCP,GAAhC,EAAqCQ,GAArC,CAAH,GAA+C,IAA/E;;AAAqF,kBAAII,IAAI,KAAKA,IAAI,CAACR,GAAL,IAAYQ,IAAI,CAACC,GAAtB,CAAR,EAAoC;AAAEpC,gBAAAA,MAAM,CAACC,cAAP,CAAsB2B,MAAtB,EAA8BG,GAA9B,EAAmCI,IAAnC;AAA2C,eAAjF,MAAuF;AAAEP,gBAAAA,MAAM,CAACG,GAAD,CAAN,GAAcR,GAAG,CAACQ,GAAD,CAAjB;AAAyB;AAAE;AAAE;;AAACH,UAAAA,MAAM,CAACzB,OAAP,GAAiBoB,GAAjB;;AAAsB,cAAIE,KAAJ,EAAW;AAAEA,YAAAA,KAAK,CAACW,GAAN,CAAUb,GAAV,EAAeK,MAAf;AAAyB;;AAAC,iBAAOA,MAAP;AAAgB;;AACtyB,iBAASxB,MAAT,CAAgBiC,KAAhB,EAAuB;AACrB,cAAIC,gBAAgB,GAAGD,KAAK,CAACE,SAA7B;AAAA,cACEA,SAAS,GAAGD,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,WAA9B,GAA4CA,gBAD1D;AAAA,cAEEE,MAAM,GAAGH,KAAK,CAACG,MAFjB;AAAA,cAGEC,cAAc,GAAGJ,KAAK,CAACK,OAHzB;AAAA,cAIEA,OAAO,GAAGD,cAAc,KAAK,KAAK,CAAxB,GAA4B,KAA5B,GAAoCA,cAJhD;AAAA,cAKEE,eAAe,GAAGN,KAAK,CAACO,QAL1B;AAAA,cAMEA,QAAQ,GAAGD,eAAe,KAAK,KAAK,CAAzB,GAA6B,IAA7B,GAAoCA,eANjD;AAAA,cAOEE,qBAAqB,GAAGR,KAAK,CAACS,sBAPhC;AAAA,cAQEA,sBAAsB,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,IAAnC,GAA0CA,qBARrE;AAAA,cASEE,SAAS,GAAGV,KAAK,CAACU,SATpB;AAAA,cAUEC,aAAa,GAAGX,KAAK,CAACW,aAVxB;AAAA,cAWEC,SAAS,GAAGZ,KAAK,CAACY,SAXpB;AAAA,cAYEC,OAAO,GAAGb,KAAK,CAACa,OAZlB;AAAA,cAaEC,UAAU,GAAGd,KAAK,CAACc,UAbrB;AAAA,cAcEC,cAAc,GAAGf,KAAK,CAACe,cAdzB;AAAA,cAeEC,SAAS,GAAGhB,KAAK,CAACgB,SAfpB;AAAA,cAgBEC,eAAe,GAAGjB,KAAK,CAACkB,QAhB1B;AAAA,cAiBEA,QAAQ,GAAGD,eAAe,KAAK,KAAK,CAAzB,GAA6B,IAA7B,GAAoCA,eAjBjD;AAAA,cAkBEE,WAAW,GAAGnB,KAAK,CAACoB,IAlBtB;AAAA,cAmBEA,IAAI,GAAGD,WAAW,KAAK,KAAK,CAArB,GAAyB,IAAzB,GAAgCA,WAnBzC;AAAA,cAoBEE,kBAAkB,GAAGrB,KAAK,CAACqB,kBApB7B;AAAA,cAqBEC,aAAa,GAAGtB,KAAK,CAACsB,aArBxB;AAAA,cAsBEC,mBAAmB,GAAGvB,KAAK,CAACwB,YAtB9B;AAAA,cAuBEA,YAAY,GAAGD,mBAAmB,KAAK,KAAK,CAA7B,GAAiC,IAAjC,GAAwCA,mBAvBzD;AAAA,cAwBEE,SAAS,GAAGzB,KAAK,CAACyB,SAxBpB;AAAA,cAyBEC,SAAS,GAAG1B,KAAK,CAAC0B,SAzBpB;AAAA,cA0BEC,aAAa,GAAG3B,KAAK,CAAC2B,aA1BxB;AA2BA,cAAIC,2BAA2B,GAAG,CAAC,GAAGzD,KAAK,CAAC0D,MAAV,GAAlC;AACA,cAAIC,UAAU,GAAG,CAAC,GAAG3D,KAAK,CAAC0D,MAAV,GAAjB;AACA,cAAIE,UAAU,GAAG,CAAC,GAAG5D,KAAK,CAAC0D,MAAV,GAAjB;;AACA,cAAIG,eAAe,GAAG7D,KAAK,CAAC8D,QAAN,CAAe5B,OAAf,CAAtB;AAAA,cACE6B,gBAAgB,GAAG,CAAC,GAAGhE,eAAe,CAACJ,OAApB,EAA6BkE,eAA7B,EAA8C,CAA9C,CADrB;AAAA,cAEEG,eAAe,GAAGD,gBAAgB,CAAC,CAAD,CAFpC;AAAA,cAGEE,kBAAkB,GAAGF,gBAAgB,CAAC,CAAD,CAHvC,CA/BqB,CAmCrB;;;AACA,cAAIG,MAAM,GAAG,CAAC,GAAG9D,MAAM,CAACT,OAAX,GAAb;;AACA,mBAASwE,+BAAT,GAA2C;AACzC,gBAAI,CAAC,CAAC,GAAG9D,SAAS,CAACV,OAAd,EAAuBgE,UAAU,CAACS,OAAlC,EAA2CC,QAAQ,CAACC,aAApD,CAAL,EAAyE;AACvEb,cAAAA,2BAA2B,CAACW,OAA5B,GAAsCC,QAAQ,CAACC,aAA/C;AACD;AACF;;AACD,mBAASC,kBAAT,GAA8B;AAC5B,gBAAI,CAAC,CAAC,GAAGlE,SAAS,CAACV,OAAd,EAAuBgE,UAAU,CAACS,OAAlC,EAA2CC,QAAQ,CAACC,aAApD,CAAL,EAAyE;AACvE,kBAAIE,mBAAJ;;AACA,eAACA,mBAAmB,GAAGZ,UAAU,CAACQ,OAAlC,MAA+C,IAA/C,IAAuDI,mBAAmB,KAAK,KAAK,CAApF,GAAwF,KAAK,CAA7F,GAAiGA,mBAAmB,CAACC,KAApB,EAAjG;AACD;AACF,WA/CoB,CAgDrB;;;AACA,mBAASC,sBAAT,CAAgCC,UAAhC,EAA4C;AAC1C;AACA,gBAAIA,UAAJ,EAAgB;AACdJ,cAAAA,kBAAkB;AACnB,aAFD,MAEO;AACL;AACAN,cAAAA,kBAAkB,CAAC,KAAD,CAAlB;;AACA,kBAAIhB,IAAI,IAAIQ,2BAA2B,CAACW,OAApC,IAA+C9B,sBAAnD,EAA2E;AACzE,oBAAI;AACFmB,kBAAAA,2BAA2B,CAACW,OAA5B,CAAoCK,KAApC,CAA0C;AACxCG,oBAAAA,aAAa,EAAE;AADyB,mBAA1C;AAGD,iBAJD,CAIE,OAAOC,CAAP,EAAU,CACV;AACD;;AACDpB,gBAAAA,2BAA2B,CAACW,OAA5B,GAAsC,IAAtC;AACD,eAZI,CAaL;;;AACA,kBAAIJ,eAAJ,EAAqB;AACnBrB,gBAAAA,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,EAAlE;AACD;AACF;AACF;;AACD,mBAASmC,eAAT,CAAyBD,CAAzB,EAA4B;AAC1BnC,YAAAA,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACmC,CAAD,CAAzD;AACD,WA1EoB,CA2ErB;;;AACA,cAAIE,eAAe,GAAG,CAAC,GAAG/E,KAAK,CAAC0D,MAAV,EAAkB,KAAlB,CAAtB;AACA,cAAIsB,iBAAiB,GAAG,CAAC,GAAGhF,KAAK,CAAC0D,MAAV,GAAxB,CA7EqB,CA8ErB;;AACA,cAAIuB,kBAAkB,GAAG,SAASA,kBAAT,GAA8B;AACrDC,YAAAA,YAAY,CAACF,iBAAiB,CAACZ,OAAnB,CAAZ;AACAW,YAAAA,eAAe,CAACX,OAAhB,GAA0B,IAA1B;AACD,WAHD;;AAIA,cAAIe,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjDH,YAAAA,iBAAiB,CAACZ,OAAlB,GAA4BgB,UAAU,CAAC,YAAY;AACjDL,cAAAA,eAAe,CAACX,OAAhB,GAA0B,KAA1B;AACD,aAFqC,CAAtC;AAGD,WAJD,CAnFqB,CAwFrB;AACA;;;AACA,cAAIiB,cAAc,GAAG,IAArB;;AACA,cAAIhC,YAAJ,EAAkB;AAChBgC,YAAAA,cAAc,GAAG,SAASA,cAAT,CAAwBR,CAAxB,EAA2B;AAC1C,kBAAIE,eAAe,CAACX,OAApB,EAA6B;AAC3BW,gBAAAA,eAAe,CAACX,OAAhB,GAA0B,KAA1B;AACD,eAFD,MAEO,IAAIT,UAAU,CAACS,OAAX,KAAuBS,CAAC,CAACS,MAA7B,EAAqC;AAC1CR,gBAAAA,eAAe,CAACD,CAAD,CAAf;AACD;AACF,aAND;AAOD;;AACD,mBAASU,gBAAT,CAA0BV,CAA1B,EAA6B;AAC3B,gBAAIzC,QAAQ,IAAIyC,CAAC,CAACW,OAAF,KAAcrF,QAAQ,CAACR,OAAT,CAAiB8F,GAA/C,EAAoD;AAClDZ,cAAAA,CAAC,CAACa,eAAF;AACAZ,cAAAA,eAAe,CAACD,CAAD,CAAf;AACA;AACD,aAL0B,CAM3B;;;AACA,gBAAI3C,OAAJ,EAAa;AACX,kBAAI2C,CAAC,CAACW,OAAF,KAAcrF,QAAQ,CAACR,OAAT,CAAiBgG,GAAnC,EAAwC;AACtC/B,gBAAAA,UAAU,CAACQ,OAAX,CAAmBwB,YAAnB,CAAgC,CAACf,CAAC,CAACgB,QAAnC;AACD;AACF;AACF,WAhHoB,CAiHrB;;;AACA,WAAC,GAAG7F,KAAK,CAAC8F,SAAV,EAAqB,YAAY;AAC/B,gBAAI5D,OAAJ,EAAa;AACX+B,cAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAE,cAAAA,+BAA+B;AAChC;AACF,WALD,EAKG,CAACjC,OAAD,CALH,EAlHqB,CAwHrB;;AACA,WAAC,GAAGlC,KAAK,CAAC8F,SAAV,EAAqB,YAAY;AAC/B,mBAAO,YAAY;AACjBZ,cAAAA,YAAY,CAACF,iBAAiB,CAACZ,OAAnB,CAAZ;AACD,aAFD;AAGD,WAJD,EAIG,EAJH,EAzHqB,CA8HrB;;AACA,iBAAO,aAAapE,KAAK,CAAC+F,aAAN,CAAoB,KAApB,EAA2B,CAAC,GAAGlG,SAAS,CAACF,OAAd,EAAuB;AACpEqG,YAAAA,SAAS,EAAE,CAAC,GAAG9F,WAAW,CAACP,OAAhB,EAAyB,GAAGsG,MAAH,CAAUlE,SAAV,EAAqB,OAArB,CAAzB,EAAwDyB,aAAxD;AADyD,WAAvB,EAE5C,CAAC,GAAGlD,UAAU,CAACX,OAAf,EAAwBkC,KAAxB,EAA+B;AAChCqE,YAAAA,IAAI,EAAE;AAD0B,WAA/B,CAF4C,CAA3B,EAIf,aAAalG,KAAK,CAAC+F,aAAN,CAAoBxF,KAAK,CAACZ,OAA1B,EAAmC;AACnDoC,YAAAA,SAAS,EAAEA,SADwC;AAEnDG,YAAAA,OAAO,EAAEe,IAAI,IAAIf,OAFkC;AAGnDiE,YAAAA,UAAU,EAAE,CAAC,GAAG3F,KAAK,CAAC4F,aAAV,EAAyBrE,SAAzB,EAAoCmB,kBAApC,EAAwDC,aAAxD,CAHuC;AAInDkD,YAAAA,KAAK,EAAE,CAAC,GAAGvG,cAAc,CAACH,OAAnB,EAA4B;AACjCqC,cAAAA,MAAM,EAAEA;AADyB,aAA5B,EAEJsB,SAFI,CAJ4C;AAOnDC,YAAAA,SAAS,EAAEA;AAPwC,WAAnC,CAJE,EAYhB,aAAavD,KAAK,CAAC+F,aAAN,CAAoB,KAApB,EAA2B,CAAC,GAAGlG,SAAS,CAACF,OAAd,EAAuB;AACjE2G,YAAAA,QAAQ,EAAE,CAAC,CADsD;AAEjEC,YAAAA,SAAS,EAAEhB,gBAFsD;AAGjES,YAAAA,SAAS,EAAE,CAAC,GAAG9F,WAAW,CAACP,OAAhB,EAAyB,GAAGsG,MAAH,CAAUlE,SAAV,EAAqB,OAArB,CAAzB,EAAwDS,aAAxD,CAHsD;AAIjEgE,YAAAA,GAAG,EAAE7C,UAJ4D;AAKjE8C,YAAAA,OAAO,EAAEpB,cALwD;AAMjEgB,YAAAA,KAAK,EAAE,CAAC,GAAGvG,cAAc,CAACH,OAAnB,EAA4B,CAAC,GAAGG,cAAc,CAACH,OAAnB,EAA4B;AAC7DqC,cAAAA,MAAM,EAAEA;AADqD,aAA5B,EAEhCO,SAFgC,CAA5B,EAEQ,EAFR,EAEY;AACjBmE,cAAAA,OAAO,EAAE,CAAC1C,eAAD,GAAmB,MAAnB,GAA4B;AADpB,aAFZ;AAN0D,WAAvB,EAWzCvB,SAXyC,CAA3B,EAWF,aAAazC,KAAK,CAAC+F,aAAN,CAAoBtF,QAAQ,CAACd,OAA7B,EAAsC,CAAC,GAAGE,SAAS,CAACF,OAAd,EAAuB,EAAvB,EAA2BkC,KAA3B,EAAkC;AAClG8E,YAAAA,WAAW,EAAE1B,kBADqF;AAElG2B,YAAAA,SAAS,EAAEzB,gBAFuF;AAGlGqB,YAAAA,GAAG,EAAE5C,UAH6F;AAIlGb,YAAAA,QAAQ,EAAEA,QAJwF;AAKlGmB,YAAAA,MAAM,EAAEA,MAL0F;AAMlGnC,YAAAA,SAAS,EAAEA,SANuF;AAOlGG,YAAAA,OAAO,EAAEA,OAAO,IAAI8B,eAP8E;AAQlGtB,YAAAA,OAAO,EAAEoC,eARyF;AASlG+B,YAAAA,gBAAgB,EAAEnC,sBATgF;AAUlGyB,YAAAA,UAAU,EAAE,CAAC,GAAG3F,KAAK,CAAC4F,aAAV,EAAyBrE,SAAzB,EAAoCa,cAApC,EAAoDC,SAApD;AAVsF,WAAlC,CAAtC,CAXX,CAZG,CAApB;AAmCD,SA5LyF,CA8L3F;;;AAEA,2BAAAiE,WAAW,GAAG3H,MAAM,CAACF,OAArB;;AACA8H,QAAAA,WAAW,GAAG5H,MAAM,CAACF,OAAP,CAAe+B,UAA7B;AACAgG,QAAAA,QAAQ,GAAG7H,MAAM,CAACF,OAAP,CAAeU,OAA1B;AAEC,OApMD,EAoMG,OAAO;AACR,wDAAgD3B,IADxC;AAER,yCAAiCE,KAFzB;AAGR,0CAAkCC,KAH1B;AAIR,gDAAwCC,KAJhC;AAKR,gDAAwCC,KALhC;AAMR,iBAASC,KAND;AAOR,sBAAcC,KAPN;AAQR,+BAAuBC,KARf;AASR,mCAA2BC,KATnB;AAUR,oCAA4BC,KAVpB;AAWR,iCAAyBC,KAXjB;AAYR,kBAAUC,MAZF;AAaR,mBAAWC,MAbH;AAcR,qBAAaC;AAdL,OAAP,CApMH","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/typeof';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/objectSpread2';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req4} from 'react';\nimport { __cjsMetaURL as _req5} from 'classnames';\nimport { __cjsMetaURL as _req6} from 'rc-util/lib/KeyCode';\nimport { __cjsMetaURL as _req7} from 'rc-util/lib/hooks/useId';\nimport { __cjsMetaURL as _req8} from 'rc-util/lib/Dom/contains';\nimport { __cjsMetaURL as _req9} from 'rc-util/lib/pickAttrs';\nimport { __cjsMetaURL as _req10} from './Mask';\nimport { __cjsMetaURL as _req11} from '../util';\nimport { __cjsMetaURL as _req12} from './Content';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n var _typeof = require(\"@babel/runtime/helpers/typeof\");\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = Dialog;\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var _classnames = _interopRequireDefault(require(\"classnames\"));\n var _KeyCode = _interopRequireDefault(require(\"rc-util/lib/KeyCode\"));\n var _useId = _interopRequireDefault(require(\"rc-util/lib/hooks/useId\"));\n var _contains = _interopRequireDefault(require(\"rc-util/lib/Dom/contains\"));\n var _pickAttrs = _interopRequireDefault(require(\"rc-util/lib/pickAttrs\"));\n var _Mask = _interopRequireDefault(require(\"./Mask\"));\n var _util = require(\"../util\");\n var _Content = _interopRequireDefault(require(\"./Content\"));\n function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n function Dialog(props) {\n   var _props$prefixCls = props.prefixCls,\n     prefixCls = _props$prefixCls === void 0 ? 'rc-dialog' : _props$prefixCls,\n     zIndex = props.zIndex,\n     _props$visible = props.visible,\n     visible = _props$visible === void 0 ? false : _props$visible,\n     _props$keyboard = props.keyboard,\n     keyboard = _props$keyboard === void 0 ? true : _props$keyboard,\n     _props$focusTriggerAf = props.focusTriggerAfterClose,\n     focusTriggerAfterClose = _props$focusTriggerAf === void 0 ? true : _props$focusTriggerAf,\n     wrapStyle = props.wrapStyle,\n     wrapClassName = props.wrapClassName,\n     wrapProps = props.wrapProps,\n     onClose = props.onClose,\n     afterClose = props.afterClose,\n     transitionName = props.transitionName,\n     animation = props.animation,\n     _props$closable = props.closable,\n     closable = _props$closable === void 0 ? true : _props$closable,\n     _props$mask = props.mask,\n     mask = _props$mask === void 0 ? true : _props$mask,\n     maskTransitionName = props.maskTransitionName,\n     maskAnimation = props.maskAnimation,\n     _props$maskClosable = props.maskClosable,\n     maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n     maskStyle = props.maskStyle,\n     maskProps = props.maskProps,\n     rootClassName = props.rootClassName;\n   var lastOutSideActiveElementRef = (0, React.useRef)();\n   var wrapperRef = (0, React.useRef)();\n   var contentRef = (0, React.useRef)();\n   var _React$useState = React.useState(visible),\n     _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n     animatedVisible = _React$useState2[0],\n     setAnimatedVisible = _React$useState2[1];\n   // ========================== Init ==========================\n   var ariaId = (0, _useId.default)();\n   function saveLastOutSideActiveElementRef() {\n     if (!(0, _contains.default)(wrapperRef.current, document.activeElement)) {\n       lastOutSideActiveElementRef.current = document.activeElement;\n     }\n   }\n   function focusDialogContent() {\n     if (!(0, _contains.default)(wrapperRef.current, document.activeElement)) {\n       var _contentRef$current;\n       (_contentRef$current = contentRef.current) === null || _contentRef$current === void 0 ? void 0 : _contentRef$current.focus();\n     }\n   }\n   // ========================= Events =========================\n   function onDialogVisibleChanged(newVisible) {\n     // Try to focus\n     if (newVisible) {\n       focusDialogContent();\n     } else {\n       // Clean up scroll bar & focus back\n       setAnimatedVisible(false);\n       if (mask && lastOutSideActiveElementRef.current && focusTriggerAfterClose) {\n         try {\n           lastOutSideActiveElementRef.current.focus({\n             preventScroll: true\n           });\n         } catch (e) {\n           // Do nothing\n         }\n         lastOutSideActiveElementRef.current = null;\n       }\n       // Trigger afterClose only when change visible from true to false\n       if (animatedVisible) {\n         afterClose === null || afterClose === void 0 ? void 0 : afterClose();\n       }\n     }\n   }\n   function onInternalClose(e) {\n     onClose === null || onClose === void 0 ? void 0 : onClose(e);\n   }\n   // >>> Content\n   var contentClickRef = (0, React.useRef)(false);\n   var contentTimeoutRef = (0, React.useRef)();\n   // We need record content click incase content popup out of dialog\n   var onContentMouseDown = function onContentMouseDown() {\n     clearTimeout(contentTimeoutRef.current);\n     contentClickRef.current = true;\n   };\n   var onContentMouseUp = function onContentMouseUp() {\n     contentTimeoutRef.current = setTimeout(function () {\n       contentClickRef.current = false;\n     });\n   };\n   // >>> Wrapper\n   // Close only when element not on dialog\n   var onWrapperClick = null;\n   if (maskClosable) {\n     onWrapperClick = function onWrapperClick(e) {\n       if (contentClickRef.current) {\n         contentClickRef.current = false;\n       } else if (wrapperRef.current === e.target) {\n         onInternalClose(e);\n       }\n     };\n   }\n   function onWrapperKeyDown(e) {\n     if (keyboard && e.keyCode === _KeyCode.default.ESC) {\n       e.stopPropagation();\n       onInternalClose(e);\n       return;\n     }\n     // keep focus inside dialog\n     if (visible) {\n       if (e.keyCode === _KeyCode.default.TAB) {\n         contentRef.current.changeActive(!e.shiftKey);\n       }\n     }\n   }\n   // ========================= Effect =========================\n   (0, React.useEffect)(function () {\n     if (visible) {\n       setAnimatedVisible(true);\n       saveLastOutSideActiveElementRef();\n     }\n   }, [visible]);\n   // Remove direct should also check the scroll bar update\n   (0, React.useEffect)(function () {\n     return function () {\n       clearTimeout(contentTimeoutRef.current);\n     };\n   }, []);\n   // ========================= Render =========================\n   return /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({\n     className: (0, _classnames.default)(\"\".concat(prefixCls, \"-root\"), rootClassName)\n   }, (0, _pickAttrs.default)(props, {\n     data: true\n   })), /*#__PURE__*/React.createElement(_Mask.default, {\n     prefixCls: prefixCls,\n     visible: mask && visible,\n     motionName: (0, _util.getMotionName)(prefixCls, maskTransitionName, maskAnimation),\n     style: (0, _objectSpread2.default)({\n       zIndex: zIndex\n     }, maskStyle),\n     maskProps: maskProps\n   }), /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({\n     tabIndex: -1,\n     onKeyDown: onWrapperKeyDown,\n     className: (0, _classnames.default)(\"\".concat(prefixCls, \"-wrap\"), wrapClassName),\n     ref: wrapperRef,\n     onClick: onWrapperClick,\n     style: (0, _objectSpread2.default)((0, _objectSpread2.default)({\n       zIndex: zIndex\n     }, wrapStyle), {}, {\n       display: !animatedVisible ? 'none' : null\n     })\n   }, wrapProps), /*#__PURE__*/React.createElement(_Content.default, (0, _extends2.default)({}, props, {\n     onMouseDown: onContentMouseDown,\n     onMouseUp: onContentMouseUp,\n     ref: contentRef,\n     closable: closable,\n     ariaId: ariaId,\n     prefixCls: prefixCls,\n     visible: visible && animatedVisible,\n     onClose: onInternalClose,\n     onVisibleChanged: onDialogVisibleChanged,\n     motionName: (0, _util.getMotionName)(prefixCls, transitionName, animation)\n   }))));\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/typeof': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/objectSpread2': _req2,\n  '@babel/runtime/helpers/slicedToArray': _req3,\n  'react': _req4,\n  'classnames': _req5,\n  'rc-util/lib/KeyCode': _req6,\n  'rc-util/lib/hooks/useId': _req7,\n  'rc-util/lib/Dom/contains': _req8,\n  'rc-util/lib/pickAttrs': _req9,\n  './Mask': _req10,\n  '../util': _req11,\n  './Content': _req12,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}