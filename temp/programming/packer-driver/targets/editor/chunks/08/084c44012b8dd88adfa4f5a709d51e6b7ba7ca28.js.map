{"version":3,"sources":["file:///Users/longbow/node_modules/rc-input-number/lib/utils/numberUtil.js"],"names":["_cjsLoader","_req","__cjsMetaURL","url","define","exports","require","module","__filename","__dirname","Object","defineProperty","value","getDecupleSteps","getNumberPrecision","isE","num2str","trimNumber","validateNumber","_supportUtil","numStr","str","trim","negative","startsWith","slice","replace","concat","trimStr","splitNumber","split","integerStr","decimalStr","negativeStr","fullStr","number","String","Number","isNaN","includes","precision","indexOf","decimalMatch","match","length","MAX_SAFE_INTEGER","supportBigInt","BigInt","toString","MIN_SAFE_INTEGER","toFixed","num","test","step","stepStr","hasPoint","_cjsExports","___esModule","__esModule","_getDecupleSteps","_getNumberPrecision","_isE","_num2str","_trimNumber","_validateNumber"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from './supportUtil';\nlet _cjsExports;\nlet ___esModule;\nlet _getDecupleSteps;\nlet _getNumberPrecision;\nlet _isE;\nlet _num2str;\nlet _trimNumber;\nlet _validateNumber;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.getDecupleSteps = getDecupleSteps;\n exports.getNumberPrecision = getNumberPrecision;\n exports.isE = isE;\n exports.num2str = num2str;\n exports.trimNumber = trimNumber;\n exports.validateNumber = validateNumber;\n var _supportUtil = require(\"./supportUtil\");\n /**\n  * Format string number to readable number\n  */\n function trimNumber(numStr) {\n   var str = numStr.trim();\n   var negative = str.startsWith('-');\n   if (negative) {\n     str = str.slice(1);\n   }\n   str = str\n   // Remove decimal 0. `1.000` => `1.`, `1.100` => `1.1`\n   .replace(/(\\.\\d*[^0])0*$/, '$1')\n   // Remove useless decimal. `1.` => `1`\n   .replace(/\\.0*$/, '')\n   // Remove integer 0. `0001` => `1`, 000.1' => `.1`\n   .replace(/^0+/, '');\n   if (str.startsWith('.')) {\n     str = \"0\".concat(str);\n   }\n   var trimStr = str || '0';\n   var splitNumber = trimStr.split('.');\n   var integerStr = splitNumber[0] || '0';\n   var decimalStr = splitNumber[1] || '0';\n   if (integerStr === '0' && decimalStr === '0') {\n     negative = false;\n   }\n   var negativeStr = negative ? '-' : '';\n   return {\n     negative: negative,\n     negativeStr: negativeStr,\n     trimStr: trimStr,\n     integerStr: integerStr,\n     decimalStr: decimalStr,\n     fullStr: \"\".concat(negativeStr).concat(trimStr)\n   };\n }\n function isE(number) {\n   var str = String(number);\n   return !Number.isNaN(Number(str)) && str.includes('e');\n }\n /**\n  * [Legacy] Convert 1e-9 to 0.000000001.\n  * This may lose some precision if user really want 1e-9.\n  */\n function getNumberPrecision(number) {\n   var numStr = String(number);\n   if (isE(number)) {\n     var precision = Number(numStr.slice(numStr.indexOf('e-') + 2));\n     var decimalMatch = numStr.match(/\\.(\\d+)/);\n     if (decimalMatch === null || decimalMatch === void 0 ? void 0 : decimalMatch[1]) {\n       precision += decimalMatch[1].length;\n     }\n     return precision;\n   }\n   return numStr.includes('.') && validateNumber(numStr) ? numStr.length - numStr.indexOf('.') - 1 : 0;\n }\n /**\n  * Convert number (includes scientific notation) to -xxx.yyy format\n  */\n function num2str(number) {\n   var numStr = String(number);\n   if (isE(number)) {\n     if (number > Number.MAX_SAFE_INTEGER) {\n       return String((0, _supportUtil.supportBigInt)() ? BigInt(number).toString() : Number.MAX_SAFE_INTEGER);\n     }\n     if (number < Number.MIN_SAFE_INTEGER) {\n       return String((0, _supportUtil.supportBigInt)() ? BigInt(number).toString() : Number.MIN_SAFE_INTEGER);\n     }\n     numStr = number.toFixed(getNumberPrecision(numStr));\n   }\n   return trimNumber(numStr).fullStr;\n }\n function validateNumber(num) {\n   if (typeof num === 'number') {\n     return !Number.isNaN(num);\n   }\n   // Empty\n   if (!num) {\n     return false;\n   }\n   return (\n     // Normal type: 11.28\n     /^\\s*-?\\d+(\\.\\d+)?\\s*$/.test(num) ||\n     // Pre-number: 1.\n     /^\\s*-?\\d+\\.\\s*$/.test(num) ||\n     // Post-number: .1\n     /^\\s*-?\\.\\d+\\s*$/.test(num)\n   );\n }\n function getDecupleSteps(step) {\n   var stepStr = typeof step === 'number' ? num2str(step) : trimNumber(step).fullStr;\n   var hasPoint = stepStr.includes('.');\n   if (!hasPoint) {\n     return step + '0';\n   }\n   return trimNumber(stepStr.replace(/(\\d)\\.(\\d)/g, '$1$2.')).fullStr;\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_getDecupleSteps = module.exports.getDecupleSteps;\n_getNumberPrecision = module.exports.getNumberPrecision;\n_isE = module.exports.isE;\n_num2str = module.exports.num2str;\n_trimNumber = module.exports.trimNumber;\n_validateNumber = module.exports.validateNumber;\n\n}, () => ({\n  './supportUtil': _req,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}