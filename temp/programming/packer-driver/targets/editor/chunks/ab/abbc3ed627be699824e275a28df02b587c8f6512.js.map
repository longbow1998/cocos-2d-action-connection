{"version":3,"sources":["file:///Users/longbow/node_modules/rc-tabs/lib/hooks/useUpdate.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","url","define","exports","require","module","__filename","__dirname","_interopRequireDefault","Object","defineProperty","value","default","useUpdate","useUpdateState","_slicedToArray2","_useLayoutEffect","_react","callback","_useState","useState","_useState2","count","setCount","effectRef","useRef","callbackRef","current","useLayoutUpdateEffect","_callbackRef$current","call","defaultState","batchRef","_useState3","_useState4","forceUpdate","state","flushUpdate","forEach","updater","push","_cjsExports","___esModule","__esModule","_default","_useUpdateState"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req1} from 'rc-util/lib/hooks/useLayoutEffect';\nimport { __cjsMetaURL as _req2} from 'react';\nlet _cjsExports;\nlet ___esModule;\nlet _default;\nlet _useUpdateState;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.default = useUpdate;\n exports.useUpdateState = useUpdateState;\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var _useLayoutEffect = require(\"rc-util/lib/hooks/useLayoutEffect\");\n var _react = require(\"react\");\n /**\n  * Help to merge callback with `useLayoutEffect`.\n  * One time will only trigger once.\n  */\n function useUpdate(callback) {\n   var _useState = (0, _react.useState)(0),\n     _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n     count = _useState2[0],\n     setCount = _useState2[1];\n   var effectRef = (0, _react.useRef)(0);\n   var callbackRef = (0, _react.useRef)();\n   callbackRef.current = callback;\n\n   // Trigger on `useLayoutEffect`\n   (0, _useLayoutEffect.useLayoutUpdateEffect)(function () {\n     var _callbackRef$current;\n     (_callbackRef$current = callbackRef.current) === null || _callbackRef$current === void 0 ? void 0 : _callbackRef$current.call(callbackRef);\n   }, [count]);\n\n   // Trigger to update count\n   return function () {\n     if (effectRef.current !== count) {\n       return;\n     }\n     effectRef.current += 1;\n     setCount(effectRef.current);\n   };\n }\n function useUpdateState(defaultState) {\n   var batchRef = (0, _react.useRef)([]);\n   var _useState3 = (0, _react.useState)({}),\n     _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n     forceUpdate = _useState4[1];\n   var state = (0, _react.useRef)(typeof defaultState === 'function' ? defaultState() : defaultState);\n   var flushUpdate = useUpdate(function () {\n     var current = state.current;\n     batchRef.current.forEach(function (callback) {\n       current = callback(current);\n     });\n     batchRef.current = [];\n     state.current = current;\n     forceUpdate({});\n   });\n   function updater(callback) {\n     batchRef.current.push(callback);\n     flushUpdate();\n   }\n   return [state.current, updater];\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default = module.exports.default;\n_useUpdateState = module.exports.useUpdateState;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireDefault': _req,\n  '@babel/runtime/helpers/slicedToArray': _req0,\n  'rc-util/lib/hooks/useLayoutEffect': _req1,\n  'react': _req2,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}