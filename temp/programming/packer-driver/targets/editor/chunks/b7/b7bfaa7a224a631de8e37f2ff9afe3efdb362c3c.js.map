{"version":3,"sources":["file:///Users/longbow/node_modules/antd/lib/statistic/Countdown.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_extends2","React","_useForceUpdate","_reactNode","_Statistic","_utils","REFRESH_INTERVAL","getTime","Date","Countdown","props","_props$format","format","onChange","onFinish","forceUpdate","countdown","useRef","stopTimer","current","clearInterval","syncTimer","timestamp","now","setInterval","useEffect","formatter","formatValue","config","formatCountdown","valueRender","node","cloneElement","title","undefined","createElement","_default","memo","_cjsExports","___esModule","__esModule","_default0","default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from 'react';\nimport { __cjsMetaURL as _req3} from '../_util/hooks/useForceUpdate';\nimport { __cjsMetaURL as _req4} from '../_util/reactNode';\nimport { __cjsMetaURL as _req5} from './Statistic';\nimport { __cjsMetaURL as _req6} from './utils';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = void 0;\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var _useForceUpdate = _interopRequireDefault(require(\"../_util/hooks/useForceUpdate\"));\n var _reactNode = require(\"../_util/reactNode\");\n var _Statistic = _interopRequireDefault(require(\"./Statistic\"));\n var _utils = require(\"./utils\");\n var REFRESH_INTERVAL = 1000 / 30;\n function getTime(value) {\n   return new Date(value).getTime();\n }\n var Countdown = function Countdown(props) {\n   var value = props.value,\n     _props$format = props.format,\n     format = _props$format === void 0 ? 'HH:mm:ss' : _props$format,\n     onChange = props.onChange,\n     onFinish = props.onFinish;\n   var forceUpdate = (0, _useForceUpdate[\"default\"])();\n   var countdown = React.useRef(null);\n   var stopTimer = function stopTimer() {\n     onFinish === null || onFinish === void 0 ? void 0 : onFinish();\n     if (countdown.current) {\n       clearInterval(countdown.current);\n       countdown.current = null;\n     }\n   };\n   var syncTimer = function syncTimer() {\n     var timestamp = getTime(value);\n     if (timestamp >= Date.now()) {\n       countdown.current = setInterval(function () {\n         forceUpdate();\n         onChange === null || onChange === void 0 ? void 0 : onChange(timestamp - Date.now());\n         if (timestamp < Date.now()) {\n           stopTimer();\n         }\n       }, REFRESH_INTERVAL);\n     }\n   };\n   React.useEffect(function () {\n     syncTimer();\n     return function () {\n       if (countdown.current) {\n         clearInterval(countdown.current);\n         countdown.current = null;\n       }\n     };\n   }, [value]);\n   var formatter = function formatter(formatValue, config) {\n     return (0, _utils.formatCountdown)(formatValue, (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, config), {\n       format: format\n     }));\n   };\n   var valueRender = function valueRender(node) {\n     return (0, _reactNode.cloneElement)(node, {\n       title: undefined\n     });\n   };\n   return /*#__PURE__*/React.createElement(_Statistic[\"default\"], (0, _extends2[\"default\"])({}, props, {\n     valueRender: valueRender,\n     formatter: formatter\n   }));\n };\n var _default = /*#__PURE__*/React.memo(Countdown);\n exports[\"default\"] = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  'react': _req2,\n  '../_util/hooks/useForceUpdate': _req3,\n  '../_util/reactNode': _req4,\n  './Statistic': _req5,\n  './utils': _req6,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}