{"version":3,"sources":["file:///Users/longbow/node_modules/rc-resize-observer/lib/Collection.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","default","Object","defineProperty","value","Collection","CollectionContext","React","createContext","_ref","children","onBatchResize","resizeIdRef","useRef","resizeInfosRef","onCollectionResize","useContext","onResize","useCallback","size","element","data","current","currentId","push","Promise","resolve","then","createElement","Provider","_cjsExports","___esModule","__esModule","_Collection","_CollectionContext"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from 'react';\nlet _cjsExports;\nlet ___esModule;\nlet _Collection;\nlet _CollectionContext;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports.Collection = Collection;\n exports.CollectionContext = void 0;\n var React = _interopRequireWildcard(require(\"react\"));\n var CollectionContext = /*#__PURE__*/React.createContext(null);\n /**\n  * Collect all the resize event from children ResizeObserver\n  */\n exports.CollectionContext = CollectionContext;\n function Collection(_ref) {\n   var children = _ref.children,\n     onBatchResize = _ref.onBatchResize;\n   var resizeIdRef = React.useRef(0);\n   var resizeInfosRef = React.useRef([]);\n   var onCollectionResize = React.useContext(CollectionContext);\n   var onResize = React.useCallback(function (size, element, data) {\n     resizeIdRef.current += 1;\n     var currentId = resizeIdRef.current;\n     resizeInfosRef.current.push({\n       size: size,\n       element: element,\n       data: data\n     });\n     Promise.resolve().then(function () {\n       if (currentId === resizeIdRef.current) {\n         onBatchResize === null || onBatchResize === void 0 ? void 0 : onBatchResize(resizeInfosRef.current);\n         resizeInfosRef.current = [];\n       }\n     });\n     // Continue bubbling if parent exist\n     onCollectionResize === null || onCollectionResize === void 0 ? void 0 : onCollectionResize(size, element, data);\n   }, [onBatchResize, onCollectionResize]);\n   return /*#__PURE__*/React.createElement(CollectionContext.Provider, {\n     value: onResize\n   }, children);\n }\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_Collection = module.exports.Collection;\n_CollectionContext = module.exports.CollectionContext;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  'react': _req0,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}