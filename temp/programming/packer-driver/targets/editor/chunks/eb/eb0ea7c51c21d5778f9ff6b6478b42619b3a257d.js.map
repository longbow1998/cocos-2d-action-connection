{"version":3,"sources":["file:///Users/longbow/node_modules/antd/lib/anchor/Anchor.js"],"names":["_cjsLoader","_req","__cjsMetaURL","_req0","_req1","_req2","_req3","_req4","_req5","_req6","_req7","_req8","_req9","_req10","_req11","_req12","url","define","exports","require","module","__filename","__dirname","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","value","_extends2","_defineProperty2","_toConsumableArray2","_slicedToArray2","_classnames","_addEventListener","React","_affix","_configProvider","_getScroll","_scrollTo","_context","getDefaultContainer","window","getOffsetTop","element","container","getClientRects","length","rect","getBoundingClientRect","width","height","ownerDocument","documentElement","top","clientTop","sharpMatcherRegx","AnchorContent","props","_a","prefixCls","anchorPrefixCls","_props$className","className","style","offsetTop","_props$affix","affix","_props$showInkInFixed","showInkInFixed","children","bounds","targetOffset","onClick","onChange","getContainer","getCurrentAnchor","_React$useState","useState","_React$useState2","links","setLinks","_React$useState3","_React$useState4","activeLink","setActiveLink","activeLinkRef","useRef","wrapperRef","spanLinkNode","animating","_React$useContext","useContext","ConfigContext","direction","getTargetContainer","getCurrentContainer","dependencyListItem","JSON","stringify","registerLink","useCallback","link","includes","prev","concat","unregisterLink","filter","i","updateInk","linkNode","current","querySelector","clientHeight","getInternalCurrentAnchor","_links","_offsetTop","arguments","undefined","_bounds","linkSections","forEach","sharpLinkMatch","exec","toString","target","document","getElementById","push","maxSection","reduce","curr","setCurrentActiveLink","newLink","handleScroll","currentActiveLink","handleScrollTo","scrollTop","targetElement","eleOffsetTop","y","callback","inkClass","wrapperClass","anchorClass","wrapperStyle","maxHeight","anchorContent","createElement","ref","useEffect","scrollContainer","scrollEvent","remove","memoizedContextValue","useMemo","scrollTo","Provider","Anchor","customizePrefixCls","_React$useContext2","getPrefixCls","_default","_cjsExports","___esModule","__esModule","_default0","default"],"mappings":"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","sourcesContent":["import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nimport { __cjsMetaURL as _req} from '@babel/runtime/helpers/interopRequireWildcard';\nimport { __cjsMetaURL as _req0} from '@babel/runtime/helpers/interopRequireDefault';\nimport { __cjsMetaURL as _req1} from '@babel/runtime/helpers/extends';\nimport { __cjsMetaURL as _req2} from '@babel/runtime/helpers/defineProperty';\nimport { __cjsMetaURL as _req3} from '@babel/runtime/helpers/toConsumableArray';\nimport { __cjsMetaURL as _req4} from '@babel/runtime/helpers/slicedToArray';\nimport { __cjsMetaURL as _req5} from 'classnames';\nimport { __cjsMetaURL as _req6} from 'rc-util/lib/Dom/addEventListener';\nimport { __cjsMetaURL as _req7} from 'react';\nimport { __cjsMetaURL as _req8} from '../affix';\nimport { __cjsMetaURL as _req9} from '../config-provider';\nimport { __cjsMetaURL as _req10} from '../_util/getScroll';\nimport { __cjsMetaURL as _req11} from '../_util/scrollTo';\nimport { __cjsMetaURL as _req12} from './context';\nlet _cjsExports;\nlet ___esModule;\nlet _default0;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n \"use strict\";\n\n var _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\")[\"default\"];\n var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\")[\"default\"];\n Object.defineProperty(exports, \"__esModule\", {\n   value: true\n });\n exports[\"default\"] = void 0;\n var _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n var _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n var _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n var _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n var _classnames = _interopRequireDefault(require(\"classnames\"));\n var _addEventListener = _interopRequireDefault(require(\"rc-util/lib/Dom/addEventListener\"));\n var React = _interopRequireWildcard(require(\"react\"));\n var _affix = _interopRequireDefault(require(\"../affix\"));\n var _configProvider = require(\"../config-provider\");\n var _getScroll = _interopRequireDefault(require(\"../_util/getScroll\"));\n var _scrollTo = _interopRequireDefault(require(\"../_util/scrollTo\"));\n var _context = _interopRequireDefault(require(\"./context\"));\n function getDefaultContainer() {\n   return window;\n }\n function getOffsetTop(element, container) {\n   if (!element.getClientRects().length) {\n     return 0;\n   }\n   var rect = element.getBoundingClientRect();\n   if (rect.width || rect.height) {\n     if (container === window) {\n       container = element.ownerDocument.documentElement;\n       return rect.top - container.clientTop;\n     }\n     return rect.top - container.getBoundingClientRect().top;\n   }\n   return rect.top;\n }\n var sharpMatcherRegx = /#([\\S ]+)$/;\n var AnchorContent = function AnchorContent(props) {\n   var _a;\n   var prefixCls = props.anchorPrefixCls,\n     _props$className = props.className,\n     className = _props$className === void 0 ? '' : _props$className,\n     style = props.style,\n     offsetTop = props.offsetTop,\n     _props$affix = props.affix,\n     affix = _props$affix === void 0 ? true : _props$affix,\n     _props$showInkInFixed = props.showInkInFixed,\n     showInkInFixed = _props$showInkInFixed === void 0 ? false : _props$showInkInFixed,\n     children = props.children,\n     bounds = props.bounds,\n     targetOffset = props.targetOffset,\n     onClick = props.onClick,\n     onChange = props.onChange,\n     getContainer = props.getContainer,\n     getCurrentAnchor = props.getCurrentAnchor;\n   var _React$useState = React.useState([]),\n     _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n     links = _React$useState2[0],\n     setLinks = _React$useState2[1];\n   var _React$useState3 = React.useState(null),\n     _React$useState4 = (0, _slicedToArray2[\"default\"])(_React$useState3, 2),\n     activeLink = _React$useState4[0],\n     setActiveLink = _React$useState4[1];\n   var activeLinkRef = React.useRef(activeLink);\n   var wrapperRef = React.useRef(null);\n   var spanLinkNode = React.useRef(null);\n   var animating = React.useRef(false);\n   var _React$useContext = React.useContext(_configProvider.ConfigContext),\n     direction = _React$useContext.direction,\n     getTargetContainer = _React$useContext.getTargetContainer;\n   var getCurrentContainer = (_a = getContainer !== null && getContainer !== void 0 ? getContainer : getTargetContainer) !== null && _a !== void 0 ? _a : getDefaultContainer;\n   var dependencyListItem = JSON.stringify(links);\n   var registerLink = React.useCallback(function (link) {\n     if (!links.includes(link)) {\n       setLinks(function (prev) {\n         return [].concat((0, _toConsumableArray2[\"default\"])(prev), [link]);\n       });\n     }\n   }, [dependencyListItem]);\n   var unregisterLink = React.useCallback(function (link) {\n     if (links.includes(link)) {\n       setLinks(function (prev) {\n         return prev.filter(function (i) {\n           return i !== link;\n         });\n       });\n     }\n   }, [dependencyListItem]);\n   var updateInk = function updateInk() {\n     var _a;\n     var linkNode = (_a = wrapperRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(\".\".concat(prefixCls, \"-link-title-active\"));\n     if (linkNode && spanLinkNode.current) {\n       spanLinkNode.current.style.top = \"\".concat(linkNode.offsetTop + linkNode.clientHeight / 2 - 4.5, \"px\");\n     }\n   };\n   var getInternalCurrentAnchor = function getInternalCurrentAnchor(_links) {\n     var _offsetTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n     var _bounds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5;\n     var linkSections = [];\n     var container = getCurrentContainer();\n     _links.forEach(function (link) {\n       var sharpLinkMatch = sharpMatcherRegx.exec(link === null || link === void 0 ? void 0 : link.toString());\n       if (!sharpLinkMatch) {\n         return;\n       }\n       var target = document.getElementById(sharpLinkMatch[1]);\n       if (target) {\n         var top = getOffsetTop(target, container);\n         if (top < _offsetTop + _bounds) {\n           linkSections.push({\n             link: link,\n             top: top\n           });\n         }\n       }\n     });\n     if (linkSections.length) {\n       var maxSection = linkSections.reduce(function (prev, curr) {\n         return curr.top > prev.top ? curr : prev;\n       });\n       return maxSection.link;\n     }\n     return '';\n   };\n   var setCurrentActiveLink = function setCurrentActiveLink(link) {\n     if (activeLinkRef.current === link) {\n       return;\n     }\n     // https://github.com/ant-design/ant-design/issues/30584\n     var newLink = typeof getCurrentAnchor === 'function' ? getCurrentAnchor(link) : link;\n     setActiveLink(newLink);\n     activeLinkRef.current = newLink;\n     // onChange should respect the original link (which may caused by\n     // window scroll or user click), not the new link\n     onChange === null || onChange === void 0 ? void 0 : onChange(link);\n   };\n   var handleScroll = React.useCallback(function () {\n     if (animating.current) {\n       return;\n     }\n     if (typeof getCurrentAnchor === 'function') {\n       return;\n     }\n     var currentActiveLink = getInternalCurrentAnchor(links, targetOffset !== undefined ? targetOffset : offsetTop || 0, bounds);\n     setCurrentActiveLink(currentActiveLink);\n   }, [dependencyListItem, targetOffset, offsetTop]);\n   var handleScrollTo = React.useCallback(function (link) {\n     setCurrentActiveLink(link);\n     var container = getCurrentContainer();\n     var scrollTop = (0, _getScroll[\"default\"])(container, true);\n     var sharpLinkMatch = sharpMatcherRegx.exec(link);\n     if (!sharpLinkMatch) {\n       return;\n     }\n     var targetElement = document.getElementById(sharpLinkMatch[1]);\n     if (!targetElement) {\n       return;\n     }\n     var eleOffsetTop = getOffsetTop(targetElement, container);\n     var y = scrollTop + eleOffsetTop;\n     y -= targetOffset !== undefined ? targetOffset : offsetTop || 0;\n     animating.current = true;\n     (0, _scrollTo[\"default\"])(y, {\n       getContainer: getCurrentContainer,\n       callback: function callback() {\n         animating.current = false;\n       }\n     });\n   }, [targetOffset, offsetTop]);\n   var inkClass = (0, _classnames[\"default\"])((0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-ink-ball-visible\"), activeLink), \"\".concat(prefixCls, \"-ink-ball\"));\n   var wrapperClass = (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-wrapper\"), (0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), className);\n   var anchorClass = (0, _classnames[\"default\"])(prefixCls, (0, _defineProperty2[\"default\"])({}, \"\".concat(prefixCls, \"-fixed\"), !affix && !showInkInFixed));\n   var wrapperStyle = (0, _extends2[\"default\"])({\n     maxHeight: offsetTop ? \"calc(100vh - \".concat(offsetTop, \"px)\") : '100vh'\n   }, style);\n   var anchorContent = /*#__PURE__*/React.createElement(\"div\", {\n     ref: wrapperRef,\n     className: wrapperClass,\n     style: wrapperStyle\n   }, /*#__PURE__*/React.createElement(\"div\", {\n     className: anchorClass\n   }, /*#__PURE__*/React.createElement(\"div\", {\n     className: \"\".concat(prefixCls, \"-ink\")\n   }, /*#__PURE__*/React.createElement(\"span\", {\n     className: inkClass,\n     ref: spanLinkNode\n   })), children));\n   React.useEffect(function () {\n     var scrollContainer = getCurrentContainer();\n     var scrollEvent = (0, _addEventListener[\"default\"])(scrollContainer, 'scroll', handleScroll);\n     handleScroll();\n     return function () {\n       scrollEvent === null || scrollEvent === void 0 ? void 0 : scrollEvent.remove();\n     };\n   }, [dependencyListItem]);\n   React.useEffect(function () {\n     if (typeof getCurrentAnchor === 'function') {\n       setCurrentActiveLink(getCurrentAnchor(activeLinkRef.current || ''));\n     }\n   }, [getCurrentAnchor]);\n   React.useEffect(function () {\n     updateInk();\n   }, [getCurrentAnchor, dependencyListItem, activeLink]);\n   var memoizedContextValue = React.useMemo(function () {\n     return {\n       registerLink: registerLink,\n       unregisterLink: unregisterLink,\n       scrollTo: handleScrollTo,\n       activeLink: activeLink,\n       onClick: onClick\n     };\n   }, [activeLink, onClick, handleScrollTo]);\n   return /*#__PURE__*/React.createElement(_context[\"default\"].Provider, {\n     value: memoizedContextValue\n   }, affix ? /*#__PURE__*/React.createElement(_affix[\"default\"], {\n     offsetTop: offsetTop,\n     target: getCurrentContainer\n   }, anchorContent) : anchorContent);\n };\n var Anchor = function Anchor(props) {\n   var customizePrefixCls = props.prefixCls;\n   var _React$useContext2 = React.useContext(_configProvider.ConfigContext),\n     getPrefixCls = _React$useContext2.getPrefixCls;\n   var anchorPrefixCls = getPrefixCls('anchor', customizePrefixCls);\n   return /*#__PURE__*/React.createElement(AnchorContent, (0, _extends2[\"default\"])({}, props, {\n     anchorPrefixCls: anchorPrefixCls\n   }));\n };\n var _default = Anchor;\n exports[\"default\"] = _default;\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n___esModule = module.exports.__esModule;\n_default0 = module.exports.default;\n\n}, () => ({\n  '@babel/runtime/helpers/interopRequireWildcard': _req,\n  '@babel/runtime/helpers/interopRequireDefault': _req0,\n  '@babel/runtime/helpers/extends': _req1,\n  '@babel/runtime/helpers/defineProperty': _req2,\n  '@babel/runtime/helpers/toConsumableArray': _req3,\n  '@babel/runtime/helpers/slicedToArray': _req4,\n  'classnames': _req5,\n  'rc-util/lib/Dom/addEventListener': _req6,\n  'react': _req7,\n  '../affix': _req8,\n  '../config-provider': _req9,\n  '../_util/getScroll': _req10,\n  '../_util/scrollTo': _req11,\n  './context': _req12,\n}));\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n"]}